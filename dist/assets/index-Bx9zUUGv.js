function Gx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Kx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fy={exports:{}},ac={},py={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uo=Symbol.for("react.element"),Qx=Symbol.for("react.portal"),Yx=Symbol.for("react.fragment"),Xx=Symbol.for("react.strict_mode"),Jx=Symbol.for("react.profiler"),Zx=Symbol.for("react.provider"),e1=Symbol.for("react.context"),t1=Symbol.for("react.forward_ref"),n1=Symbol.for("react.suspense"),r1=Symbol.for("react.memo"),s1=Symbol.for("react.lazy"),Em=Symbol.iterator;function i1(t){return t===null||typeof t!="object"?null:(t=Em&&t[Em]||t["@@iterator"],typeof t=="function"?t:null)}var my={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gy=Object.assign,vy={};function si(t,e,n){this.props=t,this.context=e,this.refs=vy,this.updater=n||my}si.prototype.isReactComponent={};si.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};si.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yy(){}yy.prototype=si.prototype;function kd(t,e,n){this.props=t,this.context=e,this.refs=vy,this.updater=n||my}var Nd=kd.prototype=new yy;Nd.constructor=kd;gy(Nd,si.prototype);Nd.isPureReactComponent=!0;var xm=Array.isArray,_y=Object.prototype.hasOwnProperty,Ad={current:null},wy={key:!0,ref:!0,__self:!0,__source:!0};function Ey(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_y.call(e,r)&&!wy.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Uo,type:t,key:i,ref:o,props:s,_owner:Ad.current}}function o1(t,e){return{$$typeof:Uo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uo}function a1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tm=/\/+/g;function du(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a1(""+t.key):e.toString(36)}function Ha(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uo:case Qx:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+du(o,0):r,xm(s)?(n="",t!=null&&(n=t.replace(Tm,"$&/")+"/"),Ha(s,e,n,"",function(h){return h})):s!=null&&(jd(s)&&(s=o1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xm(t))for(var c=0;c<t.length;c++){i=t[c];var u=r+du(i,c);o+=Ha(i,e,n,u,s)}else if(u=i1(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=r+du(i,c++),o+=Ha(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xa(t,e,n){if(t==null)return t;var r=[],s=0;return Ha(t,r,"","",function(i){return e.call(n,i,s++)}),r}function l1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ct={current:null},Ga={transition:null},c1={ReactCurrentDispatcher:ct,ReactCurrentBatchConfig:Ga,ReactCurrentOwner:Ad};function xy(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:xa,forEach:function(t,e,n){xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xa(t,function(){e++}),e},toArray:function(t){return xa(t,function(e){return e})||[]},only:function(t){if(!jd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=si;ne.Fragment=Yx;ne.Profiler=Jx;ne.PureComponent=kd;ne.StrictMode=Xx;ne.Suspense=n1;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c1;ne.act=xy;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gy({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ad.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)_y.call(e,u)&&!wy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Uo,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:e1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zx,_context:t},t.Consumer=t};ne.createElement=Ey;ne.createFactory=function(t){var e=Ey.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:t1,render:t}};ne.isValidElement=jd;ne.lazy=function(t){return{$$typeof:s1,_payload:{_status:-1,_result:t},_init:l1}};ne.memo=function(t,e){return{$$typeof:r1,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Ga.transition;Ga.transition={};try{t()}finally{Ga.transition=e}};ne.unstable_act=xy;ne.useCallback=function(t,e){return ct.current.useCallback(t,e)};ne.useContext=function(t){return ct.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return ct.current.useDeferredValue(t)};ne.useEffect=function(t,e){return ct.current.useEffect(t,e)};ne.useId=function(){return ct.current.useId()};ne.useImperativeHandle=function(t,e,n){return ct.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return ct.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return ct.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return ct.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return ct.current.useReducer(t,e,n)};ne.useRef=function(t){return ct.current.useRef(t)};ne.useState=function(t){return ct.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return ct.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return ct.current.useTransition()};ne.version="18.3.1";py.exports=ne;var P=py.exports;const Ty=Kx(P),u1=Gx({__proto__:null,default:Ty},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1=P,d1=Symbol.for("react.element"),f1=Symbol.for("react.fragment"),p1=Object.prototype.hasOwnProperty,m1=h1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g1={key:!0,ref:!0,__self:!0,__source:!0};function Iy(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)p1.call(e,r)&&!g1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:d1,type:t,key:i,ref:o,props:s,_owner:m1.current}}ac.Fragment=f1;ac.jsx=Iy;ac.jsxs=Iy;fy.exports=ac;var a=fy.exports,Ju={},Sy={exports:{}},St={},Cy={exports:{}},ky={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,X){var ee=$.length;$.push(X);e:for(;0<ee;){var ve=ee-1>>>1,ue=$[ve];if(0<s(ue,X))$[ve]=X,$[ee]=ue,ee=ve;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var X=$[0],ee=$.pop();if(ee!==X){$[0]=ee;e:for(var ve=0,ue=$.length,Ce=ue>>>1;ve<Ce;){var ln=2*(ve+1)-1,cn=$[ln],un=ln+1,hn=$[un];if(0>s(cn,ee))un<ue&&0>s(hn,cn)?($[ve]=hn,$[un]=ee,ve=un):($[ve]=cn,$[ln]=ee,ve=ln);else if(un<ue&&0>s(hn,ee))$[ve]=hn,$[un]=ee,ve=un;else break e}}return X}function s($,X){var ee=$.sortIndex-X.sortIndex;return ee!==0?ee:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],h=[],p=1,m=null,y=3,x=!1,A=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=$)r(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(h)}}function D($){if(N=!1,w($),!A)if(n(u)!==null)A=!0,gi(F);else{var X=n(h);X!==null&&an(D,X.startTime-$)}}function F($,X){A=!1,N&&(N=!1,v(E),E=-1),x=!0;var ee=y;try{for(w(X),m=n(u);m!==null&&(!(m.expirationTime>X)||$&&!j());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,y=m.priorityLevel;var ue=ve(m.expirationTime<=X);X=t.unstable_now(),typeof ue=="function"?m.callback=ue:m===n(u)&&r(u),w(X)}else r(u);m=n(u)}if(m!==null)var Ce=!0;else{var ln=n(h);ln!==null&&an(D,ln.startTime-X),Ce=!1}return Ce}finally{m=null,y=ee,x=!1}}var z=!1,I=null,E=-1,T=5,C=-1;function j(){return!(t.unstable_now()-C<T)}function b(){if(I!==null){var $=t.unstable_now();C=$;var X=!0;try{X=I(!0,$)}finally{X?k():(z=!1,I=null)}}else z=!1}var k;if(typeof g=="function")k=function(){g(b)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Ar=kt.port2;kt.port1.onmessage=b,k=function(){Ar.postMessage(null)}}else k=function(){S(b,0)};function gi($){I=$,z||(z=!0,k())}function an($,X){E=S(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){A||x||(A=!0,gi(F))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var ee=y;y=X;try{return $()}finally{y=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=y;y=$;try{return X()}finally{y=ee}},t.unstable_scheduleCallback=function($,X,ee){var ve=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ve+ee:ve):ee=ve,$){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ee+ue,$={id:p++,callback:X,priorityLevel:$,startTime:ee,expirationTime:ue,sortIndex:-1},ee>ve?($.sortIndex=ee,e(h,$),n(u)===null&&$===n(h)&&(N?(v(E),E=-1):N=!0,an(D,ee-ve))):($.sortIndex=ue,e(u,$),A||x||(A=!0,gi(F))),$},t.unstable_shouldYield=j,t.unstable_wrapCallback=function($){var X=y;return function(){var ee=y;y=X;try{return $.apply(this,arguments)}finally{y=ee}}}})(ky);Cy.exports=ky;var v1=Cy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1=P,Tt=v1;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ny=new Set,co={};function rs(t,e){$s(t,e),$s(t+"Capture",e)}function $s(t,e){for(co[t]=e,t=0;t<e.length;t++)Ny.add(e[t])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=Object.prototype.hasOwnProperty,_1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Im={},Sm={};function w1(t){return Zu.call(Sm,t)?!0:Zu.call(Im,t)?!1:_1.test(t)?Sm[t]=!0:(Im[t]=!0,!1)}function E1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x1(t,e,n,r){if(e===null||typeof e>"u"||E1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pd=/[\-:]([a-z])/g;function Rd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pd,Rd);He[e]=new ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pd,Rd);He[e]=new ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pd,Rd);He[e]=new ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new ut(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function bd(t,e,n,r){var s=He.hasOwnProperty(e)?He[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x1(e,n,s,r)&&(n=null),r||s===null?w1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bn=y1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ta=Symbol.for("react.element"),ws=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),jy=Symbol.for("react.context"),Od=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),nh=Symbol.for("react.suspense_list"),Ld=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Py=Symbol.for("react.offscreen"),Cm=Symbol.iterator;function ji(t){return t===null||typeof t!="object"?null:(t=Cm&&t[Cm]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,fu;function Ui(t){if(fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fu=e&&e[1]||""}return`
`+fu+t}var pu=!1;function mu(t,e){if(!t||pu)return"";pu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{pu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ui(t):""}function T1(t){switch(t.tag){case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 2:case 15:return t=mu(t.type,!1),t;case 11:return t=mu(t.type.render,!1),t;case 1:return t=mu(t.type,!0),t;default:return""}}function rh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Es:return"Fragment";case ws:return"Portal";case eh:return"Profiler";case Dd:return"StrictMode";case th:return"Suspense";case nh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jy:return(t.displayName||"Context")+".Consumer";case Ay:return(t._context.displayName||"Context")+".Provider";case Od:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ld:return e=t.displayName||null,e!==null?e:rh(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return rh(t(e))}catch{}}return null}function I1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rh(e);case 8:return e===Dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ry(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S1(t){var e=Ry(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ia(t){t._valueTracker||(t._valueTracker=S1(t))}function by(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ry(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sh(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function km(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dy(t,e){e=e.checked,e!=null&&bd(t,"checked",e,!1)}function ih(t,e){Dy(t,e);var n=mr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oh(t,e.type,n):e.hasOwnProperty("defaultValue")&&oh(t,e.type,mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function oh(t,e,n){(e!=="number"||fl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zi=Array.isArray;function Rs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ah(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Am(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(zi(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mr(n)}}function Oy(t,e){var n=mr(e.value),r=mr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ly(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ly(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sa,Vy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C1=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(t){C1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qi[e]=Qi[t]})});function My(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qi.hasOwnProperty(t)&&Qi[t]?(""+e).trim():e+"px"}function Fy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=My(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var k1=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ch(t,e){if(e){if(k1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function uh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=null;function Vd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dh=null,bs=null,Ds=null;function Pm(t){if(t=Bo(t)){if(typeof dh!="function")throw Error(M(280));var e=t.stateNode;e&&(e=dc(e),dh(t.stateNode,t.type,e))}}function Uy(t){bs?Ds?Ds.push(t):Ds=[t]:bs=t}function zy(){if(bs){var t=bs,e=Ds;if(Ds=bs=null,Pm(t),e)for(t=0;t<e.length;t++)Pm(e[t])}}function $y(t,e){return t(e)}function By(){}var gu=!1;function Wy(t,e,n){if(gu)return t(e,n);gu=!0;try{return $y(t,e,n)}finally{gu=!1,(bs!==null||Ds!==null)&&(By(),zy())}}function ho(t,e){var n=t.stateNode;if(n===null)return null;var r=dc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var fh=!1;if(Sn)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){fh=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{fh=!1}function N1(t,e,n,r,s,i,o,c,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Yi=!1,pl=null,ml=!1,ph=null,A1={onError:function(t){Yi=!0,pl=t}};function j1(t,e,n,r,s,i,o,c,u){Yi=!1,pl=null,N1.apply(A1,arguments)}function P1(t,e,n,r,s,i,o,c,u){if(j1.apply(this,arguments),Yi){if(Yi){var h=pl;Yi=!1,pl=null}else throw Error(M(198));ml||(ml=!0,ph=h)}}function ss(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rm(t){if(ss(t)!==t)throw Error(M(188))}function R1(t){var e=t.alternate;if(!e){if(e=ss(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rm(s),t;if(i===r)return Rm(s),e;i=i.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function Hy(t){return t=R1(t),t!==null?Gy(t):null}function Gy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gy(t);if(e!==null)return e;t=t.sibling}return null}var Ky=Tt.unstable_scheduleCallback,bm=Tt.unstable_cancelCallback,b1=Tt.unstable_shouldYield,D1=Tt.unstable_requestPaint,Ae=Tt.unstable_now,O1=Tt.unstable_getCurrentPriorityLevel,Md=Tt.unstable_ImmediatePriority,Qy=Tt.unstable_UserBlockingPriority,gl=Tt.unstable_NormalPriority,L1=Tt.unstable_LowPriority,Yy=Tt.unstable_IdlePriority,lc=null,Jt=null;function V1(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(lc,t,void 0,(t.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:U1,M1=Math.log,F1=Math.LN2;function U1(t){return t>>>=0,t===0?32:31-(M1(t)/F1|0)|0}var Ca=64,ka=4194304;function $i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=$i(c):(i&=o,i!==0&&(r=$i(i)))}else o=n&~s,o!==0?r=$i(o):i!==0&&(r=$i(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wt(e),s=1<<n,r|=t[n],e&=~s;return r}function z1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Wt(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&r)&&(s[o]=z1(c,e)):u<=e&&(t.expiredLanes|=c),i&=~c}}function mh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xy(){var t=Ca;return Ca<<=1,!(Ca&4194240)&&(Ca=64),t}function vu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wt(e),t[e]=n}function B1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Wt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ce=0;function Jy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zy,Ud,e_,t_,n_,gh=!1,Na=[],er=null,tr=null,nr=null,fo=new Map,po=new Map,Hn=[],W1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dm(t,e){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":fo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(e.pointerId)}}function Ri(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Bo(e),e!==null&&Ud(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function q1(t,e,n,r,s){switch(e){case"focusin":return er=Ri(er,t,e,n,r,s),!0;case"dragenter":return tr=Ri(tr,t,e,n,r,s),!0;case"mouseover":return nr=Ri(nr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return fo.set(i,Ri(fo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,po.set(i,Ri(po.get(i)||null,t,e,n,r,s)),!0}return!1}function r_(t){var e=Vr(t.target);if(e!==null){var n=ss(e);if(n!==null){if(e=n.tag,e===13){if(e=qy(n),e!==null){t.blockedOn=e,n_(t.priority,function(){e_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ka(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hh=r,n.target.dispatchEvent(r),hh=null}else return e=Bo(n),e!==null&&Ud(e),t.blockedOn=n,!1;e.shift()}return!0}function Om(t,e,n){Ka(t)&&n.delete(e)}function H1(){gh=!1,er!==null&&Ka(er)&&(er=null),tr!==null&&Ka(tr)&&(tr=null),nr!==null&&Ka(nr)&&(nr=null),fo.forEach(Om),po.forEach(Om)}function bi(t,e){t.blockedOn===e&&(t.blockedOn=null,gh||(gh=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,H1)))}function mo(t){function e(s){return bi(s,t)}if(0<Na.length){bi(Na[0],t);for(var n=1;n<Na.length;n++){var r=Na[n];r.blockedOn===t&&(r.blockedOn=null)}}for(er!==null&&bi(er,t),tr!==null&&bi(tr,t),nr!==null&&bi(nr,t),fo.forEach(e),po.forEach(e),n=0;n<Hn.length;n++)r=Hn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hn.length&&(n=Hn[0],n.blockedOn===null);)r_(n),n.blockedOn===null&&Hn.shift()}var Os=bn.ReactCurrentBatchConfig,yl=!0;function G1(t,e,n,r){var s=ce,i=Os.transition;Os.transition=null;try{ce=1,zd(t,e,n,r)}finally{ce=s,Os.transition=i}}function K1(t,e,n,r){var s=ce,i=Os.transition;Os.transition=null;try{ce=4,zd(t,e,n,r)}finally{ce=s,Os.transition=i}}function zd(t,e,n,r){if(yl){var s=vh(t,e,n,r);if(s===null)ku(t,e,r,_l,n),Dm(t,r);else if(q1(s,t,e,n,r))r.stopPropagation();else if(Dm(t,r),e&4&&-1<W1.indexOf(t)){for(;s!==null;){var i=Bo(s);if(i!==null&&Zy(i),i=vh(t,e,n,r),i===null&&ku(t,e,r,_l,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ku(t,e,r,null,n)}}var _l=null;function vh(t,e,n,r){if(_l=null,t=Vd(r),t=Vr(t),t!==null)if(e=ss(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _l=t,null}function s_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O1()){case Md:return 1;case Qy:return 4;case gl:case L1:return 16;case Yy:return 536870912;default:return 16}default:return 16}}var Yn=null,$d=null,Qa=null;function i_(){if(Qa)return Qa;var t,e=$d,n=e.length,r,s="value"in Yn?Yn.value:Yn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Qa=s.slice(t,1<r?1-r:void 0)}function Ya(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Aa(){return!0}function Lm(){return!1}function Ct(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Aa:Lm,this.isPropagationStopped=Lm,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),e}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bd=Ct(ii),$o=we({},ii,{view:0,detail:0}),Q1=Ct($o),yu,_u,Di,cc=we({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(yu=t.screenX-Di.screenX,_u=t.screenY-Di.screenY):_u=yu=0,Di=t),yu)},movementY:function(t){return"movementY"in t?t.movementY:_u}}),Vm=Ct(cc),Y1=we({},cc,{dataTransfer:0}),X1=Ct(Y1),J1=we({},$o,{relatedTarget:0}),wu=Ct(J1),Z1=we({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),eT=Ct(Z1),tT=we({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nT=Ct(tT),rT=we({},ii,{data:0}),Mm=Ct(rT),sT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oT[t])?!!e[t]:!1}function Wd(){return aT}var lT=we({},$o,{key:function(t){if(t.key){var e=sT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ya(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wd,charCode:function(t){return t.type==="keypress"?Ya(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ya(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cT=Ct(lT),uT=we({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fm=Ct(uT),hT=we({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wd}),dT=Ct(hT),fT=we({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),pT=Ct(fT),mT=we({},cc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gT=Ct(mT),vT=[9,13,27,32],qd=Sn&&"CompositionEvent"in window,Xi=null;Sn&&"documentMode"in document&&(Xi=document.documentMode);var yT=Sn&&"TextEvent"in window&&!Xi,o_=Sn&&(!qd||Xi&&8<Xi&&11>=Xi),Um=" ",zm=!1;function a_(t,e){switch(t){case"keyup":return vT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function _T(t,e){switch(t){case"compositionend":return l_(e);case"keypress":return e.which!==32?null:(zm=!0,Um);case"textInput":return t=e.data,t===Um&&zm?null:t;default:return null}}function wT(t,e){if(xs)return t==="compositionend"||!qd&&a_(t,e)?(t=i_(),Qa=$d=Yn=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o_&&e.locale!=="ko"?null:e.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ET[t.type]:e==="textarea"}function c_(t,e,n,r){Uy(r),e=wl(e,"onChange"),0<e.length&&(n=new Bd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ji=null,go=null;function xT(t){w_(t,0)}function uc(t){var e=Ss(t);if(by(e))return t}function TT(t,e){if(t==="change")return e}var u_=!1;if(Sn){var Eu;if(Sn){var xu="oninput"in document;if(!xu){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),xu=typeof Bm.oninput=="function"}Eu=xu}else Eu=!1;u_=Eu&&(!document.documentMode||9<document.documentMode)}function Wm(){Ji&&(Ji.detachEvent("onpropertychange",h_),go=Ji=null)}function h_(t){if(t.propertyName==="value"&&uc(go)){var e=[];c_(e,go,t,Vd(t)),Wy(xT,e)}}function IT(t,e,n){t==="focusin"?(Wm(),Ji=e,go=n,Ji.attachEvent("onpropertychange",h_)):t==="focusout"&&Wm()}function ST(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uc(go)}function CT(t,e){if(t==="click")return uc(e)}function kT(t,e){if(t==="input"||t==="change")return uc(e)}function NT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:NT;function vo(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zu.call(e,s)||!Gt(t[s],e[s]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hm(t,e){var n=qm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qm(n)}}function d_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?d_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f_(){for(var t=window,e=fl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fl(t.document)}return e}function Hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AT(t){var e=f_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&d_(n.ownerDocument.documentElement,n)){if(r!==null&&Hd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Hm(n,i);var o=Hm(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jT=Sn&&"documentMode"in document&&11>=document.documentMode,Ts=null,yh=null,Zi=null,_h=!1;function Gm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_h||Ts==null||Ts!==fl(r)||(r=Ts,"selectionStart"in r&&Hd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zi&&vo(Zi,r)||(Zi=r,r=wl(yh,"onSelect"),0<r.length&&(e=new Bd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ts)))}function ja(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Tu={},p_={};Sn&&(p_=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function hc(t){if(Tu[t])return Tu[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in p_)return Tu[t]=e[n];return t}var m_=hc("animationend"),g_=hc("animationiteration"),v_=hc("animationstart"),y_=hc("transitionend"),__=new Map,Km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){__.set(t,e),rs(e,[t])}for(var Iu=0;Iu<Km.length;Iu++){var Su=Km[Iu],PT=Su.toLowerCase(),RT=Su[0].toUpperCase()+Su.slice(1);Tr(PT,"on"+RT)}Tr(m_,"onAnimationEnd");Tr(g_,"onAnimationIteration");Tr(v_,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(y_,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function Qm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P1(r,e,void 0,t),t.currentTarget=null}function w_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;Qm(s,c,h),i=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,h=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;Qm(s,c,h),i=u}}}if(ml)throw t=ph,ml=!1,ph=null,t}function pe(t,e){var n=e[Ih];n===void 0&&(n=e[Ih]=new Set);var r=t+"__bubble";n.has(r)||(E_(e,t,2,!1),n.add(r))}function Cu(t,e,n){var r=0;e&&(r|=4),E_(n,t,r,e)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function yo(t){if(!t[Pa]){t[Pa]=!0,Ny.forEach(function(n){n!=="selectionchange"&&(bT.has(n)||Cu(n,!1,t),Cu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pa]||(e[Pa]=!0,Cu("selectionchange",!1,e))}}function E_(t,e,n,r){switch(s_(e)){case 1:var s=G1;break;case 4:s=K1;break;default:s=zd}n=s.bind(null,e,n,t),s=void 0,!fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ku(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Vr(c),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}c=c.parentNode}}r=r.return}Wy(function(){var h=i,p=Vd(n),m=[];e:{var y=__.get(t);if(y!==void 0){var x=Bd,A=t;switch(t){case"keypress":if(Ya(n)===0)break e;case"keydown":case"keyup":x=cT;break;case"focusin":A="focus",x=wu;break;case"focusout":A="blur",x=wu;break;case"beforeblur":case"afterblur":x=wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=X1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=dT;break;case m_:case g_:case v_:x=eT;break;case y_:x=pT;break;case"scroll":x=Q1;break;case"wheel":x=gT;break;case"copy":case"cut":case"paste":x=nT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Fm}var N=(e&4)!==0,S=!N&&t==="scroll",v=N?y!==null?y+"Capture":null:y;N=[];for(var g=h,w;g!==null;){w=g;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,v!==null&&(D=ho(g,v),D!=null&&N.push(_o(g,D,w)))),S)break;g=g.return}0<N.length&&(y=new x(y,A,null,n,p),m.push({event:y,listeners:N}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",y&&n!==hh&&(A=n.relatedTarget||n.fromElement)&&(Vr(A)||A[Cn]))break e;if((x||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,x?(A=n.relatedTarget||n.toElement,x=h,A=A?Vr(A):null,A!==null&&(S=ss(A),A!==S||A.tag!==5&&A.tag!==6)&&(A=null)):(x=null,A=h),x!==A)){if(N=Vm,D="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(N=Fm,D="onPointerLeave",v="onPointerEnter",g="pointer"),S=x==null?y:Ss(x),w=A==null?y:Ss(A),y=new N(D,g+"leave",x,n,p),y.target=S,y.relatedTarget=w,D=null,Vr(p)===h&&(N=new N(v,g+"enter",A,n,p),N.target=w,N.relatedTarget=S,D=N),S=D,x&&A)t:{for(N=x,v=A,g=0,w=N;w;w=ps(w))g++;for(w=0,D=v;D;D=ps(D))w++;for(;0<g-w;)N=ps(N),g--;for(;0<w-g;)v=ps(v),w--;for(;g--;){if(N===v||v!==null&&N===v.alternate)break t;N=ps(N),v=ps(v)}N=null}else N=null;x!==null&&Ym(m,y,x,N,!1),A!==null&&S!==null&&Ym(m,S,A,N,!0)}}e:{if(y=h?Ss(h):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var F=TT;else if($m(y))if(u_)F=kT;else{F=ST;var z=IT}else(x=y.nodeName)&&x.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=CT);if(F&&(F=F(t,h))){c_(m,F,n,p);break e}z&&z(t,y,h),t==="focusout"&&(z=y._wrapperState)&&z.controlled&&y.type==="number"&&oh(y,"number",y.value)}switch(z=h?Ss(h):window,t){case"focusin":($m(z)||z.contentEditable==="true")&&(Ts=z,yh=h,Zi=null);break;case"focusout":Zi=yh=Ts=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,Gm(m,n,p);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":Gm(m,n,p)}var I;if(qd)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xs?a_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(o_&&n.locale!=="ko"&&(xs||E!=="onCompositionStart"?E==="onCompositionEnd"&&xs&&(I=i_()):(Yn=p,$d="value"in Yn?Yn.value:Yn.textContent,xs=!0)),z=wl(h,E),0<z.length&&(E=new Mm(E,t,null,n,p),m.push({event:E,listeners:z}),I?E.data=I:(I=l_(n),I!==null&&(E.data=I)))),(I=yT?_T(t,n):wT(t,n))&&(h=wl(h,"onBeforeInput"),0<h.length&&(p=new Mm("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=I))}w_(m,e)})}function _o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ho(t,n),i!=null&&r.unshift(_o(t,i,s)),i=ho(t,e),i!=null&&r.push(_o(t,i,s))),t=t.return}return r}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ym(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,s?(u=ho(n,i),u!=null&&o.unshift(_o(n,u,c))):s||(u=ho(n,i),u!=null&&o.push(_o(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var DT=/\r\n?/g,OT=/\u0000|\uFFFD/g;function Xm(t){return(typeof t=="string"?t:""+t).replace(DT,`
`).replace(OT,"")}function Ra(t,e,n){if(e=Xm(e),Xm(t)!==e&&n)throw Error(M(425))}function El(){}var wh=null,Eh=null;function xh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Th=typeof setTimeout=="function"?setTimeout:void 0,LT=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(t){return Jm.resolve(null).then(t).catch(MT)}:Th;function MT(t){setTimeout(function(){throw t})}function Nu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),mo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);mo(e)}function rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+oi,wo="__reactProps$"+oi,Cn="__reactContainer$"+oi,Ih="__reactEvents$"+oi,FT="__reactListeners$"+oi,UT="__reactHandles$"+oi;function Vr(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zm(t);t!==null;){if(n=t[Xt])return n;t=Zm(t)}return e}t=n,n=t.parentNode}return null}function Bo(t){return t=t[Xt]||t[Cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function dc(t){return t[wo]||null}var Sh=[],Cs=-1;function Ir(t){return{current:t}}function me(t){0>Cs||(t.current=Sh[Cs],Sh[Cs]=null,Cs--)}function de(t,e){Cs++,Sh[Cs]=t.current,t.current=e}var gr={},rt=Ir(gr),mt=Ir(!1),qr=gr;function Bs(t,e){var n=t.type.contextTypes;if(!n)return gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gt(t){return t=t.childContextTypes,t!=null}function xl(){me(mt),me(rt)}function eg(t,e,n){if(rt.current!==gr)throw Error(M(168));de(rt,e),de(mt,n)}function x_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(M(108,I1(t)||"Unknown",s));return we({},n,r)}function Tl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gr,qr=rt.current,de(rt,t),de(mt,mt.current),!0}function tg(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=x_(t,e,qr),r.__reactInternalMemoizedMergedChildContext=t,me(mt),me(rt),de(rt,t)):me(mt),de(mt,n)}var mn=null,fc=!1,Au=!1;function T_(t){mn===null?mn=[t]:mn.push(t)}function zT(t){fc=!0,T_(t)}function Sr(){if(!Au&&mn!==null){Au=!0;var t=0,e=ce;try{var n=mn;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mn=null,fc=!1}catch(s){throw mn!==null&&(mn=mn.slice(t+1)),Ky(Md,Sr),s}finally{ce=e,Au=!1}}return null}var ks=[],Ns=0,Il=null,Sl=0,Nt=[],At=0,Hr=null,yn=1,_n="";function Dr(t,e){ks[Ns++]=Sl,ks[Ns++]=Il,Il=t,Sl=e}function I_(t,e,n){Nt[At++]=yn,Nt[At++]=_n,Nt[At++]=Hr,Hr=t;var r=yn;t=_n;var s=32-Wt(r)-1;r&=~(1<<s),n+=1;var i=32-Wt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yn=1<<32-Wt(e)+s|n<<s|r,_n=i+t}else yn=1<<i|n<<s|r,_n=t}function Gd(t){t.return!==null&&(Dr(t,1),I_(t,1,0))}function Kd(t){for(;t===Il;)Il=ks[--Ns],ks[Ns]=null,Sl=ks[--Ns],ks[Ns]=null;for(;t===Hr;)Hr=Nt[--At],Nt[At]=null,_n=Nt[--At],Nt[At]=null,yn=Nt[--At],Nt[At]=null}var xt=null,Et=null,ge=!1,zt=null;function S_(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ng(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,Et=rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,Et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hr!==null?{id:yn,overflow:_n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,Et=null,!0):!1;default:return!1}}function Ch(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kh(t){if(ge){var e=Et;if(e){var n=e;if(!ng(t,e)){if(Ch(t))throw Error(M(418));e=rr(n.nextSibling);var r=xt;e&&ng(t,e)?S_(r,n):(t.flags=t.flags&-4097|2,ge=!1,xt=t)}}else{if(Ch(t))throw Error(M(418));t.flags=t.flags&-4097|2,ge=!1,xt=t}}}function rg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function ba(t){if(t!==xt)return!1;if(!ge)return rg(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xh(t.type,t.memoizedProps)),e&&(e=Et)){if(Ch(t))throw C_(),Error(M(418));for(;e;)S_(t,e),e=rr(e.nextSibling)}if(rg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Et=rr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Et=null}}else Et=xt?rr(t.stateNode.nextSibling):null;return!0}function C_(){for(var t=Et;t;)t=rr(t.nextSibling)}function Ws(){Et=xt=null,ge=!1}function Qd(t){zt===null?zt=[t]:zt.push(t)}var $T=bn.ReactCurrentBatchConfig;function Oi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function Da(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sg(t){var e=t._init;return e(t._payload)}function k_(t){function e(v,g){if(t){var w=v.deletions;w===null?(v.deletions=[g],v.flags|=16):w.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=ar(v,g),v.index=0,v.sibling=null,v}function i(v,g,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<g?(v.flags|=2,g):w):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function c(v,g,w,D){return g===null||g.tag!==6?(g=Lu(w,v.mode,D),g.return=v,g):(g=s(g,w),g.return=v,g)}function u(v,g,w,D){var F=w.type;return F===Es?p(v,g,w.props.children,D,w.key):g!==null&&(g.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Wn&&sg(F)===g.type)?(D=s(g,w.props),D.ref=Oi(v,g,w),D.return=v,D):(D=rl(w.type,w.key,w.props,null,v.mode,D),D.ref=Oi(v,g,w),D.return=v,D)}function h(v,g,w,D){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Vu(w,v.mode,D),g.return=v,g):(g=s(g,w.children||[]),g.return=v,g)}function p(v,g,w,D,F){return g===null||g.tag!==7?(g=Br(w,v.mode,D,F),g.return=v,g):(g=s(g,w),g.return=v,g)}function m(v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Lu(""+g,v.mode,w),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ta:return w=rl(g.type,g.key,g.props,null,v.mode,w),w.ref=Oi(v,null,g),w.return=v,w;case ws:return g=Vu(g,v.mode,w),g.return=v,g;case Wn:var D=g._init;return m(v,D(g._payload),w)}if(zi(g)||ji(g))return g=Br(g,v.mode,w,null),g.return=v,g;Da(v,g)}return null}function y(v,g,w,D){var F=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return F!==null?null:c(v,g,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ta:return w.key===F?u(v,g,w,D):null;case ws:return w.key===F?h(v,g,w,D):null;case Wn:return F=w._init,y(v,g,F(w._payload),D)}if(zi(w)||ji(w))return F!==null?null:p(v,g,w,D,null);Da(v,w)}return null}function x(v,g,w,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(w)||null,c(g,v,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ta:return v=v.get(D.key===null?w:D.key)||null,u(g,v,D,F);case ws:return v=v.get(D.key===null?w:D.key)||null,h(g,v,D,F);case Wn:var z=D._init;return x(v,g,w,z(D._payload),F)}if(zi(D)||ji(D))return v=v.get(w)||null,p(g,v,D,F,null);Da(g,D)}return null}function A(v,g,w,D){for(var F=null,z=null,I=g,E=g=0,T=null;I!==null&&E<w.length;E++){I.index>E?(T=I,I=null):T=I.sibling;var C=y(v,I,w[E],D);if(C===null){I===null&&(I=T);break}t&&I&&C.alternate===null&&e(v,I),g=i(C,g,E),z===null?F=C:z.sibling=C,z=C,I=T}if(E===w.length)return n(v,I),ge&&Dr(v,E),F;if(I===null){for(;E<w.length;E++)I=m(v,w[E],D),I!==null&&(g=i(I,g,E),z===null?F=I:z.sibling=I,z=I);return ge&&Dr(v,E),F}for(I=r(v,I);E<w.length;E++)T=x(I,v,E,w[E],D),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?E:T.key),g=i(T,g,E),z===null?F=T:z.sibling=T,z=T);return t&&I.forEach(function(j){return e(v,j)}),ge&&Dr(v,E),F}function N(v,g,w,D){var F=ji(w);if(typeof F!="function")throw Error(M(150));if(w=F.call(w),w==null)throw Error(M(151));for(var z=F=null,I=g,E=g=0,T=null,C=w.next();I!==null&&!C.done;E++,C=w.next()){I.index>E?(T=I,I=null):T=I.sibling;var j=y(v,I,C.value,D);if(j===null){I===null&&(I=T);break}t&&I&&j.alternate===null&&e(v,I),g=i(j,g,E),z===null?F=j:z.sibling=j,z=j,I=T}if(C.done)return n(v,I),ge&&Dr(v,E),F;if(I===null){for(;!C.done;E++,C=w.next())C=m(v,C.value,D),C!==null&&(g=i(C,g,E),z===null?F=C:z.sibling=C,z=C);return ge&&Dr(v,E),F}for(I=r(v,I);!C.done;E++,C=w.next())C=x(I,v,E,C.value,D),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?E:C.key),g=i(C,g,E),z===null?F=C:z.sibling=C,z=C);return t&&I.forEach(function(b){return e(v,b)}),ge&&Dr(v,E),F}function S(v,g,w,D){if(typeof w=="object"&&w!==null&&w.type===Es&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ta:e:{for(var F=w.key,z=g;z!==null;){if(z.key===F){if(F=w.type,F===Es){if(z.tag===7){n(v,z.sibling),g=s(z,w.props.children),g.return=v,v=g;break e}}else if(z.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Wn&&sg(F)===z.type){n(v,z.sibling),g=s(z,w.props),g.ref=Oi(v,z,w),g.return=v,v=g;break e}n(v,z);break}else e(v,z);z=z.sibling}w.type===Es?(g=Br(w.props.children,v.mode,D,w.key),g.return=v,v=g):(D=rl(w.type,w.key,w.props,null,v.mode,D),D.ref=Oi(v,g,w),D.return=v,v=D)}return o(v);case ws:e:{for(z=w.key;g!==null;){if(g.key===z)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(v,g.sibling),g=s(g,w.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Vu(w,v.mode,D),g.return=v,v=g}return o(v);case Wn:return z=w._init,S(v,g,z(w._payload),D)}if(zi(w))return A(v,g,w,D);if(ji(w))return N(v,g,w,D);Da(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,w),g.return=v,v=g):(n(v,g),g=Lu(w,v.mode,D),g.return=v,v=g),o(v)):n(v,g)}return S}var qs=k_(!0),N_=k_(!1),Cl=Ir(null),kl=null,As=null,Yd=null;function Xd(){Yd=As=kl=null}function Jd(t){var e=Cl.current;me(Cl),t._currentValue=e}function Nh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ls(t,e){kl=t,Yd=As=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pt=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(Yd!==t)if(t={context:t,memoizedValue:e,next:null},As===null){if(kl===null)throw Error(M(308));As=t,kl.dependencies={lanes:0,firstContext:t}}else As=As.next=t;return e}var Mr=null;function Zd(t){Mr===null?Mr=[t]:Mr.push(t)}function A_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zd(e)):(n.next=s.next,s.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qn=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,kn(t,n)}return s=r.interleaved,s===null?(e.next=e,Zd(r)):(e.next=s.next,s.next=e),r.interleaved=e,kn(t,n)}function Xa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fd(t,n)}}function ig(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nl(t,e,n,r){var s=t.updateQueue;qn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,h=u.next;u.next=null,o===null?i=h:o.next=h,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,p=h=u=null,c=i;do{var y=c.lane,x=c.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var A=t,N=c;switch(y=e,x=n,N.tag){case 1:if(A=N.payload,typeof A=="function"){m=A.call(x,m,y);break e}m=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=N.payload,y=typeof A=="function"?A.call(x,m,y):A,y==null)break e;m=we({},m,y);break e;case 2:qn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[c]:y.push(c))}else x={eventTime:x,lane:y,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(h=p=x,u=m):p=p.next=x,o|=y;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;y=c,c=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(u=m),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Kr|=o,t.lanes=o,t.memoizedState=m}}function og(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var Wo={},Zt=Ir(Wo),Eo=Ir(Wo),xo=Ir(Wo);function Fr(t){if(t===Wo)throw Error(M(174));return t}function tf(t,e){switch(de(xo,e),de(Eo,t),de(Zt,Wo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lh(e,t)}me(Zt),de(Zt,e)}function Hs(){me(Zt),me(Eo),me(xo)}function P_(t){Fr(xo.current);var e=Fr(Zt.current),n=lh(e,t.type);e!==n&&(de(Eo,t),de(Zt,n))}function nf(t){Eo.current===t&&(me(Zt),me(Eo))}var ye=Ir(0);function Al(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ju=[];function rf(){for(var t=0;t<ju.length;t++)ju[t]._workInProgressVersionPrimary=null;ju.length=0}var Ja=bn.ReactCurrentDispatcher,Pu=bn.ReactCurrentBatchConfig,Gr=0,_e=null,be=null,Fe=null,jl=!1,eo=!1,To=0,BT=0;function Xe(){throw Error(M(321))}function sf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function of(t,e,n,r,s,i){if(Gr=i,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ja.current=t===null||t.memoizedState===null?GT:KT,t=n(r,s),eo){i=0;do{if(eo=!1,To=0,25<=i)throw Error(M(301));i+=1,Fe=be=null,e.updateQueue=null,Ja.current=QT,t=n(r,s)}while(eo)}if(Ja.current=Pl,e=be!==null&&be.next!==null,Gr=0,Fe=be=_e=null,jl=!1,e)throw Error(M(300));return t}function af(){var t=To!==0;return To=0,t}function Qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?_e.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Ot(){if(be===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Fe===null?_e.memoizedState:Fe.next;if(e!==null)Fe=e,be=t;else{if(t===null)throw Error(M(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Fe===null?_e.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function Io(t,e){return typeof e=="function"?e(t):e}function Ru(t){var e=Ot(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=o=null,u=null,h=i;do{var p=h.lane;if((Gr&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=m,o=r):u=u.next=m,_e.lanes|=p,Kr|=p}h=h.next}while(h!==null&&h!==i);u===null?o=r:u.next=c,Gt(r,e.memoizedState)||(pt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,_e.lanes|=i,Kr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bu(t){var e=Ot(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Gt(i,e.memoizedState)||(pt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function R_(){}function b_(t,e){var n=_e,r=Ot(),s=e(),i=!Gt(r.memoizedState,s);if(i&&(r.memoizedState=s,pt=!0),r=r.queue,lf(L_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,So(9,O_.bind(null,n,r,s,e),void 0,null),Ue===null)throw Error(M(349));Gr&30||D_(n,e,s)}return s}function D_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O_(t,e,n,r){e.value=n,e.getSnapshot=r,V_(e)&&M_(t)}function L_(t,e,n){return n(function(){V_(e)&&M_(t)})}function V_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function M_(t){var e=kn(t,1);e!==null&&qt(e,t,1,-1)}function ag(t){var e=Qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:t},e.queue=t,t=t.dispatch=HT.bind(null,_e,t),[e.memoizedState,t]}function So(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function F_(){return Ot().memoizedState}function Za(t,e,n,r){var s=Qt();_e.flags|=t,s.memoizedState=So(1|e,n,void 0,r===void 0?null:r)}function pc(t,e,n,r){var s=Ot();r=r===void 0?null:r;var i=void 0;if(be!==null){var o=be.memoizedState;if(i=o.destroy,r!==null&&sf(r,o.deps)){s.memoizedState=So(e,n,i,r);return}}_e.flags|=t,s.memoizedState=So(1|e,n,i,r)}function lg(t,e){return Za(8390656,8,t,e)}function lf(t,e){return pc(2048,8,t,e)}function U_(t,e){return pc(4,2,t,e)}function z_(t,e){return pc(4,4,t,e)}function $_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B_(t,e,n){return n=n!=null?n.concat([t]):null,pc(4,4,$_.bind(null,e,t),n)}function cf(){}function W_(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function q_(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function H_(t,e,n){return Gr&21?(Gt(n,e)||(n=Xy(),_e.lanes|=n,Kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pt=!0),t.memoizedState=n)}function WT(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=Pu.transition;Pu.transition={};try{t(!1),e()}finally{ce=n,Pu.transition=r}}function G_(){return Ot().memoizedState}function qT(t,e,n){var r=or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},K_(t))Q_(e,n);else if(n=A_(t,e,n,r),n!==null){var s=lt();qt(n,t,r,s),Y_(n,e,r)}}function HT(t,e,n){var r=or(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(K_(t))Q_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,Gt(c,o)){var u=e.interleaved;u===null?(s.next=s,Zd(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=A_(t,e,s,r),n!==null&&(s=lt(),qt(n,t,r,s),Y_(n,e,r))}}function K_(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function Q_(t,e){eo=jl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fd(t,n)}}var Pl={readContext:Dt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},GT={readContext:Dt,useCallback:function(t,e){return Qt().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:lg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Za(4194308,4,$_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Za(4194308,4,t,e)},useInsertionEffect:function(t,e){return Za(4,2,t,e)},useMemo:function(t,e){var n=Qt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qT.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=Qt();return t={current:t},e.memoizedState=t},useState:ag,useDebugValue:cf,useDeferredValue:function(t){return Qt().memoizedState=t},useTransition:function(){var t=ag(!1),e=t[0];return t=WT.bind(null,t[1]),Qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,s=Qt();if(ge){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),Ue===null)throw Error(M(349));Gr&30||D_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lg(L_.bind(null,r,i,t),[t]),r.flags|=2048,So(9,O_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qt(),e=Ue.identifierPrefix;if(ge){var n=_n,r=yn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=To++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KT={readContext:Dt,useCallback:W_,useContext:Dt,useEffect:lf,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:z_,useMemo:q_,useReducer:Ru,useRef:F_,useState:function(){return Ru(Io)},useDebugValue:cf,useDeferredValue:function(t){var e=Ot();return H_(e,be.memoizedState,t)},useTransition:function(){var t=Ru(Io)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:R_,useSyncExternalStore:b_,useId:G_,unstable_isNewReconciler:!1},QT={readContext:Dt,useCallback:W_,useContext:Dt,useEffect:lf,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:z_,useMemo:q_,useReducer:bu,useRef:F_,useState:function(){return bu(Io)},useDebugValue:cf,useDeferredValue:function(t){var e=Ot();return be===null?e.memoizedState=t:H_(e,be.memoizedState,t)},useTransition:function(){var t=bu(Io)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:R_,useSyncExternalStore:b_,useId:G_,unstable_isNewReconciler:!1};function Ft(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ah(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mc={isMounted:function(t){return(t=t._reactInternals)?ss(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lt(),s=or(t),i=xn(r,s);i.payload=e,n!=null&&(i.callback=n),e=sr(t,i,s),e!==null&&(qt(e,t,s,r),Xa(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lt(),s=or(t),i=xn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=sr(t,i,s),e!==null&&(qt(e,t,s,r),Xa(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lt(),r=or(t),s=xn(n,r);s.tag=2,e!=null&&(s.callback=e),e=sr(t,s,r),e!==null&&(qt(e,t,r,n),Xa(e,t,r))}};function cg(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!vo(n,r)||!vo(s,i):!0}function X_(t,e,n){var r=!1,s=gr,i=e.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(s=gt(e)?qr:rt.current,r=e.contextTypes,i=(r=r!=null)?Bs(t,s):gr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ug(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function jh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ef(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Dt(i):(i=gt(e)?qr:rt.current,s.context=Bs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ah(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mc.enqueueReplaceState(s,s.state,null),Nl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gs(t,e){try{var n="",r=e;do n+=T1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Du(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ph(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YT=typeof WeakMap=="function"?WeakMap:Map;function J_(t,e,n){n=xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bl||(bl=!0,zh=r),Ph(t,e)},n}function Z_(t,e,n){n=xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ph(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ph(t,e),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=uI.bind(null,t,e,n),e.then(t,t))}function dg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xn(-1,1),e.tag=2,sr(n,e,1))),n.lanes|=1),t)}var XT=bn.ReactCurrentOwner,pt=!1;function at(t,e,n,r){e.child=t===null?N_(e,null,n,r):qs(e,t.child,n,r)}function pg(t,e,n,r,s){n=n.render;var i=e.ref;return Ls(e,s),r=of(t,e,n,r,i,s),n=af(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nn(t,e,s)):(ge&&n&&Gd(e),e.flags|=1,at(t,e,r,s),e.child)}function mg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,e0(t,e,i,r,s)):(t=rl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vo,n(o,r)&&t.ref===e.ref)return Nn(t,e,s)}return e.flags|=1,t=ar(i,r),t.ref=e.ref,t.return=e,e.child=t}function e0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(vo(i,r)&&t.ref===e.ref)if(pt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(pt=!0);else return e.lanes=t.lanes,Nn(t,e,s)}return Rh(t,e,n,r,s)}function t0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Ps,_t),_t|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(Ps,_t),_t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,de(Ps,_t),_t|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,de(Ps,_t),_t|=r;return at(t,e,s,n),e.child}function n0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rh(t,e,n,r,s){var i=gt(n)?qr:rt.current;return i=Bs(e,i),Ls(e,s),n=of(t,e,n,r,i,s),r=af(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nn(t,e,s)):(ge&&r&&Gd(e),e.flags|=1,at(t,e,n,s),e.child)}function gg(t,e,n,r,s){if(gt(n)){var i=!0;Tl(e)}else i=!1;if(Ls(e,s),e.stateNode===null)el(t,e),X_(e,n,r),jh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Dt(h):(h=gt(n)?qr:rt.current,h=Bs(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==h)&&ug(e,o,r,h),qn=!1;var y=e.memoizedState;o.state=y,Nl(e,r,o,s),u=e.memoizedState,c!==r||y!==u||mt.current||qn?(typeof p=="function"&&(Ah(e,n,p,r),u=e.memoizedState),(c=qn||cg(e,n,c,r,y,u,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,j_(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:Ft(e.type,c),o.props=h,m=e.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Dt(u):(u=gt(n)?qr:rt.current,u=Bs(e,u));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==m||y!==u)&&ug(e,o,r,u),qn=!1,y=e.memoizedState,o.state=y,Nl(e,r,o,s);var A=e.memoizedState;c!==m||y!==A||mt.current||qn?(typeof x=="function"&&(Ah(e,n,x,r),A=e.memoizedState),(h=qn||cg(e,n,h,r,y,A,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return bh(t,e,n,r,i,s)}function bh(t,e,n,r,s,i){n0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tg(e,n,!1),Nn(t,e,i);r=e.stateNode,XT.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,i),e.child=qs(e,null,c,i)):at(t,e,c,i),e.memoizedState=r.state,s&&tg(e,n,!0),e.child}function r0(t){var e=t.stateNode;e.pendingContext?eg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eg(t,e.context,!1),tf(t,e.containerInfo)}function vg(t,e,n,r,s){return Ws(),Qd(s),e.flags|=256,at(t,e,n,r),e.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Oh(t){return{baseLanes:t,cachePool:null,transitions:null}}function s0(t,e,n){var r=e.pendingProps,s=ye.current,i=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),de(ye,s&1),t===null)return kh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yc(o,r,0,null),t=Br(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Oh(n),e.memoizedState=Dh,t):uf(e,o));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return JT(t,e,o,r,c,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ar(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=ar(c,i):(i=Br(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Oh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Dh,r}return i=t.child,t=i.sibling,r=ar(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uf(t,e){return e=yc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oa(t,e,n,r){return r!==null&&Qd(r),qs(e,t.child,null,n),t=uf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Du(Error(M(422))),Oa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=yc({mode:"visible",children:r.children},s,0,null),i=Br(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=Oh(o),e.memoizedState=Dh,i);if(!(e.mode&1))return Oa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(M(419)),r=Du(i,r,void 0),Oa(t,e,o,r)}if(c=(o&t.childLanes)!==0,pt||c){if(r=Ue,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kn(t,s),qt(r,t,s,-1))}return gf(),r=Du(Error(M(421))),Oa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Et=rr(s.nextSibling),xt=e,ge=!0,zt=null,t!==null&&(Nt[At++]=yn,Nt[At++]=_n,Nt[At++]=Hr,yn=t.id,_n=t.overflow,Hr=e),e=uf(e,r.children),e.flags|=4096,e)}function yg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nh(t.return,e,n)}function Ou(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function i0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(at(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yg(t,n,e);else if(t.tag===19)yg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(de(ye,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Al(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ou(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Al(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ou(e,!0,n,null,i);break;case"together":Ou(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function el(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZT(t,e,n){switch(e.tag){case 3:r0(e),Ws();break;case 5:P_(e);break;case 1:gt(e.type)&&Tl(e);break;case 4:tf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;de(Cl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(de(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?s0(t,e,n):(de(ye,ye.current&1),t=Nn(t,e,n),t!==null?t.sibling:null);de(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,t0(t,e,n)}return Nn(t,e,n)}var o0,Lh,a0,l0;o0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lh=function(){};a0=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fr(Zt.current);var i=null;switch(n){case"input":s=sh(t,s),r=sh(t,r),i=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":s=ah(t,s),r=ah(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=El)}ch(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(co.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var u=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(co.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&pe("scroll",t),i||c===u||(i=[])):(i=i||[]).push(h,u))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};l0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Li(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eI(t,e,n){var r=e.pendingProps;switch(Kd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(e),null;case 1:return gt(e.type)&&xl(),Je(e),null;case 3:return r=e.stateNode,Hs(),me(mt),me(rt),rf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zt!==null&&(Wh(zt),zt=null))),Lh(t,e),Je(e),null;case 5:nf(e);var s=Fr(xo.current);if(n=e.type,t!==null&&e.stateNode!=null)a0(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return Je(e),null}if(t=Fr(Zt.current),ba(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xt]=e,r[wo]=i,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<Bi.length;s++)pe(Bi[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":km(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":Am(r,i),pe("invalid",r)}ch(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ra(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ra(r.textContent,c,t),s=["children",""+c]):co.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":Ia(r),Nm(r,i,!0);break;case"textarea":Ia(r),jm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=El)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ly(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xt]=e,t[wo]=r,o0(t,e,!1,!1),e.stateNode=t;e:{switch(o=uh(n,r),n){case"dialog":pe("cancel",t),pe("close",t),s=r;break;case"iframe":case"object":case"embed":pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bi.length;s++)pe(Bi[s],t);s=r;break;case"source":pe("error",t),s=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),s=r;break;case"details":pe("toggle",t),s=r;break;case"input":km(t,r),s=sh(t,r),pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Am(t,r),s=ah(t,r),pe("invalid",t);break;default:s=r}ch(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?Fy(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vy(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&uo(t,u):typeof u=="number"&&uo(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(co.hasOwnProperty(i)?u!=null&&i==="onScroll"&&pe("scroll",t):u!=null&&bd(t,i,u,o))}switch(n){case"input":Ia(t),Nm(t,r,!1);break;case"textarea":Ia(t),jm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Rs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Je(e),null;case 6:if(t&&e.stateNode!=null)l0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=Fr(xo.current),Fr(Zt.current),ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xt]=e,(i=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:Ra(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ra(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=e,e.stateNode=r}return Je(e),null;case 13:if(me(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&Et!==null&&e.mode&1&&!(e.flags&128))C_(),Ws(),e.flags|=98560,i=!1;else if(i=ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(M(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Xt]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Je(e),i=!1}else zt!==null&&(Wh(zt),zt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Oe===0&&(Oe=3):gf())),e.updateQueue!==null&&(e.flags|=4),Je(e),null);case 4:return Hs(),Lh(t,e),t===null&&yo(e.stateNode.containerInfo),Je(e),null;case 10:return Jd(e.type._context),Je(e),null;case 17:return gt(e.type)&&xl(),Je(e),null;case 19:if(me(ye),i=e.memoizedState,i===null)return Je(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Li(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Al(t),o!==null){for(e.flags|=128,Li(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ae()>Ks&&(e.flags|=128,r=!0,Li(i,!1),e.lanes=4194304)}else{if(!r)if(t=Al(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Li(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ge)return Je(e),null}else 2*Ae()-i.renderingStartTime>Ks&&n!==1073741824&&(e.flags|=128,r=!0,Li(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ae(),e.sibling=null,n=ye.current,de(ye,r?n&1|2:n&1),e):(Je(e),null);case 22:case 23:return mf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_t&1073741824&&(Je(e),e.subtreeFlags&6&&(e.flags|=8192)):Je(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function tI(t,e){switch(Kd(e),e.tag){case 1:return gt(e.type)&&xl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hs(),me(mt),me(rt),rf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nf(e),null;case 13:if(me(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ye),null;case 4:return Hs(),null;case 10:return Jd(e.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var La=!1,tt=!1,nI=typeof WeakSet=="function"?WeakSet:Set,W=null;function js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function Vh(t,e,n){try{n()}catch(r){Te(t,e,r)}}var _g=!1;function rI(t,e){if(wh=yl,t=f_(),Hd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,h=0,p=0,m=t,y=null;t:for(;;){for(var x;m!==n||s!==0&&m.nodeType!==3||(c=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)y=m,m=x;for(;;){if(m===t)break t;if(y===n&&++h===s&&(c=o),y===i&&++p===r&&(u=o),(x=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=x}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eh={focusedElem:t,selectionRange:n},yl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var N=A.memoizedProps,S=A.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?N:Ft(e.type,N),S);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(D){Te(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return A=_g,_g=!1,A}function to(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vh(e,n,i)}s=s.next}while(s!==r)}}function gc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c0(t){var e=t.alternate;e!==null&&(t.alternate=null,c0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[wo],delete e[Ih],delete e[FT],delete e[UT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u0(t){return t.tag===5||t.tag===3||t.tag===4}function wg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=El));else if(r!==4&&(t=t.child,t!==null))for(Fh(t,e,n),t=t.sibling;t!==null;)Fh(t,e,n),t=t.sibling}function Uh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uh(t,e,n),t=t.sibling;t!==null;)Uh(t,e,n),t=t.sibling}var $e=null,Ut=!1;function $n(t,e,n){for(n=n.child;n!==null;)h0(t,e,n),n=n.sibling}function h0(t,e,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(lc,n)}catch{}switch(n.tag){case 5:tt||js(n,e);case 6:var r=$e,s=Ut;$e=null,$n(t,e,n),$e=r,Ut=s,$e!==null&&(Ut?(t=$e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Ut?(t=$e,n=n.stateNode,t.nodeType===8?Nu(t.parentNode,n):t.nodeType===1&&Nu(t,n),mo(t)):Nu($e,n.stateNode));break;case 4:r=$e,s=Ut,$e=n.stateNode.containerInfo,Ut=!0,$n(t,e,n),$e=r,Ut=s;break;case 0:case 11:case 14:case 15:if(!tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vh(n,e,o),s=s.next}while(s!==r)}$n(t,e,n);break;case 1:if(!tt&&(js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Te(n,e,c)}$n(t,e,n);break;case 21:$n(t,e,n);break;case 22:n.mode&1?(tt=(r=tt)||n.memoizedState!==null,$n(t,e,n),tt=r):$n(t,e,n);break;default:$n(t,e,n)}}function Eg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nI),e.forEach(function(r){var s=dI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:$e=c.stateNode,Ut=!1;break e;case 3:$e=c.stateNode.containerInfo,Ut=!0;break e;case 4:$e=c.stateNode.containerInfo,Ut=!0;break e}c=c.return}if($e===null)throw Error(M(160));h0(i,o,s),$e=null,Ut=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){Te(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d0(e,t),e=e.sibling}function d0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Kt(t),r&4){try{to(3,t,t.return),gc(3,t)}catch(N){Te(t,t.return,N)}try{to(5,t,t.return)}catch(N){Te(t,t.return,N)}}break;case 1:Mt(e,t),Kt(t),r&512&&n!==null&&js(n,n.return);break;case 5:if(Mt(e,t),Kt(t),r&512&&n!==null&&js(n,n.return),t.flags&32){var s=t.stateNode;try{uo(s,"")}catch(N){Te(t,t.return,N)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Dy(s,i),uh(c,o);var h=uh(c,i);for(o=0;o<u.length;o+=2){var p=u[o],m=u[o+1];p==="style"?Fy(s,m):p==="dangerouslySetInnerHTML"?Vy(s,m):p==="children"?uo(s,m):bd(s,p,m,h)}switch(c){case"input":ih(s,i);break;case"textarea":Oy(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Rs(s,!!i.multiple,x,!1):y!==!!i.multiple&&(i.defaultValue!=null?Rs(s,!!i.multiple,i.defaultValue,!0):Rs(s,!!i.multiple,i.multiple?[]:"",!1))}s[wo]=i}catch(N){Te(t,t.return,N)}}break;case 6:if(Mt(e,t),Kt(t),r&4){if(t.stateNode===null)throw Error(M(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){Te(t,t.return,N)}}break;case 3:if(Mt(e,t),Kt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mo(e.containerInfo)}catch(N){Te(t,t.return,N)}break;case 4:Mt(e,t),Kt(t);break;case 13:Mt(e,t),Kt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ff=Ae())),r&4&&Eg(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(tt=(h=tt)||p,Mt(e,t),tt=h):Mt(e,t),Kt(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(W=t,p=t.child;p!==null;){for(m=W=p;W!==null;){switch(y=W,x=y.child,y.tag){case 0:case 11:case 14:case 15:to(4,y,y.return);break;case 1:js(y,y.return);var A=y.stateNode;if(typeof A.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(N){Te(r,n,N)}}break;case 5:js(y,y.return);break;case 22:if(y.memoizedState!==null){Tg(m);continue}}x!==null?(x.return=y,W=x):Tg(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=My("display",o))}catch(N){Te(t,t.return,N)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(N){Te(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Mt(e,t),Kt(t),r&4&&Eg(t);break;case 21:break;default:Mt(e,t),Kt(t)}}function Kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u0(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(uo(s,""),r.flags&=-33);var i=wg(t);Uh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=wg(t);Fh(t,c,o);break;default:throw Error(M(161))}}catch(u){Te(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sI(t,e,n){W=t,f0(t)}function f0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||La;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||tt;c=La;var h=tt;if(La=o,(tt=u)&&!h)for(W=s;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?Ig(s):u!==null?(u.return=o,W=u):Ig(s);for(;i!==null;)W=i,f0(i),i=i.sibling;W=s,La=c,tt=h}xg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):xg(t)}}function xg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tt||gc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ft(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&og(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}og(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&mo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}tt||e.flags&512&&Mh(e)}catch(y){Te(e,e.return,y)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Tg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Ig(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gc(4,e)}catch(u){Te(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Te(e,s,u)}}var i=e.return;try{Mh(e)}catch(u){Te(e,i,u)}break;case 5:var o=e.return;try{Mh(e)}catch(u){Te(e,o,u)}}}catch(u){Te(e,e.return,u)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var iI=Math.ceil,Rl=bn.ReactCurrentDispatcher,hf=bn.ReactCurrentOwner,Rt=bn.ReactCurrentBatchConfig,oe=0,Ue=null,Re=null,qe=0,_t=0,Ps=Ir(0),Oe=0,Co=null,Kr=0,vc=0,df=0,no=null,dt=null,ff=0,Ks=1/0,pn=null,bl=!1,zh=null,ir=null,Va=!1,Xn=null,Dl=0,ro=0,$h=null,tl=-1,nl=0;function lt(){return oe&6?Ae():tl!==-1?tl:tl=Ae()}function or(t){return t.mode&1?oe&2&&qe!==0?qe&-qe:$T.transition!==null?(nl===0&&(nl=Xy()),nl):(t=ce,t!==0||(t=window.event,t=t===void 0?16:s_(t.type)),t):1}function qt(t,e,n,r){if(50<ro)throw ro=0,$h=null,Error(M(185));zo(t,n,r),(!(oe&2)||t!==Ue)&&(t===Ue&&(!(oe&2)&&(vc|=n),Oe===4&&Gn(t,qe)),vt(t,r),n===1&&oe===0&&!(e.mode&1)&&(Ks=Ae()+500,fc&&Sr()))}function vt(t,e){var n=t.callbackNode;$1(t,e);var r=vl(t,t===Ue?qe:0);if(r===0)n!==null&&bm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bm(n),e===1)t.tag===0?zT(Sg.bind(null,t)):T_(Sg.bind(null,t)),VT(function(){!(oe&6)&&Sr()}),n=null;else{switch(Jy(r)){case 1:n=Md;break;case 4:n=Qy;break;case 16:n=gl;break;case 536870912:n=Yy;break;default:n=gl}n=E0(n,p0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function p0(t,e){if(tl=-1,nl=0,oe&6)throw Error(M(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var r=vl(t,t===Ue?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ol(t,r);else{e=r;var s=oe;oe|=2;var i=g0();(Ue!==t||qe!==e)&&(pn=null,Ks=Ae()+500,$r(t,e));do try{lI();break}catch(c){m0(t,c)}while(!0);Xd(),Rl.current=i,oe=s,Re!==null?e=0:(Ue=null,qe=0,e=Oe)}if(e!==0){if(e===2&&(s=mh(t),s!==0&&(r=s,e=Bh(t,s))),e===1)throw n=Co,$r(t,0),Gn(t,r),vt(t,Ae()),n;if(e===6)Gn(t,r);else{if(s=t.current.alternate,!(r&30)&&!oI(s)&&(e=Ol(t,r),e===2&&(i=mh(t),i!==0&&(r=i,e=Bh(t,i))),e===1))throw n=Co,$r(t,0),Gn(t,r),vt(t,Ae()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:Or(t,dt,pn);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=ff+500-Ae(),10<e)){if(vl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Th(Or.bind(null,t,dt,pn),e);break}Or(t,dt,pn);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Wt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iI(r/1960))-r,10<r){t.timeoutHandle=Th(Or.bind(null,t,dt,pn),r);break}Or(t,dt,pn);break;case 5:Or(t,dt,pn);break;default:throw Error(M(329))}}}return vt(t,Ae()),t.callbackNode===n?p0.bind(null,t):null}function Bh(t,e){var n=no;return t.current.memoizedState.isDehydrated&&($r(t,e).flags|=256),t=Ol(t,e),t!==2&&(e=dt,dt=n,e!==null&&Wh(e)),t}function Wh(t){dt===null?dt=t:dt.push.apply(dt,t)}function oI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~df,e&=~vc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wt(e),r=1<<n;t[n]=-1,e&=~r}}function Sg(t){if(oe&6)throw Error(M(327));Vs();var e=vl(t,0);if(!(e&1))return vt(t,Ae()),null;var n=Ol(t,e);if(t.tag!==0&&n===2){var r=mh(t);r!==0&&(e=r,n=Bh(t,r))}if(n===1)throw n=Co,$r(t,0),Gn(t,e),vt(t,Ae()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Or(t,dt,pn),vt(t,Ae()),null}function pf(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(Ks=Ae()+500,fc&&Sr())}}function Qr(t){Xn!==null&&Xn.tag===0&&!(oe&6)&&Vs();var e=oe;oe|=1;var n=Rt.transition,r=ce;try{if(Rt.transition=null,ce=1,t)return t()}finally{ce=r,Rt.transition=n,oe=e,!(oe&6)&&Sr()}}function mf(){_t=Ps.current,me(Ps)}function $r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LT(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Kd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:Hs(),me(mt),me(rt),rf();break;case 5:nf(r);break;case 4:Hs();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Jd(r.type._context);break;case 22:case 23:mf()}n=n.return}if(Ue=t,Re=t=ar(t.current,null),qe=_t=e,Oe=0,Co=null,df=vc=Kr=0,dt=no=null,Mr!==null){for(e=0;e<Mr.length;e++)if(n=Mr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Mr=null}return t}function m0(t,e){do{var n=Re;try{if(Xd(),Ja.current=Pl,jl){for(var r=_e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jl=!1}if(Gr=0,Fe=be=_e=null,eo=!1,To=0,hf.current=null,n===null||n.return===null){Oe=1,Co=e,Re=null;break}e:{var i=t,o=n.return,c=n,u=e;if(e=qe,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=c,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=dg(o);if(x!==null){x.flags&=-257,fg(x,o,c,i,e),x.mode&1&&hg(i,h,e),e=x,u=h;var A=e.updateQueue;if(A===null){var N=new Set;N.add(u),e.updateQueue=N}else A.add(u);break e}else{if(!(e&1)){hg(i,h,e),gf();break e}u=Error(M(426))}}else if(ge&&c.mode&1){var S=dg(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),fg(S,o,c,i,e),Qd(Gs(u,c));break e}}i=u=Gs(u,c),Oe!==4&&(Oe=2),no===null?no=[i]:no.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=J_(i,u,e);ig(i,v);break e;case 1:c=u;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ir===null||!ir.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=Z_(i,c,e);ig(i,D);break e}}i=i.return}while(i!==null)}y0(n)}catch(F){e=F,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function g0(){var t=Rl.current;return Rl.current=Pl,t===null?Pl:t}function gf(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ue===null||!(Kr&268435455)&&!(vc&268435455)||Gn(Ue,qe)}function Ol(t,e){var n=oe;oe|=2;var r=g0();(Ue!==t||qe!==e)&&(pn=null,$r(t,e));do try{aI();break}catch(s){m0(t,s)}while(!0);if(Xd(),oe=n,Rl.current=r,Re!==null)throw Error(M(261));return Ue=null,qe=0,Oe}function aI(){for(;Re!==null;)v0(Re)}function lI(){for(;Re!==null&&!b1();)v0(Re)}function v0(t){var e=w0(t.alternate,t,_t);t.memoizedProps=t.pendingProps,e===null?y0(t):Re=e,hf.current=null}function y0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tI(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Re=null;return}}else if(n=eI(n,e,_t),n!==null){Re=n;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);Oe===0&&(Oe=5)}function Or(t,e,n){var r=ce,s=Rt.transition;try{Rt.transition=null,ce=1,cI(t,e,n,r)}finally{Rt.transition=s,ce=r}return null}function cI(t,e,n,r){do Vs();while(Xn!==null);if(oe&6)throw Error(M(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(B1(t,i),t===Ue&&(Re=Ue=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Va||(Va=!0,E0(gl,function(){return Vs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var o=ce;ce=1;var c=oe;oe|=4,hf.current=null,rI(t,n),d0(n,t),AT(Eh),yl=!!wh,Eh=wh=null,t.current=n,sI(n),D1(),oe=c,ce=o,Rt.transition=i}else t.current=n;if(Va&&(Va=!1,Xn=t,Dl=s),i=t.pendingLanes,i===0&&(ir=null),V1(n.stateNode),vt(t,Ae()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(bl)throw bl=!1,t=zh,zh=null,t;return Dl&1&&t.tag!==0&&Vs(),i=t.pendingLanes,i&1?t===$h?ro++:(ro=0,$h=t):ro=0,Sr(),null}function Vs(){if(Xn!==null){var t=Jy(Dl),e=Rt.transition,n=ce;try{if(Rt.transition=null,ce=16>t?16:t,Xn===null)var r=!1;else{if(t=Xn,Xn=null,Dl=0,oe&6)throw Error(M(331));var s=oe;for(oe|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(W=h;W!==null;){var p=W;switch(p.tag){case 0:case 11:case 15:to(8,p,i)}var m=p.child;if(m!==null)m.return=p,W=m;else for(;W!==null;){p=W;var y=p.sibling,x=p.return;if(c0(p),p===h){W=null;break}if(y!==null){y.return=x,W=y;break}W=x}}}var A=i.alternate;if(A!==null){var N=A.child;if(N!==null){A.child=null;do{var S=N.sibling;N.sibling=null,N=S}while(N!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,W=v;break e}W=i.return}}var g=t.current;for(W=g;W!==null;){o=W;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,W=w;else e:for(o=g;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:gc(9,c)}}catch(F){Te(c,c.return,F)}if(c===o){W=null;break e}var D=c.sibling;if(D!==null){D.return=c.return,W=D;break e}W=c.return}}if(oe=s,Sr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(lc,t)}catch{}r=!0}return r}finally{ce=n,Rt.transition=e}}return!1}function Cg(t,e,n){e=Gs(n,e),e=J_(t,e,1),t=sr(t,e,1),e=lt(),t!==null&&(zo(t,1,e),vt(t,e))}function Te(t,e,n){if(t.tag===3)Cg(t,t,n);else for(;e!==null;){if(e.tag===3){Cg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){t=Gs(n,t),t=Z_(e,t,1),e=sr(e,t,1),t=lt(),e!==null&&(zo(e,1,t),vt(e,t));break}}e=e.return}}function uI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lt(),t.pingedLanes|=t.suspendedLanes&n,Ue===t&&(qe&n)===n&&(Oe===4||Oe===3&&(qe&130023424)===qe&&500>Ae()-ff?$r(t,0):df|=n),vt(t,e)}function _0(t,e){e===0&&(t.mode&1?(e=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):e=1);var n=lt();t=kn(t,e),t!==null&&(zo(t,e,n),vt(t,n))}function hI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_0(t,n)}function dI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),_0(t,n)}var w0;w0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mt.current)pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pt=!1,ZT(t,e,n);pt=!!(t.flags&131072)}else pt=!1,ge&&e.flags&1048576&&I_(e,Sl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;el(t,e),t=e.pendingProps;var s=Bs(e,rt.current);Ls(e,n),s=of(null,e,r,t,s,n);var i=af();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gt(r)?(i=!0,Tl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ef(e),s.updater=mc,e.stateNode=s,s._reactInternals=e,jh(e,r,t,n),e=bh(null,e,r,!0,i,n)):(e.tag=0,ge&&i&&Gd(e),at(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(el(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=pI(r),t=Ft(r,t),s){case 0:e=Rh(null,e,r,t,n);break e;case 1:e=gg(null,e,r,t,n);break e;case 11:e=pg(null,e,r,t,n);break e;case 14:e=mg(null,e,r,Ft(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ft(r,s),Rh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ft(r,s),gg(t,e,r,s,n);case 3:e:{if(r0(e),t===null)throw Error(M(387));r=e.pendingProps,i=e.memoizedState,s=i.element,j_(t,e),Nl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gs(Error(M(423)),e),e=vg(t,e,r,n,s);break e}else if(r!==s){s=Gs(Error(M(424)),e),e=vg(t,e,r,n,s);break e}else for(Et=rr(e.stateNode.containerInfo.firstChild),xt=e,ge=!0,zt=null,n=N_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ws(),r===s){e=Nn(t,e,n);break e}at(t,e,r,n)}e=e.child}return e;case 5:return P_(e),t===null&&kh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xh(r,s)?o=null:i!==null&&xh(r,i)&&(e.flags|=32),n0(t,e),at(t,e,o,n),e.child;case 6:return t===null&&kh(e),null;case 13:return s0(t,e,n);case 4:return tf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):at(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ft(r,s),pg(t,e,r,s,n);case 7:return at(t,e,e.pendingProps,n),e.child;case 8:return at(t,e,e.pendingProps.children,n),e.child;case 12:return at(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,de(Cl,r._currentValue),r._currentValue=o,i!==null)if(Gt(i.value,o)){if(i.children===s.children&&!mt.current){e=Nn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=xn(-1,n&-n),u.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Nh(i.return,n,e),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Nh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}at(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ls(e,n),s=Dt(s),r=r(s),e.flags|=1,at(t,e,r,n),e.child;case 14:return r=e.type,s=Ft(r,e.pendingProps),s=Ft(r.type,s),mg(t,e,r,s,n);case 15:return e0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ft(r,s),el(t,e),e.tag=1,gt(r)?(t=!0,Tl(e)):t=!1,Ls(e,n),X_(e,r,s),jh(e,r,s,n),bh(null,e,r,!0,t,n);case 19:return i0(t,e,n);case 22:return t0(t,e,n)}throw Error(M(156,e.tag))};function E0(t,e){return Ky(t,e)}function fI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new fI(t,e,n,r)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pI(t){if(typeof t=="function")return vf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Od)return 11;if(t===Ld)return 14}return 2}function ar(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Es:return Br(n.children,s,i,e);case Dd:o=8,s|=8;break;case eh:return t=Pt(12,n,e,s|2),t.elementType=eh,t.lanes=i,t;case th:return t=Pt(13,n,e,s),t.elementType=th,t.lanes=i,t;case nh:return t=Pt(19,n,e,s),t.elementType=nh,t.lanes=i,t;case Py:return yc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ay:o=10;break e;case jy:o=9;break e;case Od:o=11;break e;case Ld:o=14;break e;case Wn:o=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=Pt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Br(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function yc(t,e,n,r){return t=Pt(22,t,r,e),t.elementType=Py,t.lanes=n,t.stateNode={isHidden:!1},t}function Lu(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function Vu(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vu(0),this.expirationTimes=vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yf(t,e,n,r,s,i,o,c,u){return t=new mI(t,e,n,c,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ef(i),t}function gI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function x0(t){if(!t)return gr;t=t._reactInternals;e:{if(ss(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(gt(n))return x_(t,n,e)}return e}function T0(t,e,n,r,s,i,o,c,u){return t=yf(n,r,!0,t,s,i,o,c,u),t.context=x0(null),n=t.current,r=lt(),s=or(n),i=xn(r,s),i.callback=e??null,sr(n,i,s),t.current.lanes=s,zo(t,s,r),vt(t,r),t}function _c(t,e,n,r){var s=e.current,i=lt(),o=or(s);return n=x0(n),e.context===null?e.context=n:e.pendingContext=n,e=xn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sr(s,e,o),t!==null&&(qt(t,s,o,i),Xa(t,s,o)),o}function Ll(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _f(t,e){kg(t,e),(t=t.alternate)&&kg(t,e)}function vI(){return null}var I0=typeof reportError=="function"?reportError:function(t){console.error(t)};function wf(t){this._internalRoot=t}wc.prototype.render=wf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));_c(t,e,null,null)};wc.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){_c(null,t,null,null)}),e[Cn]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=t_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hn.length&&e!==0&&e<Hn[n].priority;n++);Hn.splice(n,0,t),n===0&&r_(t)}};function Ef(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ng(){}function yI(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=Ll(o);i.call(h)}}var o=T0(e,r,t,0,null,!1,!1,"",Ng);return t._reactRootContainer=o,t[Cn]=o.current,yo(t.nodeType===8?t.parentNode:t),Qr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=Ll(u);c.call(h)}}var u=yf(t,0,!1,null,null,!1,!1,"",Ng);return t._reactRootContainer=u,t[Cn]=u.current,yo(t.nodeType===8?t.parentNode:t),Qr(function(){_c(e,u,n,r)}),u}function xc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=Ll(o);c.call(u)}}_c(e,o,t,s)}else o=yI(n,e,t,s,r);return Ll(o)}Zy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$i(e.pendingLanes);n!==0&&(Fd(e,n|1),vt(e,Ae()),!(oe&6)&&(Ks=Ae()+500,Sr()))}break;case 13:Qr(function(){var r=kn(t,1);if(r!==null){var s=lt();qt(r,t,1,s)}}),_f(t,1)}};Ud=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=lt();qt(e,t,134217728,n)}_f(t,134217728)}};e_=function(t){if(t.tag===13){var e=or(t),n=kn(t,e);if(n!==null){var r=lt();qt(n,t,e,r)}_f(t,e)}};t_=function(){return ce};n_=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};dh=function(t,e,n){switch(e){case"input":if(ih(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=dc(r);if(!s)throw Error(M(90));by(r),ih(r,s)}}}break;case"textarea":Oy(t,n);break;case"select":e=n.value,e!=null&&Rs(t,!!n.multiple,e,!1)}};$y=pf;By=Qr;var _I={usingClientEntryPoint:!1,Events:[Bo,Ss,dc,Uy,zy,pf]},Vi={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wI={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hy(t),t===null?null:t.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||vI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{lc=Ma.inject(wI),Jt=Ma}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_I;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(e))throw Error(M(200));return gI(t,e,null,n)};St.createRoot=function(t,e){if(!Ef(t))throw Error(M(299));var n=!1,r="",s=I0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yf(t,1,!1,null,null,n,!1,r,s),t[Cn]=e.current,yo(t.nodeType===8?t.parentNode:t),new wf(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=Hy(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return Qr(t)};St.hydrate=function(t,e,n){if(!Ec(e))throw Error(M(200));return xc(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!Ef(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=I0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=T0(e,null,t,1,n??null,s,!1,i,o),t[Cn]=e.current,yo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wc(e)};St.render=function(t,e,n){if(!Ec(e))throw Error(M(200));return xc(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!Ec(t))throw Error(M(40));return t._reactRootContainer?(Qr(function(){xc(null,null,t,!1,function(){t._reactRootContainer=null,t[Cn]=null})}),!0):!1};St.unstable_batchedUpdates=pf;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ec(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return xc(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function S0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S0)}catch(t){console.error(t)}}S0(),Sy.exports=St;var EI=Sy.exports,Ag=EI;Ju.createRoot=Ag.createRoot,Ju.hydrateRoot=Ag.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ko(){return ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ko.apply(this,arguments)}var Jn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jn||(Jn={}));const jg="popstate";function xI(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:c}=r.location;return qh("",{pathname:i,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vl(s)}return II(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TI(){return Math.random().toString(36).substr(2,8)}function Pg(t,e){return{usr:t.state,key:t.key,idx:e}}function qh(t,e,n,r){return n===void 0&&(n=null),ko({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ai(e):e,{state:n,key:e&&e.key||r||TI()})}function Vl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function II(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,c=Jn.Pop,u=null,h=p();h==null&&(h=0,o.replaceState(ko({},o.state,{idx:h}),""));function p(){return(o.state||{idx:null}).idx}function m(){c=Jn.Pop;let S=p(),v=S==null?null:S-h;h=S,u&&u({action:c,location:N.location,delta:v})}function y(S,v){c=Jn.Push;let g=qh(N.location,S,v);h=p()+1;let w=Pg(g,h),D=N.createHref(g);try{o.pushState(w,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(D)}i&&u&&u({action:c,location:N.location,delta:1})}function x(S,v){c=Jn.Replace;let g=qh(N.location,S,v);h=p();let w=Pg(g,h),D=N.createHref(g);o.replaceState(w,"",D),i&&u&&u({action:c,location:N.location,delta:0})}function A(S){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof S=="string"?S:Vl(S);return g=g.replace(/ $/,"%20"),je(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let N={get action(){return c},get location(){return t(s,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(jg,m),u=S,()=>{s.removeEventListener(jg,m),u=null}},createHref(S){return e(s,S)},createURL:A,encodeLocation(S){let v=A(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:y,replace:x,go(S){return o.go(S)}};return N}var Rg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rg||(Rg={}));function SI(t,e,n){return n===void 0&&(n="/"),CI(t,e,n)}function CI(t,e,n,r){let s=typeof e=="string"?ai(e):e,i=xf(s.pathname||"/",n);if(i==null)return null;let o=k0(t);kI(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=FI(i);c=LI(o[u],h)}return c}function k0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(je(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=lr([r,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),k0(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:DI(h,i.index),routesMeta:p})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of N0(i.path))s(i,o,u)}),e}function N0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=N0(r.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function kI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NI=/^:[\w-]+$/,AI=3,jI=2,PI=1,RI=10,bI=-2,bg=t=>t==="*";function DI(t,e){let n=t.split("/"),r=n.length;return n.some(bg)&&(r+=bI),e&&(r+=jI),n.filter(s=>!bg(s)).reduce((s,i)=>s+(NI.test(i)?AI:i===""?PI:RI),r)}function OI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function LI(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",m=VI({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),y=u.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:lr([i,m.pathname]),pathnameBase:BI(lr([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=lr([i,m.pathnameBase]))}return o}function VI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let N=c[m]||"";o=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const A=c[m];return x&&!A?h[y]=void 0:h[y]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function MI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),C0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function FI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return C0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ai(t):t;return{pathname:n?n.startsWith("/")?n:zI(n,e):e,search:WI(r),hash:qI(s)}}function zI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $I(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tf(t,e){let n=$I(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function If(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ai(t):(s=ko({},t),je(!s.pathname||!s.pathname.includes("?"),Mu("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),Mu("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),Mu("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}c=m>=0?e[m]:"/"}let u=UI(s,c),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const lr=t=>t.join("/").replace(/\/\/+/g,"/"),BI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const A0=["post","put","patch","delete"];new Set(A0);const GI=["get",...A0];new Set(GI);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},No.apply(this,arguments)}const Sf=P.createContext(null),KI=P.createContext(null),Cr=P.createContext(null),Tc=P.createContext(null),Dn=P.createContext({outlet:null,matches:[],isDataRoute:!1}),j0=P.createContext(null);function QI(t,e){let{relative:n}=e===void 0?{}:e;li()||je(!1);let{basename:r,navigator:s}=P.useContext(Cr),{hash:i,pathname:o,search:c}=R0(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:lr([r,o])),s.createHref({pathname:u,search:c,hash:i})}function li(){return P.useContext(Tc)!=null}function kr(){return li()||je(!1),P.useContext(Tc).location}function P0(t){P.useContext(Cr).static||P.useLayoutEffect(t)}function Nr(){let{isDataRoute:t}=P.useContext(Dn);return t?cS():YI()}function YI(){li()||je(!1);let t=P.useContext(Sf),{basename:e,future:n,navigator:r}=P.useContext(Cr),{matches:s}=P.useContext(Dn),{pathname:i}=kr(),o=JSON.stringify(Tf(s,n.v7_relativeSplatPath)),c=P.useRef(!1);return P0(()=>{c.current=!0}),P.useCallback(function(h,p){if(p===void 0&&(p={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let m=If(h,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:lr([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,o,i,t])}function XI(){let{matches:t}=P.useContext(Dn),e=t[t.length-1];return e?e.params:{}}function R0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Cr),{matches:s}=P.useContext(Dn),{pathname:i}=kr(),o=JSON.stringify(Tf(s,r.v7_relativeSplatPath));return P.useMemo(()=>If(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function JI(t,e){return ZI(t,e)}function ZI(t,e,n,r){li()||je(!1);let{navigator:s,static:i}=P.useContext(Cr),{matches:o}=P.useContext(Dn),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let p=kr(),m;if(e){var y;let v=typeof e=="string"?ai(e):e;h==="/"||(y=v.pathname)!=null&&y.startsWith(h)||je(!1),m=v}else m=p;let x=m.pathname||"/",A=x;if(h!=="/"){let v=h.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(v.length).join("/")}let N=SI(t,{pathname:A}),S=sS(N&&N.map(v=>Object.assign({},v,{params:Object.assign({},u,v.params),pathname:lr([h,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?h:lr([h,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&S?P.createElement(Tc.Provider,{value:{location:No({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Jn.Pop}},S):S}function eS(){let t=lS(),e=HI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,null)}const tS=P.createElement(eS,null);class nS extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Dn.Provider,{value:this.props.routeContext},P.createElement(j0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rS(t){let{routeContext:e,match:n,children:r}=t,s=P.useContext(Sf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Dn.Provider,{value:e},r)}function sS(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let p=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);p>=0||je(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:x}=n,A=m.route.loader&&y[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||A){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,m,y)=>{let x,A=!1,N=null,S=null;n&&(x=c&&m.route.id?c[m.route.id]:void 0,N=m.route.errorElement||tS,u&&(h<0&&y===0?(uS("route-fallback"),A=!0,S=null):h===y&&(A=!0,S=m.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,y+1)),g=()=>{let w;return x?w=N:A?w=S:m.route.Component?w=P.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=p,P.createElement(rS,{match:m,routeContext:{outlet:p,matches:v,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?P.createElement(nS,{location:n.location,revalidation:n.revalidation,component:N,error:x,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var b0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b0||{}),D0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(D0||{});function iS(t){let e=P.useContext(Sf);return e||je(!1),e}function oS(t){let e=P.useContext(KI);return e||je(!1),e}function aS(t){let e=P.useContext(Dn);return e||je(!1),e}function O0(t){let e=aS(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function lS(){var t;let e=P.useContext(j0),n=oS(),r=O0();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cS(){let{router:t}=iS(b0.UseNavigateStable),e=O0(D0.UseNavigateStable),n=P.useRef(!1);return P0(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,No({fromRouteId:e},i)))},[t,e])}const Dg={};function uS(t,e,n){Dg[t]||(Dg[t]=!0)}function hS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Hh(t){let{to:e,replace:n,state:r,relative:s}=t;li()||je(!1);let{future:i,static:o}=P.useContext(Cr),{matches:c}=P.useContext(Dn),{pathname:u}=kr(),h=Nr(),p=If(e,Tf(c,i.v7_relativeSplatPath),u,s==="path"),m=JSON.stringify(p);return P.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:s}),[h,m,s,n,r]),null}function ke(t){je(!1)}function dS(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Jn.Pop,navigator:i,static:o=!1,future:c}=t;li()&&je(!1);let u=e.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:u,navigator:i,static:o,future:No({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof r=="string"&&(r=ai(r));let{pathname:p="/",search:m="",hash:y="",state:x=null,key:A="default"}=r,N=P.useMemo(()=>{let S=xf(p,u);return S==null?null:{location:{pathname:S,search:m,hash:y,state:x,key:A},navigationType:s}},[u,p,m,y,x,A,s]);return N==null?null:P.createElement(Cr.Provider,{value:h},P.createElement(Tc.Provider,{children:n,value:N}))}function fS(t){let{children:e,location:n}=t;return JI(Gh(e),n)}new Promise(()=>{});function Gh(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,Gh(r.props.children,i));return}r.type!==ke&&je(!1),!r.props.index||!r.props.children||je(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function pS(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function mS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gS(t,e){return t.button===0&&(!e||e==="_self")&&!mS(t)}const vS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yS="6";try{window.__reactRouterVersion=yS}catch{}const _S="startTransition",Og=u1[_S];function wS(t){let{basename:e,children:n,future:r,window:s}=t,i=P.useRef();i.current==null&&(i.current=xI({window:s,v5Compat:!0}));let o=i.current,[c,u]=P.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},p=P.useCallback(m=>{h&&Og?Og(()=>u(m)):u(m)},[u,h]);return P.useLayoutEffect(()=>o.listen(p),[o,p]),P.useEffect(()=>hS(r),[r]),P.createElement(dS,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const ES=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=P.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:h,preventScrollReset:p,viewTransition:m}=e,y=pS(e,vS),{basename:x}=P.useContext(Cr),A,N=!1;if(typeof h=="string"&&xS.test(h)&&(A=h,ES))try{let w=new URL(window.location.href),D=h.startsWith("//")?new URL(w.protocol+h):new URL(h),F=xf(D.pathname,x);D.origin===w.origin&&F!=null?h=F+D.search+D.hash:N=!0}catch{}let S=QI(h,{relative:s}),v=TS(h,{replace:o,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:m});function g(w){r&&r(w),w.defaultPrevented||v(w)}return P.createElement("a",Kh({},y,{href:A||S,onClick:N||i?r:g,ref:n,target:u}))});var Lg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lg||(Lg={}));var Vg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Vg||(Vg={}));function TS(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:c}=e===void 0?{}:e,u=Nr(),h=kr(),p=R0(t,{relative:o});return P.useCallback(m=>{if(gS(m,n)){m.preventDefault();let y=r!==void 0?r:Vl(h)===Vl(p);u(t,{replace:y,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[h,u,p,r,s,n,t,i,o,c])}const IS=()=>{};var Mg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},SS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,p=i>>2,m=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,x=h&63;u||(x=64,o||(y=64)),r.push(n[p],n[m],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||m==null)throw new CS;const y=i<<2|c>>4;if(r.push(y),h!==64){const x=c<<4&240|h>>2;if(r.push(x),m!==64){const A=h<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kS=function(t){const e=L0(t);return V0.encodeByteArray(e,!0)},Ml=function(t){return kS(t).replace(/\./g,"")},M0=function(t){try{return V0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=()=>NS().__FIREBASE_DEFAULTS__,jS=()=>{if(typeof process>"u"||typeof Mg>"u")return;const t=Mg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M0(t[1]);return e&&JSON.parse(e)},Ic=()=>{try{return IS()||AS()||jS()||PS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F0=t=>{var e,n;return(n=(e=Ic())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RS=t=>{const e=F0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U0=()=>{var t;return(t=Ic())===null||t===void 0?void 0:t.config},z0=t=>{var e;return(e=Ic())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ml(JSON.stringify(n)),Ml(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function LS(){var t;const e=(t=Ic())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const t=st();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zS(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $S(){try{return typeof indexedDB=="object"}catch{return!1}}function BS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="FirebaseError";class On extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WS,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?qS(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new On(s,c,r)}}function qS(t,e){return t.replace(HS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const HS=/\{\$([^}]+)}/g;function GS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Fg(i)&&Fg(o)){if(!Yr(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Fg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KS(t,e){const n=new QS(t,e);return n.subscribe.bind(n)}class QS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YS(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Fu),s.error===void 0&&(s.error=Fu),s.complete===void 0&&(s.complete=Fu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){return t.endsWith(".cloudworkstations.dev")}async function $0(t){return(await fetch(t,{credentials:"include"})).ok}class Xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZS(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(t){return t===Lr?void 0:t}function ZS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const tC={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},nC=re.INFO,rC={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},sC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=rC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cf{constructor(e){this.name=e,this._logLevel=nC,this._logHandler=sC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const iC=(t,e)=>e.some(n=>t instanceof n);let Ug,zg;function oC(){return Ug||(Ug=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aC(){return zg||(zg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,Qh=new WeakMap,W0=new WeakMap,Uu=new WeakMap,kf=new WeakMap;function lC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(cr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&B0.set(n,t)}).catch(()=>{}),kf.set(e,t),e}function cC(t){if(Qh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qh.set(t,e)}let Yh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uC(t){Yh=t(Yh)}function hC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zu(this),e,...n);return W0.set(r,e.sort?e.sort():[e]),cr(r)}:aC().includes(t)?function(...e){return t.apply(zu(this),e),cr(B0.get(this))}:function(...e){return cr(t.apply(zu(this),e))}}function dC(t){return typeof t=="function"?hC(t):(t instanceof IDBTransaction&&cC(t),iC(t,oC())?new Proxy(t,Yh):t)}function cr(t){if(t instanceof IDBRequest)return lC(t);if(Uu.has(t))return Uu.get(t);const e=dC(t);return e!==t&&(Uu.set(t,e),kf.set(e,t)),e}const zu=t=>kf.get(t);function fC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=cr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cr(o.result),u.oldVersion,u.newVersion,cr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const pC=["get","getKey","getAll","getAllKeys","count"],mC=["put","add","delete","clear"],$u=new Map;function $g(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($u.get(e))return $u.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pC.includes(n)))return;const i=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&u.done]))[0]};return $u.set(e,i),i}uC(t=>({...t,get:(e,n,r)=>$g(e,n)||t.get(e,n,r),has:(e,n)=>!!$g(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xh="@firebase/app",Bg="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Cf("@firebase/app"),yC="@firebase/app-compat",_C="@firebase/analytics-compat",wC="@firebase/analytics",EC="@firebase/app-check-compat",xC="@firebase/app-check",TC="@firebase/auth",IC="@firebase/auth-compat",SC="@firebase/database",CC="@firebase/data-connect",kC="@firebase/database-compat",NC="@firebase/functions",AC="@firebase/functions-compat",jC="@firebase/installations",PC="@firebase/installations-compat",RC="@firebase/messaging",bC="@firebase/messaging-compat",DC="@firebase/performance",OC="@firebase/performance-compat",LC="@firebase/remote-config",VC="@firebase/remote-config-compat",MC="@firebase/storage",FC="@firebase/storage-compat",UC="@firebase/firestore",zC="@firebase/vertexai",$C="@firebase/firestore-compat",BC="firebase",WC="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="[DEFAULT]",qC={[Xh]:"fire-core",[yC]:"fire-core-compat",[wC]:"fire-analytics",[_C]:"fire-analytics-compat",[xC]:"fire-app-check",[EC]:"fire-app-check-compat",[TC]:"fire-auth",[IC]:"fire-auth-compat",[SC]:"fire-rtdb",[CC]:"fire-data-connect",[kC]:"fire-rtdb-compat",[NC]:"fire-fn",[AC]:"fire-fn-compat",[jC]:"fire-iid",[PC]:"fire-iid-compat",[RC]:"fire-fcm",[bC]:"fire-fcm-compat",[DC]:"fire-perf",[OC]:"fire-perf-compat",[LC]:"fire-rc",[VC]:"fire-rc-compat",[MC]:"fire-gcs",[FC]:"fire-gcs-compat",[UC]:"fire-fst",[$C]:"fire-fst-compat",[zC]:"fire-vertex","fire-js":"fire-js",[BC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,HC=new Map,Zh=new Map;function Wg(t,e){try{t.container.addComponent(e)}catch(n){An.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(Zh.has(e))return An.debug(`There were multiple attempts to register component ${e}.`),!1;Zh.set(e,t);for(const n of Fl.values())Wg(n,t);for(const n of HC.values())Wg(n,t);return!0}function Nf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new qo("app","Firebase",GC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=WC;function q0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ur.create("bad-app-name",{appName:String(s)});if(n||(n=U0()),!n)throw ur.create("no-options");const i=Fl.get(s);if(i){if(Yr(n,i.options)&&Yr(r,i.config))return i;throw ur.create("duplicate-app",{appName:s})}const o=new eC(s);for(const u of Zh.values())o.addComponent(u);const c=new KC(n,r,o);return Fl.set(s,c),c}function H0(t=Jh){const e=Fl.get(t);if(!e&&t===Jh&&U0())return q0();if(!e)throw ur.create("no-app",{appName:t});return e}function hr(t,e,n){var r;let s=(r=qC[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),An.warn(c.join(" "));return}Qs(new Xr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebase-heartbeat-database",YC=1,Ao="firebase-heartbeat-store";let Bu=null;function G0(){return Bu||(Bu=fC(QC,YC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ao)}catch(n){console.warn(n)}}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),Bu}async function XC(t){try{const n=(await G0()).transaction(Ao),r=await n.objectStore(Ao).get(K0(t));return await n.done,r}catch(e){if(e instanceof On)An.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});An.warn(n.message)}}}async function qg(t,e){try{const r=(await G0()).transaction(Ao,"readwrite");await r.objectStore(Ao).put(e,K0(t)),await r.done}catch(n){if(n instanceof On)An.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});An.warn(r.message)}}}function K0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1024,ZC=30;class ek{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>ZC){const o=rk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){An.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hg(),{heartbeatsToSend:r,unsentEntries:s}=tk(this._heartbeatsCache.heartbeats),i=Ml(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return An.warn(n),""}}}function Hg(){return new Date().toISOString().substring(0,10)}function tk(t,e=JC){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Gg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Gg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $S()?BS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gg(t){return Ml(JSON.stringify({version:2,heartbeats:t})).length}function rk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){Qs(new Xr("platform-logger",e=>new gC(e),"PRIVATE")),Qs(new Xr("heartbeat",e=>new ek(e),"PRIVATE")),hr(Xh,Bg,t),hr(Xh,Bg,"esm2017"),hr("fire-js","")}sk("");function Af(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ik=Q0,Y0=new qo("auth","Firebase",Q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new Cf("@firebase/auth");function ok(t,...e){Ul.logLevel<=re.WARN&&Ul.warn(`Auth (${ci}): ${t}`,...e)}function sl(t,...e){Ul.logLevel<=re.ERROR&&Ul.error(`Auth (${ci}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t,...e){throw Pf(t,...e)}function Ht(t,...e){return Pf(t,...e)}function jf(t,e,n){const r=Object.assign(Object.assign({},ik()),{[e]:n});return new qo("auth","Firebase",r).create(e,{appName:t.name})}function Tn(t){return jf(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ak(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Lt(t,"argument-error"),jf(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y0.create(t,...e)}function Q(t,e,...n){if(!t)throw Pf(e,...n)}function wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sl(e),new Error(e)}function jn(t,e){t||wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lk(){return Kg()==="http:"||Kg()==="https:"}function Kg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lk()||MS()||"connection"in navigator)?navigator.onLine:!0}function uk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.shortDelay=e,this.longDelay=n,jn(n>e,"Short delay should be less than long delay!"),this.isMobile=OS()||FS()}get(){return ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e){jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fk=new Go(3e4,6e4);function Ln(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vn(t,e,n,r,s={}){return J0(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=Ho(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},i);return VS()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Sc(t.emulatorConfig.host)&&(h.credentials="include"),X0.fetch()(await Z0(t,t.config.apiHost,n,c),h)})}async function J0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hk),e);try{const s=new mk(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fa(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fa(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Fa(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Fa(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw jf(t,p,h);Lt(t,p)}}catch(s){if(s instanceof On)throw s;Lt(t,"network-request-failed",{message:String(s)})}}async function Ko(t,e,n,r,s={}){const i=await Vn(t,e,n,r,s);return"mfaPendingCredential"in i&&Lt(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Z0(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Rf(t.config,s):`${t.config.apiScheme}://${s}`;return dk.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function pk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ht(this.auth,"network-request-failed")),fk.get())})}}function Fa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ht(t,e,r);return s.customData._tokenResponse=n,s}function Qg(t){return t!==void 0&&t.enterprise!==void 0}class gk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vk(t,e){return Vn(t,"GET","/v2/recaptchaConfig",Ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(t,e){return Vn(t,"POST","/v1/accounts:delete",e)}async function zl(t,e){return Vn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _k(t,e=!1){const n=It(t),r=await n.getIdToken(e),s=bf(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:so(Wu(s.auth_time)),issuedAtTime:so(Wu(s.iat)),expirationTime:so(Wu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Wu(t){return Number(t)*1e3}function bf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sl("JWT malformed, contained fewer than 3 sections"),null;try{const s=M0(n);return s?JSON.parse(s):(sl("Failed to decode base64 JWT payload"),null)}catch(s){return sl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Yg(t){const e=bf(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof On&&wk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=so(this.lastLoginAt),this.creationTime=so(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t){var e;const n=t.auth,r=await t.getIdToken(),s=await jo(t,zl(n,{idToken:r}));Q(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ew(i.providerUserInfo):[],c=Tk(t.providerData,o),u=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),p=u?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new td(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function xk(t){const e=It(t);await $l(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ew(t){return t.map(e=>{var{providerId:n}=e,r=Af(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e){const n=await J0(t,{},async()=>{const r=Ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Z0(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",X0.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sk(t,e){return Vn(t,"POST","/v2/accounts:revokeToken",Ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=Yg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Ik(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ms;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ms,this.toJSON())}_performRefresh(){return wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $t{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new td(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jo(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _k(this,e)}reload(){return xk(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $l(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wt(this.auth.app))return Promise.reject(Tn(this.auth));const e=await this.getIdToken();return await jo(this,yk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,c,u,h,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(h=n.createdAt)!==null&&h!==void 0?h:void 0,g=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:w,emailVerified:D,isAnonymous:F,providerData:z,stsTokenManager:I}=n;Q(w&&I,e,"internal-error");const E=Ms.fromJSON(this.name,I);Q(typeof w=="string",e,"internal-error"),Bn(m,e.name),Bn(y,e.name),Q(typeof D=="boolean",e,"internal-error"),Q(typeof F=="boolean",e,"internal-error"),Bn(x,e.name),Bn(A,e.name),Bn(N,e.name),Bn(S,e.name),Bn(v,e.name),Bn(g,e.name);const T=new $t({uid:w,auth:e,email:y,emailVerified:D,displayName:m,isAnonymous:F,photoURL:A,phoneNumber:x,tenantId:N,stsTokenManager:E,createdAt:v,lastLoginAt:g});return z&&Array.isArray(z)&&(T.providerData=z.map(C=>Object.assign({},C))),S&&(T._redirectEventId=S),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ms;s.updateFromServerResponse(n);const i=new $t({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await $l(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ew(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Ms;c.updateFromIdToken(r);const u=new $t({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new td(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Map;function En(t){jn(t instanceof Function,"Expected a class definition");let e=Xg.get(t);return e?(jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tw.type="NONE";const Jg=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t,e,n){return`firebase:${t}:${e}:${n}`}class Fs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=il(this.userKey,s.apiKey,i),this.fullPersistenceKey=il("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zl(this.auth,{idToken:e}).catch(()=>{});return n?$t._fromGetAccountInfoResponse(this.auth,n,e):null}return $t._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fs(En(Jg),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||En(Jg);const o=il(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(o);if(p){let m;if(typeof p=="string"){const y=await zl(e,{idToken:p}).catch(()=>{});if(!y)break;m=await $t._fromGetAccountInfoResponse(e,y,p)}else m=$t._fromJSON(e,p);h!==i&&(c=m),i=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Fs(i,e,r):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Fs(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(lw(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||sw(e))&&!e.includes("edge/"))return"Chrome";if(ow(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nw(t=st()){return/firefox\//i.test(t)}function rw(t=st()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sw(t=st()){return/crios\//i.test(t)}function iw(t=st()){return/iemobile/i.test(t)}function ow(t=st()){return/android/i.test(t)}function aw(t=st()){return/blackberry/i.test(t)}function lw(t=st()){return/webos/i.test(t)}function Df(t=st()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ck(t=st()){var e;return Df(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kk(){return US()&&document.documentMode===10}function cw(t=st()){return Df(t)||ow(t)||lw(t)||aw(t)||/windows phone/i.test(t)||iw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e=[]){let n;switch(t){case"Browser":n=Zg(st());break;case"Worker":n=`${Zg(st())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ci}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const u=e(i);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e={}){return Vn(t,"GET","/v2/passwordPolicy",Ln(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=6;class Pk{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new Nk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=En(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Fs.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zl(this,{idToken:e}),r=await $t._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $l(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wt(this.app))return Promise.reject(Tn(this));const n=e?It(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wt(this.app)?Promise.reject(Tn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wt(this.app)?Promise.reject(Tn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(En(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ak(this),n=new Pk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&En(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Fs.create(this,[En(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ok(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mn(t){return It(t)}class ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=KS(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bk(t){Cc=t}function hw(t){return Cc.loadJS(t)}function Dk(){return Cc.recaptchaEnterpriseScript}function Ok(){return Cc.gapiScript}function Lk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Vk{constructor(){this.enterprise=new Mk}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Mk{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Fk="recaptcha-enterprise",dw="NO_RECAPTCHA";class Uk{constructor(e){this.type=Fk,this.auth=Mn(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{vk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new gk(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function s(i,o,c){const u=window.grecaptcha;Qg(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(dw)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vk().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(c=>{if(!n&&Qg(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Dk();u.length!==0&&(u+=c),hw(u).then(()=>{s(c,i,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function tv(t,e,n,r=!1,s=!1){const i=new Uk(t);let o;if(s)o=dw;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Bl(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await tv(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await tv(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){const n=Nf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Yr(i,e??{}))return s;Lt(s,"already-initialized")}return n.initialize({options:e})}function $k(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(En);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Bk(t,e,n){const r=Mn(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=fw(e),{host:o,port:c}=Wk(e),u=c===null?"":`:${c}`,h={url:`${i}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Yr(h,r.config.emulator)&&Yr(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,qk(),Sc(o)&&$0(`${i}//${o}${u}`)}function fw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wk(t){const e=fw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:nv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:nv(o)}}}function nv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wn("not implemented")}_getIdTokenResponse(e){return wn("not implemented")}_linkToIdToken(e,n){return wn("not implemented")}_getReauthenticationResolver(e){return wn("not implemented")}}async function Hk(t,e){return Vn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return Ko(t,"POST","/v1/accounts:signInWithPassword",Ln(t,e))}async function Kk(t,e){return Vn(t,"POST","/v1/accounts:sendOobCode",Ln(t,e))}async function Qk(t,e){return Kk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e){return Ko(t,"POST","/v1/accounts:signInWithEmailLink",Ln(t,e))}async function Xk(t,e){return Ko(t,"POST","/v1/accounts:signInWithEmailLink",Ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Of{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Po(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Po(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bl(e,n,"signInWithPassword",Gk);case"emailLink":return Yk(e,{email:this._email,oobCode:this._password});default:Lt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bl(e,r,"signUpPassword",Hk);case"emailLink":return Xk(e,{idToken:n,email:this._email,oobCode:this._password});default:Lt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t,e){return Ko(t,"POST","/v1/accounts:signInWithIdp",Ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="http://localhost";class Jr extends Of{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Af(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Jr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Us(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Us(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Us(e,n)}buildRequest(){const e={requestUri:Jk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ho(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eN(t){const e=Wi(qi(t)).link,n=e?Wi(qi(e)).deep_link_id:null,r=Wi(qi(t)).deep_link_id;return(r?Wi(qi(r)).link:null)||r||n||e||t}class Lf{constructor(e){var n,r,s,i,o,c;const u=Wi(qi(e)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,m=Zk((s=u.mode)!==null&&s!==void 0?s:null);Q(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=eN(e);try{return new Lf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.providerId=ui.PROVIDER_ID}static credential(e,n){return Po._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lf.parseLink(n);return Q(r,"argument-error"),Po._fromEmailAndCode(e,r.code,r.tenantId)}}ui.PROVIDER_ID="password";ui.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ui.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends Qo{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:gn.PROVIDER_ID,signInMethod:gn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gn.credentialFromTaggedObject(e)}static credentialFromError(e){return gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gn.credential(e.oauthAccessToken)}catch{return null}}}gn.FACEBOOK_SIGN_IN_METHOD="facebook.com";gn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jr._fromParams({providerId:vn.PROVIDER_ID,signInMethod:vn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vn.credentialFromTaggedObject(e)}static credentialFromError(e){return vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vn.credential(n,r)}catch{return null}}}vn.GOOGLE_SIGN_IN_METHOD="google.com";vn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends Qo{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kn.credential(e.oauthAccessToken)}catch{return null}}}Kn.GITHUB_SIGN_IN_METHOD="github.com";Kn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends Qo{constructor(){super("twitter.com")}static credential(e,n){return Jr._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.TWITTER_SIGN_IN_METHOD="twitter.com";Qn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t,e){return Ko(t,"POST","/v1/accounts:signUp",Ln(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await $t._fromIdTokenResponse(e,r,s),o=rv(r);return new Zr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=rv(r);return new Zr({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function rv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends On{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Wl(e,n,r,s)}}function pw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wl._fromErrorAndOperation(t,i,e,r):i})}async function nN(t,e,n=!1){const r=await jo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e,n=!1){const{auth:r}=t;if(wt(r.app))return Promise.reject(Tn(r));const s="reauthenticate";try{const i=await jo(t,pw(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=bf(i.idToken);Q(o,r,"internal-error");const{sub:c}=o;return Q(t.uid===c,r,"user-mismatch"),Zr._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Lt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t,e,n=!1){if(wt(t.app))return Promise.reject(Tn(t));const r="signIn",s=await pw(t,r,e),i=await Zr._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function sN(t,e){return mw(Mn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(t){const e=Mn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iN(t,e,n){const r=Mn(t);await Bl(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Qk)}async function oN(t,e,n){if(wt(t.app))return Promise.reject(Tn(t));const r=Mn(t),o=await Bl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&gw(t),u}),c=await Zr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function aN(t,e,n){return wt(t.app)?Promise.reject(Tn(t)):sN(It(t),ui.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gw(t),r})}function lN(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function cN(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function uN(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function hN(t){return It(t).signOut()}const ql="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ql,"1"),this.storage.removeItem(ql),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1e3,fN=10;class yw extends vw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);kk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yw.type="LOCAL";const pN=yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends vw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_w.type="SESSION";const ww=_w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async h=>h(n.origin,i)),u=await mN(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const h=Mf("",20);s.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(p),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return window}function vN(t){en().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return typeof en().WorkerGlobalScope<"u"&&typeof en().importScripts=="function"}async function yN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _N(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wN(){return Ew()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firebaseLocalStorageDb",EN=1,Hl="firebaseLocalStorage",Tw="fbase_key";class Yo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nc(t,e){return t.transaction([Hl],e?"readwrite":"readonly").objectStore(Hl)}function xN(){const t=indexedDB.deleteDatabase(xw);return new Yo(t).toPromise()}function nd(){const t=indexedDB.open(xw,EN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hl,{keyPath:Tw})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hl)?e(r):(r.close(),await xN(),e(await nd()))})})}async function sv(t,e,n){const r=Nc(t,!0).put({[Tw]:e,value:n});return new Yo(r).toPromise()}async function TN(t,e){const n=Nc(t,!1).get(e),r=await new Yo(n).toPromise();return r===void 0?null:r.value}function iv(t,e){const n=Nc(t,!0).delete(e);return new Yo(n).toPromise()}const IN=800,SN=3;class Iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ew()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kc._getInstance(wN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yN(),!this.activeServiceWorker)return;this.sender=new gN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nd();return await sv(e,ql,"1"),await iv(e,ql),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Nc(s,!1).getAll();return new Yo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iw.type="LOCAL";const CN=Iw;new Go(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){return e?En(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends Of{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Us(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Us(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Us(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kN(t){return mw(t.auth,new Ff(t),t.bypassAuthState)}function NN(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),rN(n,new Ff(t),t.bypassAuthState)}async function AN(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),nN(n,new Ff(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return NN;default:Lt(this.auth,"internal-error")}}resolve(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Go(2e3,1e4);async function ov(t,e,n){if(wt(t.app))return Promise.reject(Ht(t,"operation-not-supported-in-this-environment"));const r=Mn(t);ak(t,e,Vf);const s=Sw(r,n);return new Ur(r,"signInViaPopup",e,s).executeNotNull()}class Ur extends Cw{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ur.currentPopupAction&&Ur.currentPopupAction.cancel(),Ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){jn(this.filter.length===1,"Popup operations only handle one event");const e=Mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ht(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ht(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ht(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jN.get())};e()}}Ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="pendingRedirect",ol=new Map;class RN extends Cw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ol.get(this.auth._key());if(!e){try{const r=await bN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ol.set(this.auth._key(),e)}return this.bypassAuthState||ol.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bN(t,e){const n=LN(e),r=ON(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function DN(t,e){ol.set(t._key(),e)}function ON(t){return En(t._redirectPersistence)}function LN(t){return il(PN,t.config.apiKey,t.name)}async function VN(t,e,n=!1){if(wt(t.app))return Promise.reject(Tn(t));const r=Mn(t),s=Sw(r,e),o=await new RN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=10*60*1e3;class FN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kw(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ht(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MN&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(e))}saveEventToCache(e){this.cachedEventUids.add(av(e)),this.lastProcessedEventTime=Date.now()}}function av(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e={}){return Vn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BN=/^https?/;async function WN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zN(t);for(const n of e)try{if(qN(n))return}catch{}Lt(t,"unauthorized-domain")}function qN(t){const e=ed(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!BN.test(n))return!1;if($N.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new Go(3e4,6e4);function lv(){const t=en().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GN(t){return new Promise((e,n)=>{var r,s,i;function o(){lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lv(),n(Ht(t,"network-request-failed"))},timeout:HN.get()})}if(!((s=(r=en().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=en().gapi)===null||i===void 0)&&i.load)o();else{const c=Lk("iframefcb");return en()[c]=()=>{gapi.load?o():n(Ht(t,"network-request-failed"))},hw(`${Ok()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw al=null,e})}let al=null;function KN(t){return al=al||GN(t),al}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new Go(5e3,15e3),YN="__/auth/iframe",XN="emulator/auth/iframe",JN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e2(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rf(e,XN):`https://${t.config.authDomain}/${YN}`,r={apiKey:e.apiKey,appName:t.name,v:ci},s=ZN.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ho(r).slice(1)}`}async function t2(t){const e=await KN(t),n=en().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:e2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ht(t,"network-request-failed"),c=en().setTimeout(()=>{i(o)},QN.get());function u(){en().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r2=500,s2=600,i2="_blank",o2="http://localhost";class cv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(t,e,n,r=r2,s=s2){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},n2),{width:r.toString(),height:s.toString(),top:i,left:o}),h=st().toLowerCase();n&&(c=sw(h)?i2:n),nw(h)&&(e=e||o2,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[x,A])=>`${y}${x}=${A},`,"");if(Ck(h)&&c!=="_self")return l2(e||"",c),new cv(null);const m=window.open(e||"",c,p);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new cv(m)}function l2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="__/auth/handler",u2="emulator/auth/handler",h2=encodeURIComponent("fac");async function uv(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ci,eventId:s};if(e instanceof Vf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof Qo){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),h=u?`#${h2}=${encodeURIComponent(u)}`:"";return`${d2(t)}?${Ho(c).slice(1)}${h}`}function d2({config:t}){return t.emulator?Rf(t,u2):`https://${t.authDomain}/${c2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="webStorageSupport";class f2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ww,this._completeRedirectFn=VN,this._overrideRedirectResult=DN}async _openPopup(e,n,r,s){var i;jn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await uv(e,n,r,ed(),s);return a2(e,o,Mf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await uv(e,n,r,ed(),s);return vN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(jn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t2(e),r=new FN(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qu,{type:qu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[qu];o!==void 0&&n(!!o),Lt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cw()||rw()||Df()}}const p2=f2;var hv="@firebase/auth",dv="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v2(t){Qs(new Xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uw(t)},h=new Rk(r,s,i,u);return $k(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qs(new Xr("auth-internal",e=>{const n=Mn(e.getProvider("auth").getImmediate());return(r=>new m2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(hv,dv,g2(t)),hr(hv,dv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=5*60,_2=z0("authIdTokenMaxAge")||y2;let fv=null;const w2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_2)return;const s=n==null?void 0:n.token;fv!==s&&(fv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function E2(t=H0()){const e=Nf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zk(t,{popupRedirectResolver:p2,persistence:[CN,pN,ww]}),r=z0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=w2(i.toString());cN(n,o,()=>o(n.currentUser)),lN(n,c=>o(c))}}const s=F0("auth");return s&&Bk(n,`http://${s}`),n}function x2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bk({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ht("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",x2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v2("Browser");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,Nw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function T(){}T.prototype=E.prototype,I.D=E.prototype,I.prototype=new T,I.prototype.constructor=I,I.C=function(C,j,b){for(var k=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)k[kt-2]=arguments[kt];return E.prototype[j].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,E,T){T||(T=0);var C=Array(16);if(typeof E=="string")for(var j=0;16>j;++j)C[j]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(j=0;16>j;++j)C[j]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=I.g[0],T=I.g[1],j=I.g[2];var b=I.g[3],k=E+(b^T&(j^b))+C[0]+3614090360&4294967295;E=T+(k<<7&4294967295|k>>>25),k=b+(j^E&(T^j))+C[1]+3905402710&4294967295,b=E+(k<<12&4294967295|k>>>20),k=j+(T^b&(E^T))+C[2]+606105819&4294967295,j=b+(k<<17&4294967295|k>>>15),k=T+(E^j&(b^E))+C[3]+3250441966&4294967295,T=j+(k<<22&4294967295|k>>>10),k=E+(b^T&(j^b))+C[4]+4118548399&4294967295,E=T+(k<<7&4294967295|k>>>25),k=b+(j^E&(T^j))+C[5]+1200080426&4294967295,b=E+(k<<12&4294967295|k>>>20),k=j+(T^b&(E^T))+C[6]+2821735955&4294967295,j=b+(k<<17&4294967295|k>>>15),k=T+(E^j&(b^E))+C[7]+4249261313&4294967295,T=j+(k<<22&4294967295|k>>>10),k=E+(b^T&(j^b))+C[8]+1770035416&4294967295,E=T+(k<<7&4294967295|k>>>25),k=b+(j^E&(T^j))+C[9]+2336552879&4294967295,b=E+(k<<12&4294967295|k>>>20),k=j+(T^b&(E^T))+C[10]+4294925233&4294967295,j=b+(k<<17&4294967295|k>>>15),k=T+(E^j&(b^E))+C[11]+2304563134&4294967295,T=j+(k<<22&4294967295|k>>>10),k=E+(b^T&(j^b))+C[12]+1804603682&4294967295,E=T+(k<<7&4294967295|k>>>25),k=b+(j^E&(T^j))+C[13]+4254626195&4294967295,b=E+(k<<12&4294967295|k>>>20),k=j+(T^b&(E^T))+C[14]+2792965006&4294967295,j=b+(k<<17&4294967295|k>>>15),k=T+(E^j&(b^E))+C[15]+1236535329&4294967295,T=j+(k<<22&4294967295|k>>>10),k=E+(j^b&(T^j))+C[1]+4129170786&4294967295,E=T+(k<<5&4294967295|k>>>27),k=b+(T^j&(E^T))+C[6]+3225465664&4294967295,b=E+(k<<9&4294967295|k>>>23),k=j+(E^T&(b^E))+C[11]+643717713&4294967295,j=b+(k<<14&4294967295|k>>>18),k=T+(b^E&(j^b))+C[0]+3921069994&4294967295,T=j+(k<<20&4294967295|k>>>12),k=E+(j^b&(T^j))+C[5]+3593408605&4294967295,E=T+(k<<5&4294967295|k>>>27),k=b+(T^j&(E^T))+C[10]+38016083&4294967295,b=E+(k<<9&4294967295|k>>>23),k=j+(E^T&(b^E))+C[15]+3634488961&4294967295,j=b+(k<<14&4294967295|k>>>18),k=T+(b^E&(j^b))+C[4]+3889429448&4294967295,T=j+(k<<20&4294967295|k>>>12),k=E+(j^b&(T^j))+C[9]+568446438&4294967295,E=T+(k<<5&4294967295|k>>>27),k=b+(T^j&(E^T))+C[14]+3275163606&4294967295,b=E+(k<<9&4294967295|k>>>23),k=j+(E^T&(b^E))+C[3]+4107603335&4294967295,j=b+(k<<14&4294967295|k>>>18),k=T+(b^E&(j^b))+C[8]+1163531501&4294967295,T=j+(k<<20&4294967295|k>>>12),k=E+(j^b&(T^j))+C[13]+2850285829&4294967295,E=T+(k<<5&4294967295|k>>>27),k=b+(T^j&(E^T))+C[2]+4243563512&4294967295,b=E+(k<<9&4294967295|k>>>23),k=j+(E^T&(b^E))+C[7]+1735328473&4294967295,j=b+(k<<14&4294967295|k>>>18),k=T+(b^E&(j^b))+C[12]+2368359562&4294967295,T=j+(k<<20&4294967295|k>>>12),k=E+(T^j^b)+C[5]+4294588738&4294967295,E=T+(k<<4&4294967295|k>>>28),k=b+(E^T^j)+C[8]+2272392833&4294967295,b=E+(k<<11&4294967295|k>>>21),k=j+(b^E^T)+C[11]+1839030562&4294967295,j=b+(k<<16&4294967295|k>>>16),k=T+(j^b^E)+C[14]+4259657740&4294967295,T=j+(k<<23&4294967295|k>>>9),k=E+(T^j^b)+C[1]+2763975236&4294967295,E=T+(k<<4&4294967295|k>>>28),k=b+(E^T^j)+C[4]+1272893353&4294967295,b=E+(k<<11&4294967295|k>>>21),k=j+(b^E^T)+C[7]+4139469664&4294967295,j=b+(k<<16&4294967295|k>>>16),k=T+(j^b^E)+C[10]+3200236656&4294967295,T=j+(k<<23&4294967295|k>>>9),k=E+(T^j^b)+C[13]+681279174&4294967295,E=T+(k<<4&4294967295|k>>>28),k=b+(E^T^j)+C[0]+3936430074&4294967295,b=E+(k<<11&4294967295|k>>>21),k=j+(b^E^T)+C[3]+3572445317&4294967295,j=b+(k<<16&4294967295|k>>>16),k=T+(j^b^E)+C[6]+76029189&4294967295,T=j+(k<<23&4294967295|k>>>9),k=E+(T^j^b)+C[9]+3654602809&4294967295,E=T+(k<<4&4294967295|k>>>28),k=b+(E^T^j)+C[12]+3873151461&4294967295,b=E+(k<<11&4294967295|k>>>21),k=j+(b^E^T)+C[15]+530742520&4294967295,j=b+(k<<16&4294967295|k>>>16),k=T+(j^b^E)+C[2]+3299628645&4294967295,T=j+(k<<23&4294967295|k>>>9),k=E+(j^(T|~b))+C[0]+4096336452&4294967295,E=T+(k<<6&4294967295|k>>>26),k=b+(T^(E|~j))+C[7]+1126891415&4294967295,b=E+(k<<10&4294967295|k>>>22),k=j+(E^(b|~T))+C[14]+2878612391&4294967295,j=b+(k<<15&4294967295|k>>>17),k=T+(b^(j|~E))+C[5]+4237533241&4294967295,T=j+(k<<21&4294967295|k>>>11),k=E+(j^(T|~b))+C[12]+1700485571&4294967295,E=T+(k<<6&4294967295|k>>>26),k=b+(T^(E|~j))+C[3]+2399980690&4294967295,b=E+(k<<10&4294967295|k>>>22),k=j+(E^(b|~T))+C[10]+4293915773&4294967295,j=b+(k<<15&4294967295|k>>>17),k=T+(b^(j|~E))+C[1]+2240044497&4294967295,T=j+(k<<21&4294967295|k>>>11),k=E+(j^(T|~b))+C[8]+1873313359&4294967295,E=T+(k<<6&4294967295|k>>>26),k=b+(T^(E|~j))+C[15]+4264355552&4294967295,b=E+(k<<10&4294967295|k>>>22),k=j+(E^(b|~T))+C[6]+2734768916&4294967295,j=b+(k<<15&4294967295|k>>>17),k=T+(b^(j|~E))+C[13]+1309151649&4294967295,T=j+(k<<21&4294967295|k>>>11),k=E+(j^(T|~b))+C[4]+4149444226&4294967295,E=T+(k<<6&4294967295|k>>>26),k=b+(T^(E|~j))+C[11]+3174756917&4294967295,b=E+(k<<10&4294967295|k>>>22),k=j+(E^(b|~T))+C[2]+718787259&4294967295,j=b+(k<<15&4294967295|k>>>17),k=T+(b^(j|~E))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+b&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var T=E-this.blockSize,C=this.B,j=this.h,b=0;b<E;){if(j==0)for(;b<=T;)s(this,I,b),b+=this.blockSize;if(typeof I=="string"){for(;b<E;)if(C[j++]=I.charCodeAt(b++),j==this.blockSize){s(this,C),j=0;break}}else for(;b<E;)if(C[j++]=I[b++],j==this.blockSize){s(this,C),j=0;break}}this.h=j,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var T=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=T&255,T/=256;for(this.u(I),I=Array(16),E=T=0;4>E;++E)for(var C=0;32>C;C+=8)I[T++]=this.g[E]>>>C&255;return I};function i(I,E){var T=c;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=E(I)}function o(I,E){this.h=E;for(var T=[],C=!0,j=I.length-1;0<=j;j--){var b=I[j]|0;C&&b==E||(T[j]=b,C=!1)}this.g=T}var c={};function u(I){return-128<=I&&128>I?i(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return S(h(-I));for(var E=[],T=1,C=0;I>=T;C++)E[C]=I/T|0,T*=4294967296;return new o(E,0)}function p(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return S(p(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(E,8)),C=m,j=0;j<I.length;j+=8){var b=Math.min(8,I.length-j),k=parseInt(I.substring(j,j+b),E);8>b?(b=h(Math.pow(E,b)),C=C.j(b).add(h(k))):(C=C.j(T),C=C.add(h(k)))}return C}var m=u(0),y=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-S(this).m();for(var I=0,E=1,T=0;T<this.g.length;T++){var C=this.i(T);I+=(0<=C?C:4294967296+C)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(N(this))return"-"+S(this).toString(I);for(var E=h(Math.pow(I,6)),T=this,C="";;){var j=D(T,E).g;T=v(T,j.j(E));var b=((0<T.g.length?T.g[0]:T.h)>>>0).toString(I);if(T=j,A(T))return b+C;for(;6>b.length;)b="0"+b;C=b+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function N(I){return I.h==-1}t.l=function(I){return I=v(this,I),N(I)?-1:A(I)?0:1};function S(I){for(var E=I.g.length,T=[],C=0;C<E;C++)T[C]=~I.g[C];return new o(T,~I.h).add(y)}t.abs=function(){return N(this)?S(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),T=[],C=0,j=0;j<=E;j++){var b=C+(this.i(j)&65535)+(I.i(j)&65535),k=(b>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);C=k>>>16,b&=65535,k&=65535,T[j]=k<<16|b}return new o(T,T[T.length-1]&-2147483648?-1:0)};function v(I,E){return I.add(S(E))}t.j=function(I){if(A(this)||A(I))return m;if(N(this))return N(I)?S(this).j(S(I)):S(S(this).j(I));if(N(I))return S(this.j(S(I)));if(0>this.l(x)&&0>I.l(x))return h(this.m()*I.m());for(var E=this.g.length+I.g.length,T=[],C=0;C<2*E;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var j=0;j<I.g.length;j++){var b=this.i(C)>>>16,k=this.i(C)&65535,kt=I.i(j)>>>16,Ar=I.i(j)&65535;T[2*C+2*j]+=k*Ar,g(T,2*C+2*j),T[2*C+2*j+1]+=b*Ar,g(T,2*C+2*j+1),T[2*C+2*j+1]+=k*kt,g(T,2*C+2*j+1),T[2*C+2*j+2]+=b*kt,g(T,2*C+2*j+2)}for(C=0;C<E;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=E;C<2*E;C++)T[C]=0;return new o(T,0)};function g(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function w(I,E){this.g=I,this.h=E}function D(I,E){if(A(E))throw Error("division by zero");if(A(I))return new w(m,m);if(N(I))return E=D(S(I),E),new w(S(E.g),S(E.h));if(N(E))return E=D(I,S(E)),new w(S(E.g),E.h);if(30<I.g.length){if(N(I)||N(E))throw Error("slowDivide_ only works with positive integers.");for(var T=y,C=E;0>=C.l(I);)T=F(T),C=F(C);var j=z(T,1),b=z(C,1);for(C=z(C,2),T=z(T,2);!A(C);){var k=b.add(C);0>=k.l(I)&&(j=j.add(T),b=k),C=z(C,1),T=z(T,1)}return E=v(I,j.j(E)),new w(j,E)}for(j=m;0<=I.l(E);){for(T=Math.max(1,Math.floor(I.m()/E.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),b=h(T),k=b.j(E);N(k)||0<k.l(I);)T-=C,b=h(T),k=b.j(E);A(b)&&(b=y),j=j.add(b),I=v(I,k)}return new w(j,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),T=[],C=0;C<E;C++)T[C]=this.i(C)&I.i(C);return new o(T,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),T=[],C=0;C<E;C++)T[C]=this.i(C)|I.i(C);return new o(T,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),T=[],C=0;C<E;C++)T[C]=this.i(C)^I.i(C);return new o(T,this.h^I.h)};function F(I){for(var E=I.g.length+1,T=[],C=0;C<E;C++)T[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(T,I.h)}function z(I,E){var T=E>>5;E%=32;for(var C=I.g.length-T,j=[],b=0;b<C;b++)j[b]=0<E?I.i(b+T)>>>E|I.i(b+T+1)<<32-E:I.i(b+T);return new o(j,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Nw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,dr=o}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Aw,Hi,jw,ll,rd,Pw,Rw,bw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ua=="object"&&Ua];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(l,d){if(d)e:{var f=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var R=l[_];if(!(R in f))break e;f=f[R]}l=l[l.length-1],_=f[l],d=d(_),d!=_&&d!=null&&e(f,l,{configurable:!0,writable:!0,value:d})}}function i(l,d){l instanceof String&&(l+="");var f=0,_=!1,R={next:function(){if(!_&&f<l.length){var O=f++;return{value:d(O,l[O]),done:!1}}return _=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}s("Array.prototype.values",function(l){return l||function(){return i(this,function(d,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function h(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function p(l,d,f){return l.call.apply(l.bind,arguments)}function m(l,d,f){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,_),l.apply(d,R)}}return function(){return l.apply(d,arguments)}}function y(l,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function A(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(_,R,O){for(var U=Array(arguments.length-2),he=2;he<arguments.length;he++)U[he-2]=arguments[he];return d.prototype[R].apply(_,U)}}function N(l){const d=l.length;if(0<d){const f=Array(d);for(let _=0;_<d;_++)f[_]=l[_];return f}return[]}function S(l,d){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const R=l.length||0,O=_.length||0;l.length=R+O;for(let U=0;U<O;U++)l[R+U]=_[U]}else l.push(_)}}class v{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function g(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var F=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function z(l,d,f){for(const _ in l)d.call(f,l[_],_,l)}function I(l,d){for(const f in l)d.call(void 0,l[f],f,l)}function E(l){const d={};for(const f in l)d[f]=l[f];return d}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,d){let f,_;for(let R=1;R<arguments.length;R++){_=arguments[R];for(f in _)l[f]=_[f];for(let O=0;O<T.length;O++)f=T[O],Object.prototype.hasOwnProperty.call(_,f)&&(l[f]=_[f])}}function j(l){var d=1;l=l.split(":");const f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function b(l){c.setTimeout(()=>{throw l},0)}function k(){var l=X;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class kt{constructor(){this.h=this.g=null}add(d,f){const _=Ar.get();_.set(d,f),this.h?this.h.next=_:this.g=_,this.h=_}}var Ar=new v(()=>new gi,l=>l.reset());class gi{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let an,$=!1,X=new kt,ee=()=>{const l=c.Promise.resolve(void 0);an=()=>{l.then(ve)}};var ve=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(f){b(f)}var d=Ar;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}$=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var ln=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return l}();function cn(l,d){if(Ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(F){e:{try{D(d.nodeName);var R=!0;break e}catch{}R=!1}R||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:un[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&cn.aa.h.call(this)}}A(cn,Ce);var un={2:"touch",3:"pen",4:"mouse"};cn.prototype.h=function(){cn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var hn="closure_listenable_"+(1e6*Math.random()|0),gx=0;function vx(l,d,f,_,R){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!_,this.ha=R,this.key=++gx,this.da=this.fa=!1}function sa(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ia(l){this.src=l,this.g={},this.h=0}ia.prototype.add=function(l,d,f,_,R){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var U=Wc(l,d,_,R);return-1<U?(d=l[U],f||(d.fa=!1)):(d=new vx(d,this.src,O,!!_,R),d.fa=f,l.push(d)),d};function Bc(l,d){var f=d.type;if(f in l.g){var _=l.g[f],R=Array.prototype.indexOf.call(_,d,void 0),O;(O=0<=R)&&Array.prototype.splice.call(_,R,1),O&&(sa(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Wc(l,d,f,_){for(var R=0;R<l.length;++R){var O=l[R];if(!O.da&&O.listener==d&&O.capture==!!f&&O.ha==_)return R}return-1}var qc="closure_lm_"+(1e6*Math.random()|0),Hc={};function xp(l,d,f,_,R){if(Array.isArray(d)){for(var O=0;O<d.length;O++)xp(l,d[O],f,_,R);return null}return f=Sp(f),l&&l[hn]?l.K(d,f,h(_)?!!_.capture:!1,R):yx(l,d,f,!1,_,R)}function yx(l,d,f,_,R,O){if(!d)throw Error("Invalid event type");var U=h(R)?!!R.capture:!!R,he=Kc(l);if(he||(l[qc]=he=new ia(l)),f=he.add(d,f,_,U,O),f.proxy)return f;if(_=_x(),f.proxy=_,_.src=l,_.listener=f,l.addEventListener)ln||(R=U),R===void 0&&(R=!1),l.addEventListener(d.toString(),_,R);else if(l.attachEvent)l.attachEvent(Ip(d.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function _x(){function l(f){return d.call(l.src,l.listener,f)}const d=wx;return l}function Tp(l,d,f,_,R){if(Array.isArray(d))for(var O=0;O<d.length;O++)Tp(l,d[O],f,_,R);else _=h(_)?!!_.capture:!!_,f=Sp(f),l&&l[hn]?(l=l.i,d=String(d).toString(),d in l.g&&(O=l.g[d],f=Wc(O,f,_,R),-1<f&&(sa(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete l.g[d],l.h--)))):l&&(l=Kc(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Wc(d,f,_,R)),(f=-1<l?d[l]:null)&&Gc(f))}function Gc(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[hn])Bc(d.i,l);else{var f=l.type,_=l.proxy;d.removeEventListener?d.removeEventListener(f,_,l.capture):d.detachEvent?d.detachEvent(Ip(f),_):d.addListener&&d.removeListener&&d.removeListener(_),(f=Kc(d))?(Bc(f,l),f.h==0&&(f.src=null,d[qc]=null)):sa(l)}}}function Ip(l){return l in Hc?Hc[l]:Hc[l]="on"+l}function wx(l,d){if(l.da)l=!0;else{d=new cn(d,this);var f=l.listener,_=l.ha||l.src;l.fa&&Gc(l),l=f.call(_,d)}return l}function Kc(l){return l=l[qc],l instanceof ia?l:null}var Qc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sp(l){return typeof l=="function"?l:(l[Qc]||(l[Qc]=function(d){return l.handleEvent(d)}),l[Qc])}function Ke(){ue.call(this),this.i=new ia(this),this.M=this,this.F=null}A(Ke,ue),Ke.prototype[hn]=!0,Ke.prototype.removeEventListener=function(l,d,f,_){Tp(this,l,d,f,_)};function it(l,d){var f,_=l.F;if(_)for(f=[];_;_=_.F)f.push(_);if(l=l.M,_=d.type||d,typeof d=="string")d=new Ce(d,l);else if(d instanceof Ce)d.target=d.target||l;else{var R=d;d=new Ce(_,l),C(d,R)}if(R=!0,f)for(var O=f.length-1;0<=O;O--){var U=d.g=f[O];R=oa(U,_,!0,d)&&R}if(U=d.g=l,R=oa(U,_,!0,d)&&R,R=oa(U,_,!1,d)&&R,f)for(O=0;O<f.length;O++)U=d.g=f[O],R=oa(U,_,!1,d)&&R}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],_=0;_<f.length;_++)sa(f[_]);delete l.g[d],l.h--}}this.F=null},Ke.prototype.K=function(l,d,f,_){return this.i.add(String(l),d,!1,f,_)},Ke.prototype.L=function(l,d,f,_){return this.i.add(String(l),d,!0,f,_)};function oa(l,d,f,_){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var R=!0,O=0;O<d.length;++O){var U=d[O];if(U&&!U.da&&U.capture==f){var he=U.listener,ze=U.ha||U.src;U.fa&&Bc(l.i,U),R=he.call(ze,_)!==!1&&R}}return R&&!_.defaultPrevented}function Cp(l,d,f){if(typeof l=="function")f&&(l=y(l,f));else if(l&&typeof l.handleEvent=="function")l=y(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(l,d||0)}function kp(l){l.g=Cp(()=>{l.g=null,l.i&&(l.i=!1,kp(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Ex extends ue{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:kp(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(l){ue.call(this),this.h=l,this.g={}}A(vi,ue);var Np=[];function Ap(l){z(l.g,function(d,f){this.g.hasOwnProperty(f)&&Gc(d)},l),l.g={}}vi.prototype.N=function(){vi.aa.N.call(this),Ap(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yc=c.JSON.stringify,xx=c.JSON.parse,Tx=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function Xc(){}Xc.prototype.h=null;function jp(l){return l.h||(l.h=l.i())}function Pp(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jc(){Ce.call(this,"d")}A(Jc,Ce);function Zc(){Ce.call(this,"c")}A(Zc,Ce);var jr={},Rp=null;function aa(){return Rp=Rp||new Ke}jr.La="serverreachability";function bp(l){Ce.call(this,jr.La,l)}A(bp,Ce);function _i(l){const d=aa();it(d,new bp(d))}jr.STAT_EVENT="statevent";function Dp(l,d){Ce.call(this,jr.STAT_EVENT,l),this.stat=d}A(Dp,Ce);function ot(l){const d=aa();it(d,new Dp(d,l))}jr.Ma="timingevent";function Op(l,d){Ce.call(this,jr.Ma,l),this.size=d}A(Op,Ce);function wi(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},d)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ix(l,d,f,_,R,O){l.info(function(){if(l.g)if(O)for(var U="",he=O.split("&"),ze=0;ze<he.length;ze++){var ae=he[ze].split("=");if(1<ae.length){var Qe=ae[0];ae=ae[1];var Ye=Qe.split("_");U=2<=Ye.length&&Ye[1]=="type"?U+(Qe+"="+ae+"&"):U+(Qe+"=redacted&")}}else U=null;else U=O;return"XMLHTTP REQ ("+_+") [attempt "+R+"]: "+d+`
`+f+`
`+U})}function Sx(l,d,f,_,R,O,U){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+R+"]: "+d+`
`+f+`
`+O+" "+U})}function us(l,d,f,_){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+kx(l,f)+(_?" "+_:"")})}function Cx(l,d){l.info(function(){return"TIMEOUT: "+d})}Ei.prototype.info=function(){};function kx(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var _=f[l];if(!(2>_.length)){var R=_[1];if(Array.isArray(R)&&!(1>R.length)){var O=R[0];if(O!="noop"&&O!="stop"&&O!="close")for(var U=1;U<R.length;U++)R[U]=""}}}}return Yc(f)}catch{return d}}var la={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},eu;function ca(){}A(ca,Xc),ca.prototype.g=function(){return new XMLHttpRequest},ca.prototype.i=function(){return{}},eu=new ca;function Fn(l,d,f,_){this.j=l,this.i=d,this.l=f,this.R=_||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vp}function Vp(){this.i=null,this.g="",this.h=!1}var Mp={},tu={};function nu(l,d,f){l.L=1,l.v=fa(dn(d)),l.m=f,l.P=!0,Fp(l,null)}function Fp(l,d){l.F=Date.now(),ua(l),l.A=dn(l.v);var f=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Zp(f.i,"t",_),l.C=0,f=l.j.J,l.h=new Vp,l.g=vm(l.j,f?d:null,!l.m),0<l.O&&(l.M=new Ex(y(l.Y,l,l.g),l.O)),d=l.U,f=l.g,_=l.ca;var R="readystatechange";Array.isArray(R)||(R&&(Np[0]=R.toString()),R=Np);for(var O=0;O<R.length;O++){var U=xp(f,R[O],_||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),_i(),Ix(l.i,l.u,l.A,l.l,l.R,l.m)}Fn.prototype.ca=function(l){l=l.target;const d=this.M;d&&fn(l)==3?d.j():this.Y(l)},Fn.prototype.Y=function(l){try{if(l==this.g)e:{const Ye=fn(this.g);var d=this.g.Ba();const fs=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||om(this.g)))){this.J||Ye!=4||d==7||(d==8||0>=fs?_i(3):_i(2)),ru(this);var f=this.g.Z();this.X=f;t:if(Up(this)){var _=om(this.g);l="";var R=_.length,O=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),xi(this);var U="";break t}this.h.i=new c.TextDecoder}for(d=0;d<R;d++)this.h.h=!0,l+=this.h.i.decode(_[d],{stream:!(O&&d==R-1)});_.length=0,this.h.g+=l,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=f==200,Sx(this.i,this.u,this.A,this.l,this.R,Ye,f),this.o){if(this.T&&!this.K){t:{if(this.g){var he,ze=this.g;if((he=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(he)){var ae=he;break t}}ae=null}if(f=ae)us(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,su(this,f);else{this.o=!1,this.s=3,ot(12),Pr(this),xi(this);break e}}if(this.P){f=!0;let Vt;for(;!this.J&&this.C<U.length;)if(Vt=Nx(this,U),Vt==tu){Ye==4&&(this.s=4,ot(14),f=!1),us(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Mp){this.s=4,ot(15),us(this.i,this.l,U,"[Invalid Chunk]"),f=!1;break}else us(this.i,this.l,Vt,null),su(this,Vt);if(Up(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||U.length!=0||this.h.h||(this.s=1,ot(16),f=!1),this.o=this.o&&f,!f)us(this.i,this.l,U,"[Invalid Chunked Response]"),Pr(this),xi(this);else if(0<U.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),uu(Qe),Qe.M=!0,ot(11))}}else us(this.i,this.l,U,null),su(this,U);Ye==4&&Pr(this),this.o&&!this.J&&(Ye==4?fm(this.j,this):(this.o=!1,ua(this)))}else qx(this.g),f==400&&0<U.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Pr(this),xi(this)}}}catch{}finally{}};function Up(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Nx(l,d){var f=l.C,_=d.indexOf(`
`,f);return _==-1?tu:(f=Number(d.substring(f,_)),isNaN(f)?Mp:(_+=1,_+f>d.length?tu:(d=d.slice(_,_+f),l.C=_+f,d)))}Fn.prototype.cancel=function(){this.J=!0,Pr(this)};function ua(l){l.S=Date.now()+l.I,zp(l,l.I)}function zp(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=wi(y(l.ba,l),d)}function ru(l){l.B&&(c.clearTimeout(l.B),l.B=null)}Fn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Cx(this.i,this.A),this.L!=2&&(_i(),ot(17)),Pr(this),this.s=2,xi(this)):zp(this,this.S-l)};function xi(l){l.j.G==0||l.J||fm(l.j,l)}function Pr(l){ru(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Ap(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function su(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||iu(f.h,l))){if(!l.K&&iu(f.h,l)&&f.G==3){try{var _=f.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var R=_;if(R[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)_a(f),va(f);else break e;cu(f),ot(18)}}else f.za=R[1],0<f.za-f.T&&37500>R[2]&&f.F&&f.v==0&&!f.C&&(f.C=wi(y(f.Za,f),6e3));if(1>=Wp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else br(f,11)}else if((l.K||f.g==l)&&_a(f),!g(d))for(R=f.Da.g.parse(d),d=0;d<R.length;d++){let ae=R[d];if(f.T=ae[0],ae=ae[1],f.G==2)if(ae[0]=="c"){f.K=ae[1],f.ia=ae[2];const Qe=ae[3];Qe!=null&&(f.la=Qe,f.j.info("VER="+f.la));const Ye=ae[4];Ye!=null&&(f.Aa=Ye,f.j.info("SVER="+f.Aa));const fs=ae[5];fs!=null&&typeof fs=="number"&&0<fs&&(_=1.5*fs,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const Vt=l.g;if(Vt){const Ea=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var O=_.h;O.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(ou(O,O.h),O.h=null))}if(_.D){const hu=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;hu&&(_.ya=hu,fe(_.I,_.D,hu))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var U=l;if(_.qa=gm(_,_.J?_.ia:null,_.W),U.K){qp(_.h,U);var he=U,ze=_.L;ze&&(he.I=ze),he.B&&(ru(he),ua(he)),_.g=U}else hm(_);0<f.i.length&&ya(f)}else ae[0]!="stop"&&ae[0]!="close"||br(f,7);else f.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?br(f,7):lu(f):ae[0]!="noop"&&f.l&&f.l.ta(ae),f.v=0)}}_i(4)}catch{}}var Ax=class{constructor(l,d){this.g=l,this.map=d}};function $p(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wp(l){return l.h?1:l.g?l.g.size:0}function iu(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function ou(l,d){l.g?l.g.add(d):l.h=d}function qp(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}$p.prototype.cancel=function(){if(this.i=Hp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Hp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const f of l.g.values())d=d.concat(f.D);return d}return N(l.i)}function jx(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],f=l.length,_=0;_<f;_++)d.push(l[_]);return d}d=[],f=0;for(_ in l)d[f++]=l[_];return d}function Px(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(const _ in l)d[f++]=_;return d}}}function Gp(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=Px(l),_=jx(l),R=_.length,O=0;O<R;O++)d.call(void 0,_[O],f&&f[O],l)}var Kp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rx(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var _=l[f].indexOf("="),R=null;if(0<=_){var O=l[f].substring(0,_);R=l[f].substring(_+1)}else O=l[f];d(O,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Rr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Rr){this.h=l.h,ha(this,l.j),this.o=l.o,this.g=l.g,da(this,l.s),this.l=l.l;var d=l.i,f=new Si;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Qp(this,f),this.m=l.m}else l&&(d=String(l).match(Kp))?(this.h=!1,ha(this,d[1]||"",!0),this.o=Ti(d[2]||""),this.g=Ti(d[3]||"",!0),da(this,d[4]),this.l=Ti(d[5]||"",!0),Qp(this,d[6]||"",!0),this.m=Ti(d[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}Rr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ii(d,Yp,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ii(d,Yp,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Ii(f,f.charAt(0)=="/"?Ox:Dx,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Ii(f,Vx)),l.join("")};function dn(l){return new Rr(l)}function ha(l,d,f){l.j=f?Ti(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function da(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Qp(l,d,f){d instanceof Si?(l.i=d,Mx(l.i,l.h)):(f||(d=Ii(d,Lx)),l.i=new Si(d,l.h))}function fe(l,d,f){l.i.set(d,f)}function fa(l){return fe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ti(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ii(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,bx),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function bx(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yp=/[#\/\?@]/g,Dx=/[#\?:]/g,Ox=/[#\?]/g,Lx=/[#\?@]/g,Vx=/#/g;function Si(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Un(l){l.g||(l.g=new Map,l.h=0,l.i&&Rx(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Si.prototype,t.add=function(l,d){Un(this),this.i=null,l=hs(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function Xp(l,d){Un(l),d=hs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Jp(l,d){return Un(l),d=hs(l,d),l.g.has(d)}t.forEach=function(l,d){Un(this),this.g.forEach(function(f,_){f.forEach(function(R){l.call(d,R,_,this)},this)},this)},t.na=function(){Un(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let _=0;_<d.length;_++){const R=l[_];for(let O=0;O<R.length;O++)f.push(d[_])}return f},t.V=function(l){Un(this);let d=[];if(typeof l=="string")Jp(this,l)&&(d=d.concat(this.g.get(hs(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},t.set=function(l,d){return Un(this),this.i=null,l=hs(this,l),Jp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Zp(l,d,f){Xp(l,d),0<f.length&&(l.i=null,l.g.set(hs(l,d),N(f)),l.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var _=d[f];const O=encodeURIComponent(String(_)),U=this.V(_);for(_=0;_<U.length;_++){var R=O;U[_]!==""&&(R+="="+encodeURIComponent(String(U[_]))),l.push(R)}}return this.i=l.join("&")};function hs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mx(l,d){d&&!l.j&&(Un(l),l.i=null,l.g.forEach(function(f,_){var R=_.toLowerCase();_!=R&&(Xp(this,_),Zp(this,R,f))},l)),l.j=d}function Fx(l,d){const f=new Ei;if(c.Image){const _=new Image;_.onload=x(zn,f,"TestLoadImage: loaded",!0,d,_),_.onerror=x(zn,f,"TestLoadImage: error",!1,d,_),_.onabort=x(zn,f,"TestLoadImage: abort",!1,d,_),_.ontimeout=x(zn,f,"TestLoadImage: timeout",!1,d,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else d(!1)}function Ux(l,d){const f=new Ei,_=new AbortController,R=setTimeout(()=>{_.abort(),zn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:_.signal}).then(O=>{clearTimeout(R),O.ok?zn(f,"TestPingServer: ok",!0,d):zn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(R),zn(f,"TestPingServer: error",!1,d)})}function zn(l,d,f,_,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),_(f)}catch{}}function zx(){this.g=new Tx}function $x(l,d,f){const _=f||"";try{Gp(l,function(R,O){let U=R;h(R)&&(U=Yc(R)),d.push(_+O+"="+encodeURIComponent(U))})}catch(R){throw d.push(_+"type="+encodeURIComponent("_badmap")),R}}function pa(l){this.l=l.Ub||null,this.j=l.eb||!1}A(pa,Xc),pa.prototype.g=function(){return new ma(this.l,this.j)},pa.prototype.i=function(l){return function(){return l}}({});function ma(l,d){Ke.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ma,Ke),t=ma.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,ki(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;em(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function em(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ci(this):ki(this),this.readyState==3&&em(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ci(this))},t.Qa=function(l){this.g&&(this.response=l,Ci(this))},t.ga=function(){this.g&&Ci(this)};function Ci(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ki(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function ki(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tm(l){let d="";return z(l,function(f,_){d+=_,d+=":",d+=f,d+=`\r
`}),d}function au(l,d,f){e:{for(_ in f){var _=!1;break e}_=!0}_||(f=tm(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):fe(l,d,f))}function xe(l){Ke.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(xe,Ke);var Bx=/^https?$/i,Wx=["POST","PUT"];t=xe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():eu.g(),this.v=this.o?jp(this.o):jp(eu),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(O){nm(this,O);return}if(l=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var R in _)f.set(R,_[R]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const O of _.keys())f.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),R=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Wx,d,void 0))||_||R||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,U]of f)this.g.setRequestHeader(O,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{im(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){nm(this,O)}};function nm(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,rm(l),ga(l)}function rm(l){l.A||(l.A=!0,it(l,"complete"),it(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,it(this,"complete"),it(this,"abort"),ga(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ga(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sm(this):this.bb())},t.bb=function(){sm(this)};function sm(l){if(l.h&&typeof o<"u"&&(!l.v[1]||fn(l)!=4||l.Z()!=2)){if(l.u&&fn(l)==4)Cp(l.Ea,0,l);else if(it(l,"readystatechange"),fn(l)==4){l.h=!1;try{const U=l.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var _;if(_=U===0){var R=String(l.D).match(Kp)[1]||null;!R&&c.self&&c.self.location&&(R=c.self.location.protocol.slice(0,-1)),_=!Bx.test(R?R.toLowerCase():"")}f=_}if(f)it(l,"complete"),it(l,"success");else{l.m=6;try{var O=2<fn(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",rm(l)}}finally{ga(l)}}}}function ga(l,d){if(l.g){im(l);const f=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||it(l,"ready");try{f.onreadystatechange=_}catch{}}}function im(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function fn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),xx(d)}};function om(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qx(l){const d={};l=(l.g&&2<=fn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(g(l[_]))continue;var f=j(l[_]);const R=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=d[R]||[];d[R]=O,O.push(f)}I(d,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function am(l){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ni("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ni("baseRetryDelayMs",5e3,l),this.cb=Ni("retryDelaySeedMs",1e4,l),this.Wa=Ni("forwardChannelMaxRetries",2,l),this.wa=Ni("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new $p(l&&l.concurrentRequestLimit),this.Da=new zx,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=am.prototype,t.la=8,t.G=1,t.connect=function(l,d,f,_){ot(0),this.W=l,this.H=d||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=gm(this,null,this.W),ya(this)};function lu(l){if(lm(l),l.G==3){var d=l.U++,f=dn(l.I);if(fe(f,"SID",l.K),fe(f,"RID",d),fe(f,"TYPE","terminate"),Ai(l,f),d=new Fn(l,l.j,d),d.L=2,d.v=fa(dn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=vm(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ua(d)}mm(l)}function va(l){l.g&&(uu(l),l.g.cancel(),l.g=null)}function lm(l){va(l),l.u&&(c.clearTimeout(l.u),l.u=null),_a(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function ya(l){if(!Bp(l.h)&&!l.s){l.s=!0;var d=l.Ga;an||ee(),$||(an(),$=!0),X.add(d,l),l.B=0}}function Hx(l,d){return Wp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=wi(y(l.Ga,l,d),pm(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const R=new Fn(this,this.j,l);let O=this.o;if(this.S&&(O?(O=E(O),C(O,this.S)):O=this.S),this.m!==null||this.O||(R.H=O,O=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=um(this,R,d),f=dn(this.I),fe(f,"RID",l),fe(f,"CVER",22),this.D&&fe(f,"X-HTTP-Session-Id",this.D),Ai(this,f),O&&(this.O?d="headers="+encodeURIComponent(String(tm(O)))+"&"+d:this.m&&au(f,this.m,O)),ou(this.h,R),this.Ua&&fe(f,"TYPE","init"),this.P?(fe(f,"$req",d),fe(f,"SID","null"),R.T=!0,nu(R,f,null)):nu(R,f,d),this.G=2}}else this.G==3&&(l?cm(this,l):this.i.length==0||Bp(this.h)||cm(this))};function cm(l,d){var f;d?f=d.l:f=l.U++;const _=dn(l.I);fe(_,"SID",l.K),fe(_,"RID",f),fe(_,"AID",l.T),Ai(l,_),l.m&&l.o&&au(_,l.m,l.o),f=new Fn(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=um(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ou(l.h,f),nu(f,_,d)}function Ai(l,d){l.H&&z(l.H,function(f,_){fe(d,_,f)}),l.l&&Gp({},function(f,_){fe(d,_,f)})}function um(l,d,f){f=Math.min(l.i.length,f);var _=l.l?y(l.l.Na,l.l,l):null;e:{var R=l.i;let O=-1;for(;;){const U=["count="+f];O==-1?0<f?(O=R[0].g,U.push("ofs="+O)):O=0:U.push("ofs="+O);let he=!0;for(let ze=0;ze<f;ze++){let ae=R[ze].g;const Qe=R[ze].map;if(ae-=O,0>ae)O=Math.max(0,R[ze].g-100),he=!1;else try{$x(Qe,U,"req"+ae+"_")}catch{_&&_(Qe)}}if(he){_=U.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,_}function hm(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;an||ee(),$||(an(),$=!0),X.add(d,l),l.v=0}}function cu(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=wi(y(l.Fa,l),pm(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,dm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wi(y(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),va(this),dm(this))};function uu(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function dm(l){l.g=new Fn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=dn(l.qa);fe(d,"RID","rpc"),fe(d,"SID",l.K),fe(d,"AID",l.T),fe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&fe(d,"TO",l.ja),fe(d,"TYPE","xmlhttp"),Ai(l,d),l.m&&l.o&&au(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=fa(dn(d)),f.m=null,f.P=!0,Fp(f,l)}t.Za=function(){this.C!=null&&(this.C=null,va(this),cu(this),ot(19))};function _a(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function fm(l,d){var f=null;if(l.g==d){_a(l),uu(l),l.g=null;var _=2}else if(iu(l.h,d))f=d.D,qp(l.h,d),_=1;else return;if(l.G!=0){if(d.o)if(_==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var R=l.B;_=aa(),it(_,new Op(_,f)),ya(l)}else hm(l);else if(R=d.s,R==3||R==0&&0<d.X||!(_==1&&Hx(l,d)||_==2&&cu(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),R){case 1:br(l,5);break;case 4:br(l,10);break;case 3:br(l,6);break;default:br(l,2)}}}function pm(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function br(l,d){if(l.j.info("Error code "+d),d==2){var f=y(l.fb,l),_=l.Xa;const R=!_;_=new Rr(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ha(_,"https"),fa(_),R?Fx(_.toString(),f):Ux(_.toString(),f)}else ot(2);l.G=0,l.l&&l.l.sa(d),mm(l),lm(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function mm(l){if(l.G=0,l.ka=[],l.l){const d=Hp(l.h);(d.length!=0||l.i.length!=0)&&(S(l.ka,d),S(l.ka,l.i),l.h.i.length=0,N(l.i),l.i.length=0),l.l.ra()}}function gm(l,d,f){var _=f instanceof Rr?dn(f):new Rr(f);if(_.g!="")d&&(_.g=d+"."+_.g),da(_,_.s);else{var R=c.location;_=R.protocol,d=d?d+"."+R.hostname:R.hostname,R=+R.port;var O=new Rr(null);_&&ha(O,_),d&&(O.g=d),R&&da(O,R),f&&(O.l=f),_=O}return f=l.D,d=l.ya,f&&d&&fe(_,f,d),fe(_,"VER",l.la),Ai(l,_),_}function vm(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new xe(new pa({eb:f})):new xe(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ym(){}t=ym.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wa(){}wa.prototype.g=function(l,d){return new yt(l,d)};function yt(l,d){Ke.call(this),this.g=new am(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!g(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!g(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new ds(this)}A(yt,Ke),yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){lu(this.g)},yt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Yc(l),l=f);d.i.push(new Ax(d.Ya++,l)),d.G==3&&ya(d)},yt.prototype.N=function(){this.g.l=null,delete this.j,lu(this.g),delete this.g,yt.aa.N.call(this)};function _m(l){Jc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}A(_m,Jc);function wm(){Zc.call(this),this.status=1}A(wm,Zc);function ds(l){this.g=l}A(ds,ym),ds.prototype.ua=function(){it(this.g,"a")},ds.prototype.ta=function(l){it(this.g,new _m(l))},ds.prototype.sa=function(l){it(this.g,new wm)},ds.prototype.ra=function(){it(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,bw=function(){return new wa},Rw=function(){return aa()},Pw=jr,rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,ll=la,Lp.COMPLETE="complete",jw=Lp,Pp.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Hi=Pp,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Aw=xe}).apply(typeof Ua<"u"?Ua:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",gv="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hi="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Cf("@firebase/firestore");function gs(){return es.logLevel}function B(t,...e){if(es.logLevel<=re.DEBUG){const n=e.map(Uf);es.debug(`Firestore (${hi}): ${t}`,...n)}}function Pn(t,...e){if(es.logLevel<=re.ERROR){const n=e.map(Uf);es.error(`Firestore (${hi}): ${t}`,...n)}}function Ys(t,...e){if(es.logLevel<=re.WARN){const n=e.map(Uf);es.warn(`Firestore (${hi}): ${t}`,...n)}}function Uf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Dw(t,r,n)}function Dw(t,e,n){let r=`FIRESTORE (${hi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pn(r),new Error(r)}function le(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Dw(e,s,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class I2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class S2{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){le(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new Ow(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string",2055,{h:e}),new et(e)}}class C2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){le(this.o===void 0,3512);const r=i=>{i.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=A2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function sd(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return te(r,s);{const i=Lw(),o=j2(i.encode(yv(t,n)),i.encode(yv(e,n)));return o!==0?o:te(r,s)}}n+=r>65535?2:1}return te(t.length,e.length)}function yv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function j2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return te(t[n],e[n]);return te(t.length,e.length)}function Xs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=-62135596800,wv=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wv);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_v)throw new H(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Le(0,0))}static max(){return new J(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__name__";class Yt{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Yt.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return te(e.length,n.length)}static compareSegments(e,n){const r=Yt.isNumericId(e),s=Yt.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Yt.extractNumericId(e).compare(Yt.extractNumericId(n)):sd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class Ie extends Yt{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const P2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Yt{construct(e,n,r){return new We(e,n,r)}static isValidIdentifier(e){return P2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new We([Ev])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new H(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new H(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new H(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Ie.fromString(e))}static fromName(e){return new G(Ie.fromString(e).popFirst(5))}static empty(){return new G(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=-1;function R2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=J.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new vr(s,G.empty(),e)}function b2(t){return new vr(t.readTime,t.key,Ro)}class vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vr(J.min(),G.empty(),Ro)}static max(){return new vr(J.max(),G.empty(),Ro)}}function D2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function di(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==O2)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(p=>{o[h]=p,++c,c===i&&r(o)},p=>s(p))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function V2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ac.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=-1;function jc(t){return t==null}function Gl(t){return t===0&&1/t==-1/0}function M2(t){return typeof t=="number"&&Number.isInteger(t)&&!Gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="";function F2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xv(e)),e=U2(t.get(n),e);return xv(e)}function U2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Mw:n+="";break;default:n+=i}}return n}function xv(t){return t+Mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.comparator=e,this.root=n||Be.EMPTY}insert(e,n){return new Ee(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new Ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new za(this.root,e,this.comparator,!1)}getReverseIterator(){return new za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new za(this.root,e,this.comparator,!0)}}class za{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Be.RED,this.left=s??Be.EMPTY,this.right=i??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Be(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Be.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Be(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(We.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new Ve(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Uw("Invalid base64 string: "+i):i}}(e);return new Ge(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ge(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(t){if(le(!!t,39018),typeof t=="string"){let e=0;const n=z2.exec(t);if(le(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _r(t){return typeof t=="string"?Ge.fromBase64String(t):Ge.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="server_timestamp",$w="__type__",Bw="__previous_value__",Ww="__local_write_time__";function $f(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$w])===null||n===void 0?void 0:n.stringValue)===zw}function Pc(t){const e=t.mapValue.fields[Bw];return $f(e)?Pc(e):e}function bo(t){const e=yr(t.mapValue.fields[Ww].timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r,s,i,o,c,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=p}}const Kl="(default)";class Do{constructor(e,n){this.projectId=e,this.database=n||Kl}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Kl}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__type__",B2="__max__",$a={mapValue:{}},Hw="__vector__",Ql="value";function wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$f(t)?4:q2(t)?9007199254740991:W2(t)?10:11:Y(28295,{value:t})}function rn(t,e){if(t===e)return!0;const n=wr(t);if(n!==wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bo(t).isEqual(bo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=yr(s.timestampValue),c=yr(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return _r(s.bytesValue).isEqual(_r(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ne(s.geoPointValue.latitude)===Ne(i.geoPointValue.latitude)&&Ne(s.geoPointValue.longitude)===Ne(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ne(s.integerValue)===Ne(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ne(s.doubleValue),c=Ne(i.doubleValue);return o===c?Gl(o)===Gl(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],rn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Tv(o)!==Tv(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!rn(o[u],c[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Oo(t,e){return(t.values||[]).find(n=>rn(n,e))!==void 0}function Js(t,e){if(t===e)return 0;const n=wr(t),r=wr(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=Ne(i.integerValue||i.doubleValue),u=Ne(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Sv(t.timestampValue,e.timestampValue);case 4:return Sv(bo(t),bo(e));case 5:return sd(t.stringValue,e.stringValue);case 6:return function(i,o){const c=_r(i),u=_r(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const p=te(c[h],u[h]);if(p!==0)return p}return te(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=te(Ne(i.latitude),Ne(o.latitude));return c!==0?c:te(Ne(i.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Cv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var c,u,h,p;const m=i.fields||{},y=o.fields||{},x=(c=m[Ql])===null||c===void 0?void 0:c.arrayValue,A=(u=y[Ql])===null||u===void 0?void 0:u.arrayValue,N=te(((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return N!==0?N:Cv(x,A)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===$a.mapValue&&o===$a.mapValue)return 0;if(i===$a.mapValue)return 1;if(o===$a.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let m=0;m<u.length&&m<p.length;++m){const y=sd(u[m],p[m]);if(y!==0)return y;const x=Js(c[u[m]],h[p[m]]);if(x!==0)return x}return te(u.length,p.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{Pe:n})}}function Sv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);const n=yr(t),r=yr(e),s=te(n.seconds,r.seconds);return s!==0?s:te(n.nanos,r.nanos)}function Cv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Js(n[s],r[s]);if(i)return i}return te(n.length,r.length)}function Zs(t){return id(t)}function id(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=id(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${id(n.fields[o])}`;return s+"}"}(t.mapValue):Y(61005,{value:t})}function cl(t){switch(wr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pc(t);return e?16+cl(e):16;case 5:return 2*t.stringValue.length;case 6:return _r(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+cl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return is(r.fields,(i,o)=>{s+=i.length+cl(o)}),s}(t.mapValue);default:throw Y(13486,{value:t})}}function od(t){return!!t&&"integerValue"in t}function Bf(t){return!!t&&"arrayValue"in t}function kv(t){return!!t&&"nullValue"in t}function Nv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ul(t){return!!t&&"mapValue"in t}function W2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[qw])===null||n===void 0?void 0:n.stringValue)===Hw}function io(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=io(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=io(t.arrayValue.values[n]);return e}return Object.assign({},t)}function q2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===B2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ul(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(n)}setAll(e){let n=We.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=io(o):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ul(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ul(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){is(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jt(io(this.value))}}function Gw(t){const e=[];return is(t.fields,(n,r)=>{const s=new We([n]);if(ul(r)){const i=Gw(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new nt(e,0,J.min(),J.min(),J.min(),jt.empty(),0)}static newFoundDocument(e,n,r,s){return new nt(e,1,n,J.min(),r,s,0)}static newNoDocument(e,n){return new nt(e,2,n,J.min(),J.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,J.min(),J.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.position=e,this.inclusive=n}}function Av(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Js(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function jv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function H2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kw=class{};class De extends Kw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new K2(e,n,r):n==="array-contains"?new X2(e,r):n==="in"?new J2(e,r):n==="not-in"?new Z2(e,r):n==="array-contains-any"?new eA(e,r):new De(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q2(e,r):new Y2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Js(n,this.value)):n!==null&&wr(this.value)===wr(n)&&this.matchesComparison(Js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sn extends Kw{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new sn(e,n)}matches(e){return Qw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Qw(t){return t.op==="and"}function Yw(t){return G2(t)&&Qw(t)}function G2(t){for(const e of t.filters)if(e instanceof sn)return!1;return!0}function ad(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+Zs(t.value);if(Yw(t))return t.filters.map(e=>ad(e)).join(",");{const e=t.filters.map(n=>ad(n)).join(",");return`${t.op}(${e})`}}function Xw(t,e){return t instanceof De?function(r,s){return s instanceof De&&r.op===s.op&&r.field.isEqual(s.field)&&rn(r.value,s.value)}(t,e):t instanceof sn?function(r,s){return s instanceof sn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&Xw(o,s.filters[c]),!0):!1}(t,e):void Y(19439)}function Jw(t){return t instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${Zs(n.value)}`}(t):t instanceof sn?function(n){return n.op.toString()+" {"+n.getFilters().map(Jw).join(" ,")+"}"}(t):"Filter"}class K2 extends De{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q2 extends De{constructor(e,n){super(e,"in",n),this.keys=Zw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y2 extends De{constructor(e,n){super(e,"not-in",n),this.keys=Zw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class X2 extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bf(n)&&Oo(n.arrayValue,this.value)}}class J2 extends De{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oo(this.value.arrayValue,n)}}class Z2 extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oo(this.value.arrayValue,n)}}class eA extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Ie=null}}function Pv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new tA(t,e,n,r,s,i,o)}function Wf(t){const e=Z(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ad(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),jc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zs(r)).join(",")),e.Ie=n}return e.Ie}function qf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jv(t.startAt,e.startAt)&&jv(t.endAt,e.endAt)}function ld(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function nA(t,e,n,r,s,i,o,c){return new Rc(t,e,n,r,s,i,o,c)}function Hf(t){return new Rc(t)}function Rv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rA(t){return t.collectionGroup!==null}function oo(t){const e=Z(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ve(We.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Xl(i,r))}),n.has(We.keyField().canonicalString())||e.Ee.push(new Xl(We.keyField(),r))}return e.Ee}function tn(t){const e=Z(t);return e.de||(e.de=sA(e,oo(t))),e.de}function sA(t,e){if(t.limitType==="F")return Pv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Xl(s.field,i)});const n=t.endAt?new Yl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yl(t.startAt.position,t.startAt.inclusive):null;return Pv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cd(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bc(t,e){return qf(tn(t),tn(e))&&t.limitType===e.limitType}function eE(t){return`${Wf(tn(t))}|lt:${t.limitType}`}function vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Jw(s)).join(", ")}]`),jc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zs(s)).join(",")),`Target(${r})`}(tn(t))}; limitType=${t.limitType})`}function Dc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):G.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of oo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,u){const h=Av(o,c,u);return o.inclusive?h<=0:h<0}(r.startAt,oo(r),s)||r.endAt&&!function(o,c,u){const h=Av(o,c,u);return o.inclusive?h>=0:h>0}(r.endAt,oo(r),s))}(t,e)}function iA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tE(t){return(e,n)=>{let r=!1;for(const s of oo(t)){const i=oA(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function oA(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,o,c){const u=o.data.field(i),h=c.data.field(i);return u!==null&&h!==null?Js(u,h):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Fw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Ee(G.comparator);function Rn(){return aA}const nE=new Ee(G.comparator);function Gi(...t){let e=nE;for(const n of t)e=e.insert(n.key,n);return e}function rE(t){let e=nE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return ao()}function sE(){return ao()}function ao(){return new os(t=>t.toString(),(t,e)=>t.isEqual(e))}const lA=new Ee(G.comparator),cA=new Ve(G.comparator);function se(...t){let e=cA;for(const n of t)e=e.add(n);return e}const uA=new Ve(te);function hA(){return uA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function iE(t){return{integerValue:""+t}}function dA(t,e){return M2(e)?iE(e):Gf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this._=void 0}}function fA(t,e,n){return t instanceof Jl?function(s,i){const o={fields:{[$w]:{stringValue:zw},[Ww]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$f(i)&&(i=Pc(i)),i&&(o.fields[Bw]=i),{mapValue:o}}(n,e):t instanceof Lo?aE(t,e):t instanceof Vo?lE(t,e):function(s,i){const o=oE(s,i),c=bv(o)+bv(s.Re);return od(o)&&od(s.Re)?iE(c):Gf(s.serializer,c)}(t,e)}function pA(t,e,n){return t instanceof Lo?aE(t,e):t instanceof Vo?lE(t,e):n}function oE(t,e){return t instanceof Zl?function(r){return od(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Jl extends Oc{}class Lo extends Oc{constructor(e){super(),this.elements=e}}function aE(t,e){const n=cE(e);for(const r of t.elements)n.some(s=>rn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vo extends Oc{constructor(e){super(),this.elements=e}}function lE(t,e){let n=cE(e);for(const r of t.elements)n=n.filter(s=>!rn(s,r));return{arrayValue:{values:n}}}class Zl extends Oc{constructor(e,n){super(),this.serializer=e,this.Re=n}}function bv(t){return Ne(t.integerValue||t.doubleValue)}function cE(t){return Bf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mA(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Lo&&s instanceof Lo||r instanceof Vo&&s instanceof Vo?Xs(r.elements,s.elements,rn):r instanceof Zl&&s instanceof Zl?rn(r.Re,s.Re):r instanceof Jl&&s instanceof Jl}(t.transform,e.transform)}class gA{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lc{}function uE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dE(t.key,In.none()):new Xo(t.key,t.data,In.none());{const n=t.data,r=jt.empty();let s=new Ve(We.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new as(t.key,r,new Bt(s.toArray()),In.none())}}function vA(t,e,n){t instanceof Xo?function(s,i,o){const c=s.value.clone(),u=Ov(s.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof as?function(s,i,o){if(!hl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Ov(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(hE(s)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lo(t,e,n,r){return t instanceof Xo?function(i,o,c,u){if(!hl(i.precondition,o))return c;const h=i.value.clone(),p=Lv(i.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof as?function(i,o,c,u){if(!hl(i.precondition,o))return c;const h=Lv(i.fieldTransforms,u,o),p=o.data;return p.setAll(hE(i)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,c){return hl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function yA(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=oE(r.transform,s||null);i!=null&&(n===null&&(n=jt.empty()),n.set(r.field,i))}return n||null}function Dv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xs(r,s,(i,o)=>mA(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xo extends Lc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class as extends Lc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ov(t,e,n){const r=new Map;le(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,pA(o,c,n[s]))}return r}function Lv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,fA(i,o,e))}return r}class dE extends Lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _A extends Lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&vA(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const u=uE(o,c);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>Dv(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>Dv(n,r))}}class Kf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){le(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return lA}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Kf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,ie;function TA(t){switch(t){case V.OK:return Y(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function fE(t){if(t===void 0)return Pn("GRPC error has no .code"),V.UNKNOWN;switch(t){case Pe.OK:return V.OK;case Pe.CANCELLED:return V.CANCELLED;case Pe.UNKNOWN:return V.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return V.INTERNAL;case Pe.UNAVAILABLE:return V.UNAVAILABLE;case Pe.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Pe.NOT_FOUND:return V.NOT_FOUND;case Pe.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Pe.ABORTED:return V.ABORTED;case Pe.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Pe.DATA_LOSS:return V.DATA_LOSS;default:return Y(39323,{code:t})}}(ie=Pe||(Pe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new dr([4294967295,4294967295],0);function Vv(t){const e=Lw().encode(t),n=new Nw;return n.update(e),new Uint8Array(n.digest())}function Mv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new dr([n,r],0),new dr([s,i],0)]}class Qf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ki(`Invalid padding: ${n}`);if(r<0)throw new Ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ki(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=dr.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(dr.fromNumber(r)));return s.compare(IA)===1&&(s=new dr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Vv(e),[r,s]=Mv(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Qf(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.pe===0)return;const n=Vv(e),[r,s]=Mv(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ki extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Jo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vc(J.min(),s,new Ee(te),Rn(),se())}}class Jo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jo(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class pE{constructor(e,n){this.targetId=e,this.Ce=n}}class mE{constructor(e,n,r=Ge.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Fv{constructor(){this.Fe=0,this.Me=Uv(),this.xe=Ge.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=se(),n=se(),r=se();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Y(38017,{changeType:i})}}),new Jo(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Uv()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,le(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class SA{constructor(e){this.ze=e,this.je=new Map,this.He=Rn(),this.Je=Ba(),this.Ye=Ba(),this.Ze=new Ee(te)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(ld(i))if(r===0){const o=new G(i.path);this.tt(n,o,nt.newNoDocument(o,J.min()))}else le(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const c=this.ct(e),u=c?this.lt(c,e,o):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=_r(r).toUint8Array()}catch(u){if(u instanceof Uw)return Ys("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Qf(o,s,i)}catch(u){return Ys(u instanceof Ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const c=this._t(o);if(c){if(i.current&&ld(c.target)){const u=new G(c.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,nt.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=se();this.Ye.forEach((i,o)=>{let c=!0;o.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Vc(e,n,this.Ze,this.He,r);return this.He=Rn(),this.Je=Ba(),this.Ye=Ba(),this.Ze=new Ee(te),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Fv,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ve(te),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ve(te),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Fv),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ba(){return new Ee(G.comparator)}function Uv(){return new Ee(G.comparator)}const CA={asc:"ASCENDING",desc:"DESCENDING"},kA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NA={and:"AND",or:"OR"};class AA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ud(t,e){return t.useProto3Json||jc(e)?e:{value:e}}function ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jA(t,e){return ec(t,e.toTimestamp())}function nn(t){return le(!!t,49232),J.fromTimestamp(function(n){const r=yr(n);return new Le(r.seconds,r.nanos)}(t))}function Yf(t,e){return hd(t,e).canonicalString()}function hd(t,e){const n=function(s){return new Ie(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vE(t){const e=Ie.fromString(t);return le(xE(e),10190,{key:e.toString()}),e}function dd(t,e){return Yf(t.databaseId,e.path)}function Hu(t,e){const n=vE(e);if(n.get(1)!==t.databaseId.projectId)throw new H(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(_E(n))}function yE(t,e){return Yf(t.databaseId,e)}function PA(t){const e=vE(t);return e.length===4?Ie.emptyPath():_E(e)}function fd(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _E(t){return le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zv(t,e,n){return{name:dd(t,e),fields:n.value.mapValue.fields}}function RA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Y(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,p){return h.useProto3Json?(le(p===void 0||typeof p=="string",58123),Ge.fromBase64String(p||"")):(le(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Ge.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const p=h.code===void 0?V.UNKNOWN:fE(h.code);return new H(p,h.message||"")}(o);n=new mE(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Hu(t,r.document.name),i=nn(r.document.updateTime),o=r.document.createTime?nn(r.document.createTime):J.min(),c=new jt({mapValue:{fields:r.document.fields}}),u=nt.newFoundDocument(s,i,o,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new dl(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Hu(t,r.document),i=r.readTime?nn(r.readTime):J.min(),o=nt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new dl([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Hu(t,r.document),i=r.removedTargetIds||[];n=new dl([],i,s,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new xA(s,i),c=r.targetId;n=new pE(c,o)}}return n}function bA(t,e){let n;if(e instanceof Xo)n={update:zv(t,e.key,e.value)};else if(e instanceof dE)n={delete:dd(t,e.key)};else if(e instanceof as)n={update:zv(t,e.key,e.data),updateMask:$A(e.fieldMask)};else{if(!(e instanceof _A))return Y(16599,{ft:e.type});n={verify:dd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof Jl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Lo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zl)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:jA(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y(27497)}(t,e.precondition)),n}function DA(t,e){return t&&t.length>0?(le(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?nn(s.updateTime):nn(i);return o.isEqual(J.min())&&(o=nn(i)),new gA(o,s.transformResults||[])}(n,e))):[]}function OA(t,e){return{documents:[yE(t,e.path)]}}function LA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yE(t,s);const i=function(h){if(h.length!==0)return EE(sn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:ys(y.field),direction:FA(y.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=ud(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function VA(t){let e=PA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){le(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(m){const y=wE(m);return y instanceof sn&&Yw(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(y=>function(A){return new Xl(_s(A.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(m){let y;return y=typeof m=="object"?m.value:m,jc(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(m){const y=!!m.before,x=m.values||[];return new Yl(x,y)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const y=!m.before,x=m.values||[];return new Yl(x,y)}(n.endAt)),nA(e,s,o,i,c,"F",u,h)}function MA(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_s(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_s(n.unaryFilter.field);return De.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_s(n.unaryFilter.field);return De.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_s(n.unaryFilter.field);return De.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return De.create(_s(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sn.create(n.compositeFilter.filters.map(r=>wE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function FA(t){return CA[t]}function UA(t){return kA[t]}function zA(t){return NA[t]}function ys(t){return{fieldPath:t.canonicalString()}}function _s(t){return We.fromServerFormat(t.fieldPath)}function EE(t){return t instanceof De?function(n){if(n.op==="=="){if(Nv(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NAN"}};if(kv(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nv(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NAN"}};if(kv(n.value))return{unaryFilter:{field:ys(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(n.field),op:UA(n.op),value:n.value}}}(t):t instanceof sn?function(n){const r=n.getFilters().map(s=>EE(s));return r.length===1?r[0]:{compositeFilter:{op:zA(n.op),filters:r}}}(t):Y(54877,{filter:t})}function $A(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,s,i=J.min(),o=J.min(),c=Ge.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.wt=e}}function WA(t){const e=VA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.yn=new HA}addToCollectionParentIndex(e,n){return this.yn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(vr.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class HA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ve(Ie.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ve(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class ht{static withCacheSize(e){return new ht(e,ht.DEFAULT_COLLECTION_PERCENTILE,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ht.DEFAULT_COLLECTION_PERCENTILE=10,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ht.DEFAULT=new ht(TE,ht.DEFAULT_COLLECTION_PERCENTILE,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ht.DISABLED=new ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ei(0)}static ir(){return new ei(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="LruGarbageCollector",GA=1048576;function Wv([t,e],[n,r]){const s=te(t,n);return s===0?te(e,r):s}class KA{constructor(e){this.cr=e,this.buffer=new Ve(Wv),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){B(Bv,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fi(n)?B(Bv,"Ignoring IndexedDB error during garbage collection: ",n):await di(n)}await this.Ir(3e5)})}}class YA{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Ac.le);const r=new KA(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve($v)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,o,c,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,c=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),gs()<=re.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function XA(t,e){return new YA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.changes=new os(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&lo(r.mutation,s,Bt.empty(),Le.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const s=zr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Gi();return i.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=Rn();const o=ao(),c=function(){return ao()}();return n.forEach((u,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof as)?i=i.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),lo(p.mutation,h,p.mutation.getFieldMask(),Le.now())):o.set(h.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var m;return c.set(h,new ZA(p,(m=o.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){const r=ao();let s=new Ee((o,c)=>o-c),i=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Bt.empty();p=c.applyToLocalView(h,p),r.set(u,p);const m=(s.get(c.batchId)||se()).add(u);s=s.insert(c.batchId,m)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,p=u.value,m=sE();p.forEach(y=>{if(!i.has(y)){const x=uE(n.get(y),r.get(y));x!==null&&m.set(y,x),i=i.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(zr());let c=Ro,u=i;return o.next(h=>L.forEach(h,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),i.get(p)?L.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{u=u.insert(p,y)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,se())).next(p=>({batchId:c,changes:rE(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let s=Gi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Gi();return this.indexManager.getCollectionParents(e,i).next(c=>L.forEach(c,u=>{const h=function(m,y){return new Rc(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(p=>{p.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,nt.newInvalidDocument(p)))});let c=Gi();return o.forEach((u,h)=>{const p=i.get(u);p!==void 0&&lo(p.mutation,h,Bt.empty(),Le.now()),Dc(n,h)&&(c=c.insert(u,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return L.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nn(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:WA(s.bundledQuery),readTime:nn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.overlays=new Ee(G.comparator),this.Or=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zr();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=zr(),i=n.length+1,o=new G(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ee((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=i.get(h.largestBatchId);p===null&&(p=zr(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=zr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=s)););return L.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new EA(n,r));let i=this.Or.get(n);i===void 0&&(i=se(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.Nr=new Ve(Me.Br),this.Lr=new Ve(Me.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Me(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Me(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new G(new Ie([])),r=new Me(n,e),s=new Me(n,e+1),i=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new G(new Ie([])),r=new Me(n,e),s=new Me(n,e+1);let i=se();return this.Lr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Me(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Me{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return G.comparator(e.key,n.key)||te(e.Gr,n.Gr)}static kr(e,n){return te(e.Gr,n.Gr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ve(Me.Br)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wA(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.zr=this.zr.add(new Me(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?zf:this.Jn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Me(n,0),s=new Me(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],o=>{const c=this.jr(o.Gr);i.push(c)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(te);return n.forEach(s=>{const i=new Me(s,0),o=new Me(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],c=>{r=r.add(c.Gr)})}),L.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;G.isDocumentKey(i)||(i=i.child(""));const o=new Me(new G(i),0);let c=new Ve(te);return this.zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(u.Gr)),!0)},o),L.resolve(this.Jr(c))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){le(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return L.forEach(n.mutations,s=>{const i=new Me(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Me(n,0),s=this.zr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.Zr=e,this.docs=function(){return new Ee(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():nt.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Rn();const o=n.path,c=new G(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||D2(b2(p),r)<=0||(s.has(p.key)||Dc(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Y(9500)}Xr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oj(this)}getSize(e){return L.resolve(this.size)}}class oj extends JA{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.persistence=e,this.ei=new os(n=>Wf(n),qf),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ti=0,this.ni=new Xf,this.targetCount=0,this.ri=ei.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),L.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ei(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.ar(n),L.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.ii={},this.overlays={},this.si=new Ac(0),this.oi=!1,this.oi=!0,this._i=new rj,this.referenceDelegate=e(this),this.ai=new aj(this),this.indexManager=new qA,this.remoteDocumentCache=function(s){return new ij(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new BA(n),this.ci=new tj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new sj(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const s=new lj(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return L.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class lj extends L2{constructor(e){super(),this.currentSequenceNumber=e}}class Jf{constructor(e){this.persistence=e,this.Ti=new Xf,this.Ii=null}static Ei(e){return new Jf(e)}get di(){if(this.Ii)return this.Ii;throw Y(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,r=>{const s=G.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,J.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return L.or([()=>L.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class tc{constructor(e,n){this.persistence=e,this.Ri=new os(r=>F2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=XA(this,n)}static Ei(e,n){return new tc(e,n)}li(){}hi(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return L.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?L.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(c=>{c||(r++,i.removeEntry(o,J.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),L.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cl(e.data.value)),n}gr(e,n,r){return L.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=se(),s=se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Zf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return zS()?8:V2(st())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new cj;return this.fs(e,n,o).next(c=>{if(i.result=c,this.Is)return this.gs(e,n,o,c.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(gs()<=re.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),L.resolve()):(gs()<=re.DEBUG&&B("QueryEngine","Query:",vs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(gs()<=re.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tn(n))):L.resolve())}Rs(e,n){if(Rv(n))return L.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=cd(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=se(...i);return this.As.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ps(n,c);return this.ys(n,h,o,u.readTime)?this.Rs(e,cd(n,null,"F")):this.ws(e,h,n,u)}))})))}Vs(e,n,r,s){return Rv(n)||s.isEqual(J.min())?L.resolve(null):this.As.getDocuments(e,r).next(i=>{const o=this.ps(n,i);return this.ys(n,o,r,s)?L.resolve(null):(gs()<=re.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vs(n)),this.ws(e,o,n,R2(s,Ro)).next(c=>c))})}ps(e,n){let r=new Ve(tE(e));return n.forEach((s,i)=>{Dc(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return gs()<=re.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",vs(n)),this.As.getDocumentsMatchingQuery(e,n,vr.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="LocalStore",hj=3e8;class dj{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Ee(te),this.Ds=new os(i=>Wf(i),qf),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ej(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function fj(t,e,n,r){return new dj(t,e,n,r)}async function SE(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],c=[];let u=se();for(const h of s){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of i){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ms:h,removedBatchIds:o,addedBatchIds:c}))})})}function pj(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,u,h,p){const m=h.batch,y=m.keys();let x=L.resolve();return y.forEach(A=>{x=x.next(()=>p.getEntry(u,A)).next(N=>{const S=h.docVersions.get(A);le(S!==null,48541),N.version.compareTo(S)<0&&(m.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),p.addEntry(N)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=se();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function CE(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function mj(t,e){const n=Z(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const c=[];e.targetChanges.forEach((p,m)=>{const y=s.get(m);if(!y)return;c.push(n.ai.removeMatchingKeys(i,p.removedDocuments,m).next(()=>n.ai.addMatchingKeys(i,p.addedDocuments,m)));let x=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Ge.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),s=s.insert(m,x),function(N,S,v){return N.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=hj?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(y,x,p)&&c.push(n.ai.updateTargetData(i,x))});let u=Rn(),h=se();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))}),c.push(gj(i,o,e.documentUpdates).next(p=>{u=p.xs,h=p.Os})),!r.isEqual(J.min())){const p=n.ai.getLastRemoteSnapshotVersion(i).next(m=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(p)}return L.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ss=s,i))}function gj(t,e,n){let r=se(),s=se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Rn();return n.forEach((c,u)=>{const h=i.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):B(ep,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{xs:o,Os:s}})}function vj(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yj(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,L.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new Zn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function pd(t,e,n){const r=Z(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!fi(o))throw o;B(ep,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function qv(t,e,n){const r=Z(t);let s=J.min(),i=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,p){const m=Z(u),y=m.Ds.get(p);return y!==void 0?L.resolve(m.Ss.get(y)):m.ai.getTargetData(h,p)}(r,o,tn(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,c.targetId).next(u=>{i=u})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:J.min(),n?i:se())).next(c=>(_j(r,iA(e),c),{documents:c,Ns:i})))}function _j(t,e,n){let r=t.vs.get(e)||J.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class Hv{constructor(){this.activeTargetIds=hA()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wj{constructor(){this.So=new Hv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Hv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="ConnectivityMonitor";class Kv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){B(Gv,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){B(Gv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa=null;function md(){return Wa===null?Wa=function(){return 268435456+Math.round(2147483648*Math.random())}():Wa++,"0x"+Wa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="RestConnection",xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tj{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Kl?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const o=md(),c=this.$o(e,n.toUriEncodedString());B(Gu,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,s,i);const{host:h}=new URL(c),p=Sc(h);return this.Ko(e,c,u,r,p).then(m=>(B(Gu,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Ys(Gu,`RPC '${e}' ${o} failed with error: `,m,"url: ",c,"request:",r),m})}Wo(e,n,r,s,i,o){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=xj[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class Sj extends Tj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s,i){const o=md();return new Promise((c,u)=>{const h=new Aw;h.setWithCredentials(!0),h.listenOnce(jw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ll.NO_ERROR:const m=h.getResponseJson();B(Ze,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),c(m);break;case ll.TIMEOUT:B(Ze,`RPC '${e}' ${o} timed out`),u(new H(V.DEADLINE_EXCEEDED,"Request time out"));break;case ll.HTTP_ERROR:const y=h.getStatus();if(B(Ze,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x==null?void 0:x.error;if(A&&A.status&&A.message){const N=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(g)>=0?g:V.UNKNOWN}(A.status);u(new H(N,A.message))}else u(new H(V.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new H(V.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{s_:e,streamId:o,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{B(Ze,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(s);B(Ze,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",p,r,15)})}a_(e,n,r){const s=md(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bw(),c=Rw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=i.join("");B(Ze,`Creating RPC '${e}' stream ${s}: ${p}`,u);const m=o.createWebChannel(p,u);let y=!1,x=!1;const A=new Ij({Go:S=>{x?B(Ze,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(y||(B(Ze,`Opening RPC '${e}' stream ${s} transport.`),m.open(),y=!0),B(Ze,`RPC '${e}' stream ${s} sending:`,S),m.send(S))},zo:()=>m.close()}),N=(S,v,g)=>{S.listen(v,w=>{try{g(w)}catch(D){setTimeout(()=>{throw D},0)}})};return N(m,Hi.EventType.OPEN,()=>{x||(B(Ze,`RPC '${e}' stream ${s} transport opened.`),A.t_())}),N(m,Hi.EventType.CLOSE,()=>{x||(x=!0,B(Ze,`RPC '${e}' stream ${s} transport closed`),A.r_())}),N(m,Hi.EventType.ERROR,S=>{x||(x=!0,Ys(Ze,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),A.r_(new H(V.UNAVAILABLE,"The operation could not be completed")))}),N(m,Hi.EventType.MESSAGE,S=>{var v;if(!x){const g=S.data[0];le(!!g,16349);const w=g,D=(w==null?void 0:w.error)||((v=w[0])===null||v===void 0?void 0:v.error);if(D){B(Ze,`RPC '${e}' stream ${s} received error:`,D);const F=D.status;let z=function(T){const C=Pe[T];if(C!==void 0)return fE(C)}(F),I=D.message;z===void 0&&(z=V.INTERNAL,I="Unknown error status: "+F+" with message "+D.message),x=!0,A.r_(new H(z,I)),m.close()}else B(Ze,`RPC '${e}' stream ${s} received:`,g),A.i_(g)}}),N(c,Pw.STAT_EVENT,S=>{S.stat===rd.PROXY?B(Ze,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===rd.NOPROXY&&B(Ze,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Ku(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){return new AA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&B("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class NE{constructor(e,n,r,s,i,o,c,u){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new kE(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new H(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return B(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(B(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cj extends NE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=RA(this.serializer,e),r=function(i){if(!("targetChange"in i))return J.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?nn(o.readTime):J.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=fd(this.serializer),n.addTarget=function(i,o){let c;const u=o.target;if(c=ld(u)?{documents:OA(i,u)}:{query:LA(i,u).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=gE(i,o.resumeToken);const h=ud(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(J.min())>0){c.readTime=ec(i,o.snapshotVersion.toTimestamp());const h=ud(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=MA(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=fd(this.serializer),n.removeTarget=e,this.F_(n)}}class kj extends NE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=DA(e.writeResults,e.commitTime),r=nn(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=fd(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bA(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{}class Aj extends Nj{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new H(V.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,hd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(V.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Wo(e,hd(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(V.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class jj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Pn(n),this.ea=!1):B("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="RemoteStore";class Pj{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{r.enqueueAndForget(async()=>{ls(this)&&(B(ts,"Restarting streams for network reachability change."),await async function(u){const h=Z(u);h.aa.add(4),await Zo(h),h.la.set("Unknown"),h.aa.delete(4),await Fc(h)}(this))})}),this.la=new jj(r,s)}}async function Fc(t){if(ls(t))for(const e of t.ua)await e(!0)}async function Zo(t){for(const e of t.ua)await e(!1)}function AE(t,e){const n=Z(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),sp(n)?rp(n):pi(n).b_()&&np(n,e))}function tp(t,e){const n=Z(t),r=pi(n);n._a.delete(e),r.b_()&&jE(n,e),n._a.size===0&&(r.b_()?r.v_():ls(n)&&n.la.set("Unknown"))}function np(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pi(t).U_(e)}function jE(t,e){t.ha.Ke(e),pi(t).K_(e)}function rp(t){t.ha=new SA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),pi(t).start(),t.la.ta()}function sp(t){return ls(t)&&!pi(t).w_()&&t._a.size>0}function ls(t){return Z(t).aa.size===0}function PE(t){t.ha=void 0}async function Rj(t){t.la.set("Online")}async function bj(t){t._a.forEach((e,n)=>{np(t,e)})}async function Dj(t,e){PE(t),sp(t)?(t.la.ia(e),rp(t)):t.la.set("Unknown")}async function Oj(t,e,n){if(t.la.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const c of i.targetIds)s._a.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s._a.delete(c),s.ha.removeTarget(c))}(t,e)}catch(r){B(ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nc(t,r)}else if(e instanceof dl?t.ha.Xe(e):e instanceof pE?t.ha.ot(e):t.ha.nt(e),!n.isEqual(J.min()))try{const r=await CE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const c=i.ha.It(o);return c.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=i._a.get(h);p&&i._a.set(h,p.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,h)=>{const p=i._a.get(u);if(!p)return;i._a.set(u,p.withResumeToken(Ge.EMPTY_BYTE_STRING,p.snapshotVersion)),jE(i,u);const m=new Zn(p.target,u,h,p.sequenceNumber);np(i,m)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){B(ts,"Failed to raise snapshot:",r),await nc(t,r)}}async function nc(t,e,n){if(!fi(e))throw e;t.aa.add(1),await Zo(t),t.la.set("Offline"),n||(n=()=>CE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B(ts,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Fc(t)})}function RE(t,e){return e().catch(n=>nc(t,n,e))}async function Uc(t){const e=Z(t),n=Er(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:zf;for(;Lj(e);)try{const s=await vj(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,Vj(e,s)}catch(s){await nc(e,s)}bE(e)&&DE(e)}function Lj(t){return ls(t)&&t.oa.length<10}function Vj(t,e){t.oa.push(e);const n=Er(t);n.b_()&&n.W_&&n.G_(e.mutations)}function bE(t){return ls(t)&&!Er(t).w_()&&t.oa.length>0}function DE(t){Er(t).start()}async function Mj(t){Er(t).H_()}async function Fj(t){const e=Er(t);for(const n of t.oa)e.G_(n.mutations)}async function Uj(t,e,n){const r=t.oa.shift(),s=Kf.from(r,e,n);await RE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Uc(t)}async function zj(t,e){e&&Er(t).W_&&await async function(r,s){if(function(o){return TA(o)&&o!==V.ABORTED}(s.code)){const i=r.oa.shift();Er(r).D_(),await RE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Uc(r)}}(t,e),bE(t)&&DE(t)}async function Yv(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),B(ts,"RemoteStore received new credentials");const r=ls(n);n.aa.add(3),await Zo(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Fc(n)}async function $j(t,e){const n=Z(t);e?(n.aa.delete(2),await Fc(n)):e||(n.aa.add(2),await Zo(n),n.la.set("Unknown"))}function pi(t){return t.Pa||(t.Pa=function(n,r,s){const i=Z(n);return i.Y_(),new Cj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:Rj.bind(null,t),Jo:bj.bind(null,t),Zo:Dj.bind(null,t),Q_:Oj.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),sp(t)?rp(t):t.la.set("Unknown")):(await t.Pa.stop(),PE(t))})),t.Pa}function Er(t){return t.Ta||(t.Ta=function(n,r,s){const i=Z(n);return i.Y_(),new kj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Mj.bind(null,t),Zo:zj.bind(null,t),z_:Fj.bind(null,t),j_:Uj.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Uc(t)):(await t.Ta.stop(),t.oa.length>0&&(B(ts,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new ip(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),fi(t))return new H(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(e){return new zs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Gi(),this.sortedSet=new Ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.Ia=new Ee(G.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class ti{constructor(e,n,r,s,i,o,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new ti(e,n,zs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Wj{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=Z(n),i=s.queries;s.queries=Jv(),i.forEach((o,c)=>{for(const u of c.Ra)u.onError(r)})})(this,new H(V.ABORTED,"Firestore shutting down"))}}function Jv(){return new os(t=>eE(t),bc)}async function qj(t,e){const n=Z(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new Bj,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=op(o,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&ap(n)}async function Hj(t,e){const n=Z(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gj(t,e){const n=Z(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.Ra)c.pa(s)&&(r=!0);o.Aa=s}}r&&ap(n)}function Kj(t,e,n){const r=Z(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function ap(t){t.fa.forEach(e=>{e.next()})}var gd,Zv;(Zv=gd||(gd={})).ya="default",Zv.Cache="cache";class Qj{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ti(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=ti.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class Yj{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=se(),this.mutatedKeys=se(),this.Ua=tE(e),this.Ka=new zs(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new Xv,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,m)=>{const y=s.get(p),x=Dc(this.query,m)?m:null,A=!!y&&this.mutatedKeys.has(y.key),N=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;y&&x?y.data.isEqual(x.data)?A!==N&&(r.track({type:3,doc:x}),S=!0):this.ja(y,x)||(r.track({type:2,doc:x}),S=!0,(u&&this.Ua(x,u)>0||h&&this.Ua(x,h)<0)&&(c=!0)):!y&&x?(r.track({type:0,doc:x}),S=!0):y&&!x&&(r.track({type:1,doc:y}),S=!0,(u||h)&&(c=!0)),S&&(x?(o=o.add(x),i=N?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{Ka:o,za:r,ys:c,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((p,m)=>function(x,A){const N=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:S})}};return N(x)-N(A)}(p.type,m.type)||this.Ua(p.doc,m.doc)),this.Ha(r),s=s!=null&&s;const c=n&&!s?this.Ja():[],u=this.$a.size===0&&this.current&&!s?1:0,h=u!==this.Qa;return this.Qa=u,o.length!==0||h?{snapshot:new ti(this.query,e.Ka,i,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Xv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=se(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new LE(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new OE(r))}),n}Xa(e){this.qa=e.Ns,this.$a=se();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return ti.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const lp="SyncEngine";class Xj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jj{constructor(e){this.key=e,this.tu=!1}}class Zj{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new os(c=>eE(c),bc),this.iu=new Map,this.su=new Set,this.ou=new Ee(G.comparator),this._u=new Map,this.au=new Xf,this.uu={},this.cu=new Map,this.lu=ei.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function eP(t,e,n=!0){const r=$E(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await VE(r,e,n,!0),s}async function tP(t,e){const n=$E(t);await VE(n,e,!0,!1)}async function VE(t,e,n,r){const s=await yj(t.localStore,tn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await nP(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&AE(t.remoteStore,s),c}async function nP(t,e,n,r,s){t.Pu=(m,y,x)=>async function(N,S,v,g){let w=S.view.Ga(v);w.ys&&(w=await qv(N.localStore,S.query,!1).then(({documents:I})=>S.view.Ga(I,w)));const D=g&&g.targetChanges.get(S.targetId),F=g&&g.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(w,N.isPrimaryClient,D,F);return ty(N,S.targetId,z.Ya),z.snapshot}(t,m,y,x);const i=await qv(t.localStore,e,!0),o=new Yj(e,i.Ns),c=o.Ga(i.documents),u=Jo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(c,t.isPrimaryClient,u);ty(t,n,h.Ya);const p=new Xj(e,n,o);return t.ru.set(e,p),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),h.snapshot}async function rP(t,e,n){const r=Z(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(o=>!bc(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&tp(r.remoteStore,s.targetId),vd(r,s.targetId)}).catch(di)):(vd(r,s.targetId),await pd(r.localStore,s.targetId,!0))}async function sP(t,e){const n=Z(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tp(n.remoteStore,r.targetId))}async function iP(t,e,n){const r=dP(t);try{const s=await function(o,c){const u=Z(o),h=Le.now(),p=c.reduce((x,A)=>x.add(A.key),se());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let A=Rn(),N=se();return u.Cs.getEntries(x,p).next(S=>{A=S,A.forEach((v,g)=>{g.isValidDocument()||(N=N.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,A)).next(S=>{m=S;const v=[];for(const g of c){const w=yA(g,m.get(g.key).overlayedDocument);w!=null&&v.push(new as(g.key,w,Gw(w.value.mapValue),In.exists(!0)))}return u.mutationQueue.addMutationBatch(x,h,v,c)}).next(S=>{y=S;const v=S.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(x,S.batchId,v)})}).then(()=>({batchId:y.batchId,changes:rE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,u){let h=o.uu[o.currentUser.toKey()];h||(h=new Ee(te)),h=h.insert(c,u),o.uu[o.currentUser.toKey()]=h}(r,s.batchId,n),await ea(r,s.changes),await Uc(r.remoteStore)}catch(s){const i=op(s,"Failed to persist write");n.reject(i)}}async function ME(t,e){const n=Z(t);try{const r=await mj(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n._u.get(i);o&&(le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?le(o.tu,14607):s.removedDocuments.size>0&&(le(o.tu,42227),o.tu=!1))}),await ea(n,r,e)}catch(r){await di(r)}}function ey(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,o)=>{const c=o.view.ga(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const u=Z(o);u.onlineState=c;let h=!1;u.queries.forEach((p,m)=>{for(const y of m.Ra)y.ga(c)&&(h=!0)}),h&&ap(u)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oP(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let o=new Ee(G.comparator);o=o.insert(i,nt.newNoDocument(i,J.min()));const c=se().add(i),u=new Vc(J.min(),new Map,new Ee(te),o,c);await ME(r,u),r.ou=r.ou.remove(i),r._u.delete(e),cp(r)}else await pd(r.localStore,e,!1).then(()=>vd(r,e,n)).catch(di)}async function aP(t,e){const n=Z(t),r=e.batch.batchId;try{const s=await pj(n.localStore,e);UE(n,r,null),FE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ea(n,s)}catch(s){await di(s)}}async function lP(t,e,n){const r=Z(t);try{const s=await function(o,c){const u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,c).next(m=>(le(m!==null,37113),p=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);UE(r,e,n),FE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ea(r,s)}catch(s){await di(s)}}function FE(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function UE(t,e,n){const r=Z(t);let s=r.uu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function vd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||zE(t,r)})}function zE(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(tp(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),cp(t))}function ty(t,e,n){for(const r of n)r instanceof OE?(t.au.addReference(r.key,e),cP(t,r)):r instanceof LE?(B(lp,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||zE(t,r.key)):Y(19791,{Iu:r})}function cP(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(B(lp,"New document in limbo: "+n),t.su.add(r),cp(t))}function cp(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new G(Ie.fromString(e)),r=t.lu.next();t._u.set(r,new Jj(n)),t.ou=t.ou.insert(n,r),AE(t.remoteStore,new Zn(tn(Hf(n.path)),r,"TargetPurposeLimboResolution",Ac.le))}}async function ea(t,e,n){const r=Z(t),s=[],i=[],o=[];r.ru.isEmpty()||(r.ru.forEach((c,u)=>{o.push(r.Pu(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){s.push(h);const m=Zf.Ps(u.targetId,h);i.push(m)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(u,h){const p=Z(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>L.forEach(h,y=>L.forEach(y.ls,x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x)).next(()=>L.forEach(y.hs,x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))}catch(m){if(!fi(m))throw m;B(ep,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const x=p.Ss.get(y),A=x.snapshotVersion,N=x.withLastLimboFreeSnapshotVersion(A);p.Ss=p.Ss.insert(y,N)}}}(r.localStore,i))}async function uP(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){B(lp,"User change. New user:",e.toKey());const r=await SE(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(c=>{c.forEach(u=>{u.reject(new H(V.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ea(n,r.Ms)}}function hP(t,e){const n=Z(t),r=n._u.get(e);if(r&&r.tu)return se().add(r.key);{let s=se();const i=n.iu.get(e);if(!i)return s;for(const o of i){const c=n.ru.get(o);s=s.unionWith(c.view.Wa)}return s}}function $E(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oP.bind(null,e),e.nu.Q_=Gj.bind(null,e.eventManager),e.nu.Tu=Kj.bind(null,e.eventManager),e}function dP(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lP.bind(null,e),e}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return fj(this.persistence,new uj,e.initialUser,this.serializer)}Ru(e){return new IE(Jf.Ei,this.serializer)}Au(e){return new wj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class fP extends rc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){le(this.persistence.referenceDelegate instanceof tc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QA(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?ht.withCacheSize(this.cacheSizeBytes):ht.DEFAULT;return new IE(r=>tc.Ei(r,n),this.serializer)}}class yd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ey(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uP.bind(null,this.syncEngine),await $j(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wj}()}createDatastore(e){const n=Mc(e.databaseInfo.databaseId),r=function(i){return new Sj(i)}(e.databaseInfo);return function(i,o,c,u){return new Aj(i,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,c){return new Pj(r,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>ey(this.syncEngine,n,0),function(){return Kv.C()?new Kv:new Ej}())}createSyncEngine(e,n){return function(s,i,o,c,u,h,p){const m=new Zj(s,i,o,c,u,h);return p&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Z(s);B(ts,"RemoteStore shutting down."),i.aa.add(5),await Zo(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yd.provider={build:()=>new yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class mP{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=et.UNAUTHENTICATED,this.clientId=Vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{B(xr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(B(xr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=op(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qu(t,e){t.asyncQueue.verifyOperationInProgress(),B(xr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ny(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gP(t);B(xr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Yv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Yv(e.remoteStore,s)),t._onlineComponents=e}async function gP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(xr,"Using user provided OfflineComponentProvider");try{await Qu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await Qu(t,new rc)}}else B(xr,"Using default OfflineComponentProvider"),await Qu(t,new fP(void 0));return t._offlineComponents}async function BE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(xr,"Using user provided OnlineComponentProvider"),await ny(t,t._uninitializedComponentsProvider._online)):(B(xr,"Using default OnlineComponentProvider"),await ny(t,new yd))),t._onlineComponents}function vP(t){return BE(t).then(e=>e.syncEngine)}async function yP(t){const e=await BE(t),n=e.eventManager;return n.onListen=eP.bind(null,e.syncEngine),n.onUnlisten=rP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sP.bind(null,e.syncEngine),n}function _P(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,u,h){const p=new pP({next:y=>{p.yu(),o.enqueueAndForget(()=>Hj(i,m));const x=y.docs.has(c);!x&&y.fromCache?h.reject(new H(V.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&u&&u.source==="server"?h.reject(new H(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new Qj(Hf(c.path),p,{includeMetadataChanges:!0,Fa:!0});return qj(i,m)}(await yP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t,e,n){if(!n)throw new H(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EP(t,e,n,r){if(e===!0&&r===!0)throw new H(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sy(t){if(!G.isDocumentKey(t))throw new H(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Mo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(t);throw new H(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firestore.googleapis.com",iy=!0;class oy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=iy}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:iy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GA)throw new H(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new T2;switch(r.type){case"firstParty":return new k2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ry.get(n);r&&(B("ComponentProvider","Removing Datastore"),ry.delete(n),r.terminate())}(this),Promise.resolve()}}function xP(t,e,n,r={}){var s;t=Mo(t,hp);const i=Sc(e),o=t._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;i&&$0(`https://${u}`),o.host!==qE&&o.host!==u&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!Yr(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=et.MOCK_USER;else{p=DS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new H(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new et(y)}t._authCredentials=new I2(new Ow(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dp(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Fo extends dp{constructor(e,n,r){super(e,n,Hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new G(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function ms(t,e,...n){if(t=It(t),arguments.length===1&&(e=Vw.newId()),wP("doc","path",e),t instanceof hp){const r=Ie.fromString(e,...n);return sy(r),new bt(t,null,new G(r))}{if(!(t instanceof bt||t instanceof Fo))throw new H(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return sy(r),new bt(t.firestore,t instanceof Fo?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="AsyncQueue";class ly{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new kE(this,"async_queue_retry"),this.ju=()=>{const r=Ku();r&&B(ay,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Ku();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Ku();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new fr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!fi(e))throw e;B(ay,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Pn("INTERNAL UNHANDLED ERROR: ",cy(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=ip.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&Y(47125,{ec:cy(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function cy(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fp extends hp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ly,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ly(e),this._firestoreClient=void 0,await e}}}function TP(t,e){const n=typeof t=="object"?t:H0(),r=typeof t=="string"?t:Kl,s=Nf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=RS("firestore");i&&xP(s,...i)}return s}function HE(t){if(t._terminated)throw new H(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IP(t),t._firestoreClient}function IP(t){var e,n,r;const s=t._freezeSettings(),i=function(c,u,h,p){return new $2(c,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,WE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new mP(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(Ge.fromBase64String(e))}catch(n){throw new H(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=/^__.*__$/;class CP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xo(e,this.data,n,this.fieldTransforms)}}function KE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{oc:t})}}class vp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return sc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(KE(this.oc)&&SP.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class kP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mc(e)}dc(e,n,r,s=!1){return new vp({oc:e,methodName:n,Ec:r,path:We.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NP(t){const e=t._freezeSettings(),n=Mc(t._databaseId);return new kP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AP(t,e,n,r,s,i={}){const o=t.dc(i.merge||i.mergeFields?2:0,e,n,s);JE("Data must be an object, but it was:",o,r);const c=YE(r,o);let u,h;if(i.merge)u=new Bt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const m of i.mergeFields){const y=jP(e,m,n);if(!o.contains(y))throw new H(V.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);RP(p,y)||p.push(y)}u=new Bt(p),h=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=o.fieldTransforms;return new CP(new jt(c),u,h)}function QE(t,e){if(XE(t=It(t)))return JE("Unsupported field value:",e,t),YE(t,e);if(t instanceof GE)return function(r,s){if(!KE(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const c of r){let u=QE(c,s.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Le.fromDate(r);return{timestampValue:ec(s.serializer,i)}}if(r instanceof Le){const i=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ec(s.serializer,i)}}if(r instanceof mp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:gE(s.serializer,r._byteString)};if(r instanceof bt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gp)return function(o,c){return{mapValue:{fields:{[qw]:{stringValue:Hw},[Ql]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw c.Tc("VectorValues must only contain numeric values.");return Gf(c.serializer,h)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${up(r)}`)}(t,e)}function YE(t,e){const n={};return Fw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,(r,s)=>{const i=QE(s,e.uc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function XE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof mp||t instanceof ni||t instanceof bt||t instanceof GE||t instanceof gp)}function JE(t,e,n){if(!XE(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=up(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function jP(t,e,n){if((e=It(e))instanceof pp)return e._internalPath;if(typeof e=="string")return ZE(t,e);throw sc("Field path arguments must be of type string or ",t,!1,void 0,n)}const PP=new RegExp("[~\\*/\\[\\]]");function ZE(t,e,n){if(e.search(PP)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pp(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new H(V.INVALID_ARGUMENT,c+t+u)}function RP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bP extends ex{data(){return super.data()}}function tx(t,e){return typeof e=="string"?ZE(t,e):e instanceof pp?e._internalPath:e._delegate._internalPath}class DP{convertValue(e,n="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return is(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Ql].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ne(o.doubleValue));return new gp(i)}convertGeoPoint(e){return new mp(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const n=yr(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);le(xE(r),9688,{name:e});const s=new Do(r.get(1),r.get(3)),i=new G(r.popFirst(5));return s.isEqual(n)||Pn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nx extends ex{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new VP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class VP extends nx{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){t=Mo(t,bt);const e=Mo(t.firestore,fp);return _P(HE(e),t._key).then(n=>UP(e,t,n))}class MP extends DP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function Xu(t,e,n){t=Mo(t,bt);const r=Mo(t.firestore,fp),s=OP(t.converter,e);return FP(r,[AP(NP(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,In.none())])}function FP(t,e){return function(r,s){const i=new fr;return r.asyncQueue.enqueueAndForget(async()=>iP(await vP(r),s,i)),i.promise}(HE(t),e)}function UP(t,e,n){const r=n.docs.get(e._key),s=new MP(t);return new nx(t,s,e._key,r,new LP(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){hi=s})(ci),Qs(new Xr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new fp(new S2(r.getProvider("auth-internal")),new N2(o,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new H(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(h.options.projectId,p)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),hr(mv,gv,e),hr(mv,gv,"esm2017")})();var zP="firebase",$P="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(zP,$P,"app");const BP={apiKey:"AIzaSyDFRPJu06KKAsUo8y7kaiWF1IUintO8ZKE",authDomain:"community-funding-f6017.firebaseapp.com",projectId:"community-funding-f6017",storageBucket:"community-funding-f6017.appspot.com",messagingSenderId:"196327957097",appId:"1:196327957097:web:99aec6c27626cd38a3b8f8"},uy=q0(BP),rx=P.createContext(),mi=()=>P.useContext(rx),WP=({children:t})=>{const[e,n]=P.useState(null),[r,s]=P.useState(!0),i=E2(uy),o=TP(uy);P.useEffect(()=>uN(i,async S=>{if(S){const g=(await Yu(ms(o,"users",S.uid))).data();n({uid:S.uid,email:S.email,name:S.displayName||(g==null?void 0:g.name),role:(g==null?void 0:g.role)||"user",photoURL:S.photoURL})}else n(null);s(!1)}),[i,o]);const A={currentUser:e,login:async(N,S)=>{try{return(await aN(i,N,S)).user}catch(v){throw new Error(v.message)}},signup:async(N,S,v)=>{try{const g=await oN(i,S,v);return await Xu(ms(o,"users",g.user.uid),{name:N,email:S,role:"user",createdAt:new Date().toISOString()}),g.user}catch(g){throw new Error(g.message)}},logout:async()=>{try{await hN(i)}catch(N){throw new Error(N.message)}},resetPassword:async N=>{try{await iN(i,N)}catch(S){throw new Error(S.message)}},signInWithGoogle:async()=>{try{const N=new vn,S=await ov(i,N);return(await Yu(ms(o,"users",S.user.uid))).exists()||await Xu(ms(o,"users",S.user.uid),{name:S.user.displayName,email:S.user.email,role:"user",photoURL:S.user.photoURL,createdAt:new Date().toISOString()}),S.user}catch(N){throw new Error(N.message)}},signInWithFacebook:async()=>{try{const N=new gn,S=await ov(i,N);return(await Yu(ms(o,"users",S.user.uid))).exists()||await Xu(ms(o,"users",S.user.uid),{name:S.user.displayName,email:S.user.email,role:"user",photoURL:S.user.photoURL,createdAt:new Date().toISOString()}),S.user}catch(N){throw new Error(N.message)}},isAdmin:()=>(e==null?void 0:e.role)==="admin",loading:r};return a.jsx(rx.Provider,{value:A,children:t})},sx=P.createContext(),ta=()=>P.useContext(sx),qP=({children:t})=>{const[e,n]=P.useState(!1);P.useEffect(()=>{const o=localStorage.getItem("communityFundingTheme"),c=window.matchMedia("(prefers-color-scheme: dark)").matches;o?n(o==="dark"):c&&n(!0)},[]),P.useEffect(()=>{e?(document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark"):(document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light"),localStorage.setItem("communityFundingTheme",e?"dark":"light")},[e]);const i={darkMode:e,toggleDarkMode:()=>{n(o=>!o)},setTheme:o=>{n(o==="dark")},theme:e?"dark":"light"};return a.jsx(sx.Provider,{value:i,children:t})};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:u,...h},p)=>P.createElement("svg",{ref:p,...HP,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${GP(t)}`,c].join(" "),...h},[...e.map(([m,y])=>P.createElement(m,y)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=K("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=K("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=K("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=K("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=K("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=K("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=K("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=K("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=K("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=K("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=K("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=K("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=K("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=K("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=K("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=K("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=K("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=K("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=K("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=K("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pR=P.createContext(),mR=({children:t})=>{const[e,n]=P.useState([]),r=(o,c="info",u=5e3)=>{const h=Date.now();return n(p=>[...p,{id:h,message:o,type:c,duration:u}]),u>0&&setTimeout(()=>{s(h)},u),h},s=o=>{n(c=>c.filter(u=>u.id!==o))},i={notifications:e,addNotification:r,removeNotification:s};return a.jsxs(pR.Provider,{value:i,children:[t,a.jsx("div",{className:"notifications-container",children:e.map(o=>a.jsxs("div",{className:`notification ${o.type}`,children:[a.jsx("div",{className:"notification-content",children:o.message}),a.jsx("button",{className:"notification-close",onClick:()=>s(o.id),children:a.jsx(ic,{size:16})})]},o.id))})]})},on=()=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512",width:"64",height:"64",children:[a.jsx("circle",{style:{fill:"#0F7986"},cx:"256",cy:"256",r:"256"}),a.jsx("path",{style:{fill:"#FAD24D"},d:`M251.279,361.973c26.036,0,47.142,21.105,47.142,47.142\r
        c0,26.034-21.105,47.142-47.142,47.142c-26.034,0-47.142-21.107-47.142-47.142\r
        C204.138,383.079,225.245,361.973,251.279,361.973z`}),a.jsx("path",{style:{fill:"#EDB937"},d:`M251.279,372.823c20.046,0,36.292,16.249,36.292,36.292\r
        c0,20.046-16.249,36.292-36.292,36.292c-20.046,0-36.292-16.249-36.292-36.292\r
        C214.987,389.069,231.235,372.823,251.279,372.823z`}),a.jsx("path",{style:{fill:"#FFFFFF"},d:`M241.683,396.672c0-3.031,0.62-5.475,1.856-7.334\r
        c1.239-1.858,3.095-3.064,5.571-3.619v-3.331h5.764v3.331\r
        c2.518,0.513,4.407,1.697,5.667,3.555c1.262,1.856,1.889,4.324,1.889,7.397v1.407h-6.661\r
        v-1.858c0-1.621-0.308-2.765-0.928-3.426c-0.62-0.662-1.483-0.992-2.593-0.992\r
        c-1.11,0-1.976,0.33-2.594,0.992c-0.62,0.662-0.928,1.802-0.928,3.426c0,1.537...`})]}),cs=()=>{const{currentUser:t,logout:e}=mi(),{darkMode:n,toggleDarkMode:r}=ta(),[s,i]=P.useState(!1),[o,c]=P.useState(!1),u=kr(),h=()=>{i(!s)},p=()=>{c(!o)},m=()=>{e(),c(!1),i(!1)},y=x=>u.pathname===x;return a.jsxs("nav",{className:"navbar",children:[a.jsxs("div",{className:"navbar-container",children:[a.jsxs(q,{to:"/",className:"navbar-logo",children:[a.jsx(on,{}),a.jsx("span",{children:"Community Funding"})]}),a.jsxs("div",{className:"navbar-menu",children:[a.jsx(q,{to:"/",className:`navbar-item ${y("/")?"active":""}`,children:"Home"}),a.jsx(q,{to:"/campaigns",className:`navbar-item ${y("/campaigns")?"active":""}`,children:"Campaigns"}),a.jsx(q,{to:"/about",className:`navbar-item ${y("/about")?"active":""}`,children:"About Us"}),a.jsx(q,{to:"/contact",className:`navbar-item ${y("/contact")?"active":""}`,children:"Contact"})]}),a.jsxs("div",{className:"navbar-actions",children:[a.jsx("button",{onClick:r,className:"theme-toggle","aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?a.jsx(Sd,{size:20}):a.jsx(xd,{size:20})}),t?a.jsxs("div",{className:"user-menu-container",children:[a.jsx("button",{className:"user-menu-button",onClick:p,"aria-label":"User menu",children:a.jsx("div",{className:"user-avatar",children:t.name.charAt(0).toUpperCase()})}),o&&a.jsxs("div",{className:"user-dropdown",children:[a.jsxs("div",{className:"user-info",children:[a.jsx("span",{className:"user-name",children:t.name}),a.jsx("span",{className:"user-email",children:t.email})]}),a.jsx("div",{className:"dropdown-divider"}),a.jsxs(q,{to:"/dashboard",className:"dropdown-item",onClick:()=>c(!1),children:[a.jsx(Cd,{size:16}),a.jsx("span",{children:"Dashboard"})]}),a.jsxs(q,{to:"/create-campaign",className:"dropdown-item",onClick:()=>c(!1),children:[a.jsx(Id,{size:16}),a.jsx("span",{children:"Create Campaign"})]}),a.jsxs("button",{onClick:m,className:"dropdown-item logout",children:[a.jsx(Ed,{size:16}),a.jsx("span",{children:"Sign Out"})]})]})]}):a.jsxs("div",{className:"navbar-auth",children:[a.jsx(q,{to:"/login",className:"auth-link",children:"Sign In"}),a.jsx(q,{to:"/signup",className:"auth-button signup",children:"Sign Up"})]}),a.jsx("button",{className:"mobile-menu-button",onClick:h,"aria-label":s?"Close menu":"Open menu",children:s?a.jsx(ic,{size:24}):a.jsx(ux,{size:24})})]})]}),a.jsx("div",{className:`mobile-menu ${s?"open":""}`,children:a.jsxs("div",{className:"mobile-menu-container",children:[a.jsxs("div",{className:"mobile-menu-header",children:[a.jsxs(q,{to:"/",className:"navbar-logo",onClick:()=>i(!1),children:[a.jsx(on,{}),a.jsx("span",{children:"Community Funding"})]}),a.jsx("button",{className:"mobile-menu-close",onClick:h,"aria-label":"Close menu",children:a.jsx(ic,{size:24})})]}),a.jsxs("div",{className:"mobile-menu-items",children:[a.jsx(q,{to:"/",className:`mobile-menu-item ${y("/")?"active":""}`,onClick:()=>i(!1),children:"Home"}),a.jsx(q,{to:"/campaigns",className:`mobile-menu-item ${y("/campaigns")?"active":""}`,onClick:()=>i(!1),children:"Campaigns"}),a.jsx(q,{to:"/about",className:`mobile-menu-item ${y("/about")?"active":""}`,onClick:()=>i(!1),children:"About Us"}),a.jsx(q,{to:"/contact",className:`mobile-menu-item ${y("/contact")?"active":""}`,onClick:()=>i(!1),children:"Contact"}),t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mobile-menu-divider"}),a.jsxs(q,{to:"/dashboard",className:"mobile-menu-item",onClick:()=>i(!1),children:[a.jsx(Cd,{size:18}),a.jsx("span",{children:"Dashboard"})]}),a.jsxs(q,{to:"/create-campaign",className:"mobile-menu-item",onClick:()=>i(!1),children:[a.jsx(Id,{size:18}),a.jsx("span",{children:"Create Campaign"})]}),a.jsxs("button",{onClick:m,className:"mobile-menu-item logout",children:[a.jsx(Ed,{size:18}),a.jsx("span",{children:"Sign Out"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mobile-menu-divider"}),a.jsx(q,{to:"/login",className:"mobile-menu-item",onClick:()=>i(!1),children:"Sign In"}),a.jsx(q,{to:"/signup",className:"mobile-menu-button signup",onClick:()=>i(!1),children:"Sign Up"})]}),a.jsx("div",{className:"mobile-menu-divider"}),a.jsx("button",{onClick:r,className:"mobile-menu-item theme",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Sd,{size:18}),a.jsx("span",{children:"Light Mode"})]}):a.jsxs(a.Fragment,{children:[a.jsx(xd,{size:18}),a.jsx("span",{children:"Dark Mode"})]})})]})]})})]})},Se=({children:t,onClick:e,type:n="button",className:r="",disabled:s=!1})=>a.jsx("button",{type:n,onClick:e,className:`custom-button ${r}`,disabled:s,children:t}),px=({campaign:t})=>{const{id:e,title:n,description:r,image:s,raised:i,goal:o,daysLeft:c,category:u,donors:h}=t,p=Nr(),m=i/o*100,y=Math.min(100,m).toFixed(0),x=A=>{A.preventDefault(),p(`/payment-method?campaignId=${e}&title=${encodeURIComponent(n)}`)};return a.jsxs("div",{className:"campaign-card",children:[a.jsxs("div",{className:"campaign-image",children:[a.jsx("img",{src:s||"/placeholder.svg?height=200&width=400",alt:n}),u&&a.jsxs("div",{className:"campaign-category",children:[a.jsx(dx,{size:12}),a.jsx("span",{children:u})]}),a.jsxs("div",{className:"campaign-badge",children:[a.jsx(wp,{size:12}),a.jsx("span",{children:"Featured"})]})]}),a.jsxs("div",{className:"campaign-content",children:[a.jsx("h3",{className:"campaign-title",children:n}),a.jsx("p",{className:"campaign-description",children:r}),a.jsxs("div",{className:"campaign-progress",children:[a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:"progress-fill",style:{width:`${y}%`}})}),a.jsxs("div",{className:"progress-info",children:[a.jsxs("div",{className:"progress-percentage",children:[y,"% Funded"]}),a.jsxs("div",{className:"progress-amount",children:["$",i.toLocaleString()," raised"]})]})]}),a.jsxs("div",{className:"progress-stats",children:[a.jsxs("div",{className:"stat",children:[a.jsx("div",{className:"stat-icon",children:a.jsx(pr,{size:14})}),a.jsxs("div",{className:"stat-info",children:[a.jsxs("span",{className:"stat-value",children:["$",o.toLocaleString()]}),a.jsx("span",{className:"stat-label",children:"Goal"})]})]}),a.jsxs("div",{className:"stat",children:[a.jsx("div",{className:"stat-icon",children:a.jsx(_p,{size:14})}),a.jsxs("div",{className:"stat-info",children:[a.jsx("span",{className:"stat-value",children:c}),a.jsx("span",{className:"stat-label",children:"Days Left"})]})]}),a.jsxs("div",{className:"stat",children:[a.jsx("div",{className:"stat-icon",children:a.jsx(ri,{size:14})}),a.jsxs("div",{className:"stat-info",children:[a.jsx("span",{className:"stat-value",children:h||Math.floor(i/100)}),a.jsx("span",{className:"stat-label",children:"Donors"})]})]})]}),a.jsxs("div",{className:"campaign-actions",children:[a.jsx(q,{to:`/campaign/${e}`,className:"view-details-button",children:"View Details"}),a.jsx(Se,{className:"donate-button",onClick:x,children:"Support This Cause"})]})]})]})},mx=({onSearch:t})=>{const[e,n]=P.useState(""),[r,s]=P.useState("all"),i=o=>{o.preventDefault(),t({query:e,category:r})};return a.jsxs("form",{className:"search-bar",onSubmit:i,children:[a.jsxs("div",{className:"search-input-container",children:[a.jsx(na,{size:20,className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search campaigns...",value:e,onChange:o=>n(o.target.value),className:"search-input"})]}),a.jsxs("select",{value:r,onChange:o=>s(o.target.value),className:"category-select",children:[a.jsx("option",{value:"all",children:"All Categories"}),a.jsx("option",{value:"disaster",children:"Disaster Relief"}),a.jsx("option",{value:"education",children:"Education"}),a.jsx("option",{value:"medical",children:"Medical"}),a.jsx("option",{value:"community",children:"Community"}),a.jsx("option",{value:"environment",children:"Environment"})]}),a.jsx("button",{type:"submit",className:"search-button",children:"Search"})]})},gR=[{id:1,name:"Education",description:"Support educational initiatives and help students achieve their academic goals.",icon:"/icons/education.svg"},{id:2,name:"Healthcare",description:"Contribute to medical research and healthcare access for those in need.",icon:"/icons/healthcare.svg"},{id:3,name:"Environment",description:"Support environmental conservation and sustainable development projects.",icon:"/icons/environment.svg"},{id:4,name:"Technology",description:"Fund innovative tech projects and digital solutions for social impact.",icon:"/icons/technology.svg"}],vR=()=>{const{isDarkMode:t}=ta();return a.jsx("section",{className:`category-section ${t?"dark":""}`,children:a.jsxs("div",{className:"category-container",children:[a.jsx("h2",{className:"category-heading",children:"Explore Categories"}),a.jsx("div",{className:"categories-grid",children:gR.map(e=>a.jsxs("a",{href:`/category/${e.name.toLowerCase()}`,className:"category-card",children:[a.jsx("div",{className:"category-icon",children:a.jsx("img",{src:e.icon,alt:e.name})}),a.jsx("h3",{className:"category-name",children:e.name}),a.jsx("p",{className:"category-description",children:e.description})]},e.id))})]})})},yR=()=>{const[t,e]=P.useState([]),[n,r]=P.useState([]),[s,i]=P.useState(""),{darkMode:o}=ta();P.useEffect(()=>{const u=[{id:1,title:"Help in Disaster in Juba",description:"Your donation is needed for victims of flooding in Juba. Help provide essential supplies.",image:"/images/flood-disaster.png",raised:12500,goal:25e3,daysLeft:15,category:"Emergency"},{id:2,title:"Displaced from Jambo",description:"Help people displaced by conflict in Jambo region with food, shelter and medical aid.",image:"/images/displaced-people.png",raised:8750,goal:15e3,daysLeft:21,category:"Social Impact"},{id:3,title:"Medical Treatment for Sarah",description:"Help fund Sarah's critical surgery and post-operative care. Your support can save a life.",image:"/images/sarah.png",raised:15e3,goal:3e4,daysLeft:10,category:"Medical"},{id:4,title:"School Building Project",description:"Help build a new school for children in rural areas who currently have no access to education.",image:"/images/school-project.png",raised:2e4,goal:5e4,daysLeft:45,category:"Education"}];e(u),r(u)},[]);const c=u=>{if(i(u),!u.trim()){r(t);return}const h=t.filter(p=>p.title.toLowerCase().includes(u.toLowerCase())||p.description.toLowerCase().includes(u.toLowerCase())||p.category&&p.category.toLowerCase().includes(u.toLowerCase()));r(h)};return a.jsxs("div",{className:`home-page ${o?"dark":""}`,children:[a.jsx(cs,{}),a.jsx("section",{className:"hero-section",children:a.jsxs("div",{className:"hero-content",children:[a.jsxs("div",{className:"hero-text",children:[a.jsx("h1",{children:"Raise Funds for Causes That Matter!"}),a.jsx("p",{children:"Join a growing community dedicated to supporting important causes. Your change makes a difference today."}),a.jsxs("div",{className:"hero-actions",children:[a.jsx(q,{to:"/create-campaign",children:a.jsx(Se,{className:"cta-button",children:"Launch Campaign"})}),a.jsx(q,{to:"/campaigns",children:a.jsx(Se,{className:"secondary-button",children:"Explore Campaigns"})})]})]}),a.jsx("div",{className:"hero-image",children:a.jsx("img",{src:"/images/community-funding.png",alt:"Community Funding"})})]})}),a.jsx("section",{className:"features-section",children:a.jsxs("div",{className:"features-container",children:[a.jsxs("div",{className:"feature",children:[a.jsx("div",{className:"feature-icon",children:a.jsx(wp,{size:32})}),a.jsx("h3",{children:"Make an Impact"}),a.jsx("p",{children:"Your contribution directly helps those in need and creates lasting change in communities."})]}),a.jsxs("div",{className:"feature",children:[a.jsx("div",{className:"feature-icon",children:a.jsx(ri,{size:32})}),a.jsx("h3",{children:"Join a Community"}),a.jsx("p",{children:"Connect with like-minded individuals committed to making the world a better place."})]}),a.jsxs("div",{className:"feature",children:[a.jsx("div",{className:"feature-icon",children:a.jsx(_p,{size:32})}),a.jsx("h3",{children:"Quick & Secure"}),a.jsx("p",{children:"Our platform ensures your donations are processed securely and reach their destination quickly."})]})]})}),a.jsx(vR,{}),a.jsx("section",{className:"testimonial-section",children:a.jsx("div",{className:"testimonial-container",children:a.jsxs("div",{className:"testimonial-content",children:[a.jsxs("div",{className:"testimonial-quote",children:[a.jsx("h3",{children:"Thanks to this platform, I funded my medical bills in just two weeks!"}),a.jsxs("div",{className:"social-proof",children:[a.jsx("div",{className:"social-icon facebook"}),a.jsx("div",{className:"social-icon twitter"}),a.jsx("div",{className:"social-icon instagram"})]})]}),a.jsxs("div",{className:"testimonial-image",children:[a.jsx("img",{src:"/images/testimonial.png",alt:"Testimonial"}),a.jsx("div",{className:"testimonial-badge",children:a.jsx("span",{children:"Verified Fundraiser"})})]})]})})}),a.jsxs("section",{className:"campaigns-section",children:[a.jsxs("div",{className:"campaigns-header",children:[a.jsx("h2",{children:"Explore Causes"}),a.jsx(mx,{onSearch:c})]}),n.length===0?a.jsxs("div",{className:"no-results",children:[a.jsxs("p",{children:['No campaigns found matching "',s,'"']}),a.jsx("button",{onClick:()=>c(""),className:"reset-search",children:"View all campaigns"})]}):a.jsx("div",{className:"campaigns-container",children:n.map(u=>a.jsx(px,{campaign:u},u.id))})]}),a.jsxs("section",{className:"faq-section",children:[a.jsx("h2",{children:"Frequently Asked Questions"}),a.jsxs("div",{className:"faq-container",children:[a.jsxs("div",{className:"faq-column",children:[a.jsxs("div",{className:"faq-item",children:[a.jsx("h3",{children:"How do I start a campaign?"}),a.jsx("p",{children:'Simply sign up, click on "Launch Campaign", fill in the details about your cause, add images or videos, set a funding goal, and publish!'})]}),a.jsxs("div",{className:"faq-item",children:[a.jsx("h3",{children:"How does the funding process work?"}),a.jsx("p",{children:"When people donate to your campaign, funds are securely held until the campaign ends. Once completed, the funds are transferred to your account minus a small platform fee."})]}),a.jsxs("div",{className:"faq-item",children:[a.jsx("h3",{children:"What is your fee structure?"}),a.jsx("p",{children:"We charge a 5% platform fee on the funds you raise. Payment processors may charge an additional 2.9% + $0.30 per transaction."})]})]}),a.jsxs("div",{className:"faq-column",children:[a.jsxs("div",{className:"faq-item",children:[a.jsx("h3",{children:"Is there a time limit on campaigns?"}),a.jsx("p",{children:"You can choose to run your campaign for up to 60 days. If you need more time, you can always extend your campaign or create a new one."})]}),a.jsxs("div",{className:"faq-item",children:[a.jsx("h3",{children:"How do donors know their donations are secure?"}),a.jsx("p",{children:"We use industry-standard encryption and security measures to protect all transactions. We also verify campaign creators and provide updates to donors."})]}),a.jsxs("div",{className:"faq-item",children:[a.jsx("h3",{children:"Can I donate anonymously?"}),a.jsx("p",{children:"Yes! During the donation process, you'll have the option to hide your name and donation amount from public view."})]})]})]})]}),a.jsxs("section",{className:"impact-section",children:[a.jsx("h2",{children:"Our Amazing Superheroes Behind the Scenes"}),a.jsx("p",{children:"We are a committed team dedicated to making community funding accessible to everyone."})]}),a.jsx("section",{className:"contact-section",children:a.jsxs("div",{className:"contact-card",children:[a.jsx("h3",{children:"Do you have any questions?"}),a.jsx("p",{children:"Feel free to reach out to us"}),a.jsx(Se,{className:"contact-button",children:"Contact Us"})]})}),a.jsxs("footer",{className:"footer",children:[a.jsxs("div",{className:"footer-content",children:[a.jsx("div",{className:"footer-logo",children:a.jsx(q,{to:"/",children:"Community Funding"})}),a.jsxs("div",{className:"footer-links",children:[a.jsx(q,{to:"/about",children:"About"}),a.jsx(q,{to:"/contact",children:"Contact"}),a.jsx(q,{to:"/campaigns",children:"Campaigns"}),a.jsx(q,{to:"/login",children:"Login"})]})]}),a.jsx("div",{className:"footer-bottom",children:a.jsxs("p",{children:["© ",new Date().getFullYear()," Community Funding. All rights reserved."]})})]})]})},ft=({type:t="text",placeholder:e,value:n,onChange:r,name:s,required:i=!1,className:o=""})=>{const[c,u]=P.useState(!1),h=()=>{u(!c)};return a.jsx("div",{className:`input-container ${o}`,children:t==="password"?a.jsxs("div",{className:"password-input",children:[a.jsx("input",{type:c?"text":"password",placeholder:e,value:n,onChange:r,name:s,required:i,className:"custom-input"}),a.jsx("button",{type:"button",onClick:h,className:"password-toggle",children:c?a.jsx(ZP,{size:20}):a.jsx(zc,{size:20})})]}):a.jsx("input",{type:t,placeholder:e,value:n,onChange:r,name:s,required:i,className:"custom-input"})})},oc=({icon:t,provider:e,onClick:n})=>a.jsxs("button",{className:"social-button",onClick:n,children:[t,a.jsx("span",{children:e})]}),_R=()=>{const[t,e]=P.useState({email:"",password:""}),[n,r]=P.useState(!1),[s,i]=P.useState(""),{login:o,signInWithGoogle:c,signInWithFacebook:u,loading:h}=mi(),{darkMode:p}=ta(),m=Nr(),y=N=>{const{name:S,value:v}=N.target;e(g=>({...g,[S]:v})),i("")},x=async N=>{N.preventDefault(),i("");try{await o(t.email,t.password),m("/")}catch(S){i(S.message)}},A=async N=>{i("");try{N==="Google"?await c():N==="Facebook"&&await u(),m("/")}catch(S){i(S.message)}};return a.jsx("div",{className:`login-page ${p?"dark":""}`,children:a.jsxs("div",{className:"login-container",children:[a.jsxs("div",{className:"login-left",children:[a.jsxs("div",{className:"login-header",children:[a.jsx(q,{to:"/",className:"logo-link",children:a.jsx(on,{})}),a.jsxs("div",{className:"auth-switch",children:[a.jsx("span",{children:"Don't have an account?"}),a.jsx(q,{to:"/signup",className:"auth-link",children:"Sign up!"})]})]}),a.jsxs("div",{className:"login-form-container",children:[a.jsx("h1",{children:"Welcome Back!"}),a.jsx("p",{className:"login-subtitle",children:"Sign in to continue your journey"}),s&&a.jsxs("div",{className:"error-message",children:[a.jsx(ix,{size:16}),a.jsx("span",{children:s})]}),a.jsxs("div",{className:"social-login",children:[a.jsx(oc,{icon:a.jsx("img",{src:"/icons/google.svg",alt:"Google"}),provider:"Google",onClick:()=>A("Google"),disabled:h}),a.jsx(oc,{icon:a.jsx("img",{src:"/icons/facebook.svg",alt:"Facebook"}),provider:"Facebook",onClick:()=>A("Facebook"),disabled:h})]}),a.jsx("div",{className:"divider",children:a.jsx("span",{children:"Or continue with email"})}),a.jsxs("form",{onSubmit:x,className:"login-form",children:[a.jsx(ft,{type:"email",placeholder:"Enter your email",name:"email",value:t.email,onChange:y,required:!0,disabled:h}),a.jsx(ft,{type:"password",placeholder:"Enter your password",name:"password",value:t.password,onChange:y,required:!0,disabled:h}),a.jsxs("div",{className:"form-options",children:[a.jsxs("label",{className:"remember-me",children:[a.jsx("input",{type:"checkbox",checked:n,onChange:()=>r(!n),disabled:h}),a.jsx("span",{children:"Remember me"})]}),a.jsx(q,{to:"/reset-password",className:"forgot-password",children:"Forgot Password?"})]}),a.jsx(Se,{type:"submit",className:"login-button",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(lx,{className:"animate-spin",size:20}),a.jsx("span",{children:"Signing In..."})]}):"Sign In"})]})]})]}),a.jsxs("div",{className:"login-right",children:[a.jsx("div",{className:"login-illustration",children:a.jsx("img",{src:"/images/login-illustration.png",alt:"Secure Login"})}),a.jsxs("div",{className:"login-message",children:[a.jsx("div",{className:"security-badge",children:a.jsx("span",{children:"Secure & Trusted"})}),a.jsx("h2",{children:"Support, Fund, and Grow Together!"}),a.jsx("p",{children:"Create or contribute to community-driven projects and make a difference today."})]})]})]})})},wR=()=>{const[t,e]=P.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[n,r]=P.useState({}),[s,i]=P.useState(""),{signup:o,signInWithGoogle:c,signInWithFacebook:u,loading:h}=mi(),{darkMode:p}=ta(),m=Nr(),y=S=>{const{name:v,value:g}=S.target;e(w=>({...w,[v]:g})),n[v]&&r(w=>({...w,[v]:""})),i("")},x=()=>{const S={};return t.firstName.trim()||(S.firstName="First name is required"),t.lastName.trim()||(S.lastName="Last name is required"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(S.email="Email is invalid"):S.email="Email is required",t.password?t.password.length<6&&(S.password="Password must be at least 6 characters"):S.password="Password is required",t.password!==t.confirmPassword&&(S.confirmPassword="Passwords do not match"),r(S),Object.keys(S).length===0},A=async S=>{if(S.preventDefault(),i(""),x())try{await o(`${t.firstName} ${t.lastName}`,t.email,t.password),m("/")}catch(v){i(v.message)}},N=async S=>{i("");try{S==="Google"?await c():S==="Facebook"&&await u(),m("/")}catch(v){i(v.message)}};return a.jsx("div",{className:`signup-page ${p?"dark":""}`,children:a.jsxs("div",{className:"signup-container",children:[a.jsx("div",{className:"signup-left",children:a.jsxs("div",{className:"community-image",children:[a.jsx("img",{src:"/images/community-funding.png",alt:"Community"}),a.jsxs("div",{className:"overlay-badges",children:[a.jsx("div",{className:"badge trusted",children:a.jsx("span",{children:"Trusted & Secure Platform"})}),a.jsx("div",{className:"badge impact",children:a.jsx("span",{children:"Impacting Lives"})})]})]})}),a.jsxs("div",{className:"signup-right",children:[a.jsxs("div",{className:"signup-header",children:[a.jsx(q,{to:"/",className:"logo-link",children:a.jsx(on,{})}),a.jsxs("div",{className:"auth-switch",children:[a.jsx("span",{children:"Already have an account?"}),a.jsx(q,{to:"/login",className:"auth-link",children:"Sign In"})]})]}),a.jsxs("div",{className:"signup-form-container",children:[a.jsx("h1",{children:"Join Our Community!"}),a.jsx("p",{className:"signup-subtitle",children:"Create an account to start making a difference"}),s&&a.jsxs("div",{className:"error-message",children:[a.jsx(ix,{size:16}),a.jsx("span",{children:s})]}),a.jsxs("div",{className:"social-signup",children:[a.jsx(oc,{icon:a.jsx("img",{src:"/icons/google.svg",alt:"Google"}),provider:"Google",onClick:()=>N("Google"),disabled:h}),a.jsx(oc,{icon:a.jsx("img",{src:"/icons/facebook.svg",alt:"Facebook"}),provider:"Facebook",onClick:()=>N("Facebook"),disabled:h})]}),a.jsx("div",{className:"divider",children:a.jsx("span",{children:"Or sign up with email"})}),a.jsxs("form",{onSubmit:A,className:"signup-form",children:[a.jsxs("div",{className:"name-fields",children:[a.jsx(ft,{type:"text",placeholder:"First Name",name:"firstName",value:t.firstName,onChange:y,required:!0,disabled:h,error:n.firstName}),a.jsx(ft,{type:"text",placeholder:"Last Name",name:"lastName",value:t.lastName,onChange:y,required:!0,disabled:h,error:n.lastName})]}),a.jsx(ft,{type:"email",placeholder:"Enter your email",name:"email",value:t.email,onChange:y,required:!0,disabled:h,error:n.email}),a.jsx(ft,{type:"password",placeholder:"Create a password",name:"password",value:t.password,onChange:y,required:!0,disabled:h,error:n.password}),a.jsx(ft,{type:"password",placeholder:"Confirm your password",name:"confirmPassword",value:t.confirmPassword,onChange:y,required:!0,disabled:h,error:n.confirmPassword}),a.jsx(Se,{type:"submit",className:"signup-button",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(lx,{className:"animate-spin",size:20}),a.jsx("span",{children:"Creating Account..."})]}):"Create Account"}),a.jsxs("p",{className:"terms-agreement",children:["By signing up, you agree to our"," ",a.jsx(q,{to:"/terms",className:"terms-link",children:"Terms of Service"})," ","and"," ",a.jsx(q,{to:"/privacy",className:"terms-link",children:"Privacy Policy"})]})]})]})]})]})})},ER=({formData:t,onSuggestionApply:e})=>{const[n,r]=P.useState(!1),[s,i]=P.useState([{role:"assistant",content:"Hi there! I'm your campaign assistant. I can help you create a more effective campaign. Ask me anything!"}]),[o,c]=P.useState(""),[u,h]=P.useState(!1),[p,m]=P.useState([]),y=P.useRef(null);P.useEffect(()=>{t&&Object.keys(t).length>0&&x(t)},[t]),P.useEffect(()=>{var S;(S=y.current)==null||S.scrollIntoView({behavior:"smooth"})},[s]);const x=S=>{const v=[];S.title&&S.title.length<10&&v.push({type:"title",content:"Your title is quite short. Consider adding more details to grab attention."}),S.description&&S.description.length<100&&v.push({type:"description",content:"Adding more details to your description can help donors understand your cause better."}),S.goal&&Number.parseInt(S.goal)>1e4&&v.push({type:"goal",content:"For larger goals, consider breaking down how the funds will be used to build trust."}),S.category==="Emergency"&&v.push({type:"emergency",content:"For emergency campaigns, adding time-sensitive information can create urgency.",example:"We need to act within the next 48 hours to provide immediate relief."}),S.image||v.push({type:"image",content:"Campaigns with images receive 2x more donations. Add a compelling photo."}),m(v)},A=async S=>{if(S.preventDefault(),!o.trim())return;const v={role:"user",content:o};i(g=>[...g,v]),c(""),h(!0);try{await new Promise(F=>setTimeout(F,1e3));let g="I'm sorry, I don't have enough information to help with that specific question.";const w=o.toLowerCase();w.includes("title")||w.includes("headline")?g="Great titles are clear, specific, and evoke emotion. For example, instead of 'Help My Project', try 'Provide Clean Water to 500 Children in Juba'. This specifies the impact and location.":w.includes("description")||w.includes("write")?g="For your description, structure it in 3 parts: 1) The problem you're solving, 2) Your specific solution, and 3) The impact donors will make. Use short paragraphs and include personal stories when possible.":w.includes("goal")||w.includes("amount")||w.includes("money")?g="Set a realistic funding goal based on your actual needs. Break down how funds will be used to build trust. If your needs are large, consider setting milestone goals.":w.includes("image")||w.includes("photo")||w.includes("picture")?g="Use high-quality, authentic images that show the people or cause you're helping. Avoid stock photos. Images that show faces tend to perform better than objects or landscapes.":(w.includes("example")||w.includes("successful"))&&(g="Successful campaigns typically have: clear goals, compelling stories, regular updates, and personal connection to the cause. They also actively share on social media and engage with their supporters.");const D={role:"assistant",content:g};i(F=>[...F,D])}catch(g){console.error("Error generating response:",g),i(w=>[...w,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{h(!1)}},N=S=>{e&&e(S),i(v=>[...v,{role:"user",content:`I want to improve my ${S.type}.`},{role:"assistant",content:`Great! I've provided a suggestion for your ${S.type}. ${S.content} ${S.example?`

Example: "${S.example}"`:""}`}])};return a.jsx("div",{className:"chatbot-container",children:n?a.jsxs("div",{className:"chatbot-panel",children:[a.jsxs("div",{className:"chatbot-header",children:[a.jsxs("div",{className:"chatbot-title",children:[a.jsx(nR,{size:18}),a.jsx("h3",{children:"Campaign Assistant"})]}),a.jsxs("button",{className:"close-button",onClick:()=>r(!1),children:[a.jsx(ic,{size:18}),a.jsx("span",{className:"sr-only",children:"Close"})]})]}),a.jsxs("div",{className:"chatbot-messages",children:[s.map((S,v)=>a.jsx("div",{className:`message ${S.role==="assistant"?"assistant":"user"}`,children:a.jsx("div",{className:"message-content",children:S.content})},v)),u&&a.jsx("div",{className:"message assistant",children:a.jsxs("div",{className:"message-content loading",children:[a.jsx("span",{children:"."}),a.jsx("span",{children:"."}),a.jsx("span",{children:"."})]})}),a.jsx("div",{ref:y})]}),p.length>0&&a.jsxs("div",{className:"suggestion-container",children:[a.jsx("h4",{children:"Suggestions to improve your campaign:"}),a.jsx("div",{className:"suggestions-list",children:p.map((S,v)=>a.jsxs("div",{className:"suggestion-item",children:[a.jsx("p",{children:S.content}),a.jsx("button",{className:"apply-suggestion",onClick:()=>N(S),children:"Get Details"})]},v))})]}),a.jsxs("form",{className:"chatbot-input",onSubmit:A,children:[a.jsx("input",{type:"text",value:o,onChange:S=>c(S.target.value),placeholder:"Ask for campaign tips...",disabled:u}),a.jsxs("button",{type:"submit",disabled:u||!o.trim(),children:[a.jsx(hx,{size:18}),a.jsx("span",{className:"sr-only",children:"Send"})]})]})]}):a.jsxs("button",{className:"chatbot-toggle",onClick:()=>r(!0),children:[a.jsx(oR,{size:24}),a.jsx("span",{className:"sr-only",children:"Open campaign assistant"})]})})},xR=()=>{const[t,e]=P.useState({title:"",description:"",goal:"",startDate:"",endDate:"",category:"",location:"",image:null,document:null}),[n,r]=P.useState(null),[s,i]=P.useState(!1),o=Nr(),c=["Medical","Education","Emergency","Social Impact"],u=x=>{const{name:A,value:N}=x.target;e(S=>({...S,[A]:N}))},h=x=>{const A=x.target.files[0];if(A){e(S=>({...S,image:A}));const N=new FileReader;N.onloadend=()=>{r(N.result)},N.readAsDataURL(A)}},p=x=>{const A=x.target.files[0];A&&e(N=>({...N,document:A}))},m=async x=>{x.preventDefault(),i(!0);try{await new Promise(A=>setTimeout(A,1500)),o("/success")}catch(A){console.error("Failed to create campaign:",A)}finally{i(!1)}},y=x=>{console.log("Applying suggestion:",x)};return a.jsxs("div",{className:"campaign-creation-page",children:[a.jsxs("div",{className:"campaign-creation-header",children:[a.jsxs("div",{className:"header-left",children:[a.jsx("button",{className:"back-button",onClick:()=>o(-1),children:a.jsx(ox,{size:20})}),a.jsx(on,{}),a.jsx("h1",{children:"Community Funding"})]}),a.jsx("div",{className:"header-right",children:a.jsx("span",{className:"welcome-text",children:"Welcome, User"})})]}),a.jsxs("div",{className:"campaign-creation-container",children:[a.jsxs("div",{className:"form-header",children:[a.jsx("h2",{children:"Create a New Campaign"}),a.jsx("p",{children:"Fill in the details below to create your fundraising campaign"})]}),a.jsxs("form",{onSubmit:m,className:"campaign-form",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-column",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"title",children:[a.jsx("span",{children:"Title"}),a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("div",{className:"input-wrapper",children:[a.jsx(Wr,{size:18,className:"input-icon"}),a.jsx(ft,{id:"title",type:"text",placeholder:"Enter campaign title",name:"title",value:t.title,onChange:u,required:!0})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"category",children:[a.jsx("span",{children:"Category"}),a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("div",{className:"input-wrapper",children:[a.jsx(dx,{size:18,className:"input-icon"}),a.jsxs("select",{id:"category",name:"category",value:t.category,onChange:u,required:!0,className:"custom-select",children:[a.jsx("option",{value:"",disabled:!0,children:"Select a category"}),c.map(x=>a.jsx("option",{value:x,children:x},x))]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"description",children:[a.jsx("span",{children:"Description"}),a.jsx("span",{className:"required",children:"*"})]}),a.jsx("textarea",{id:"description",name:"description",placeholder:"Describe your campaign in detail",value:t.description,onChange:u,required:!0,rows:5,className:"custom-textarea"})]}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"startDate",children:[a.jsx("span",{children:"Start Date"}),a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("div",{className:"input-wrapper",children:[a.jsx(ns,{size:18,className:"input-icon"}),a.jsx(ft,{id:"startDate",type:"date",name:"startDate",value:t.startDate,onChange:u,required:!0})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"endDate",children:[a.jsx("span",{children:"End Date"}),a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("div",{className:"input-wrapper",children:[a.jsx(ns,{size:18,className:"input-icon"}),a.jsx(ft,{id:"endDate",type:"date",name:"endDate",value:t.endDate,onChange:u,required:!0})]})]})]}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"goal",children:[a.jsx("span",{children:"Funding Goal"}),a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("div",{className:"input-wrapper",children:[a.jsx(pr,{size:18,className:"input-icon"}),a.jsx(ft,{id:"goal",type:"number",placeholder:"Enter amount",name:"goal",value:t.goal,onChange:u,required:!0})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"location",children:[a.jsx("span",{children:"Location"}),a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("div",{className:"input-wrapper",children:[a.jsx(cx,{size:18,className:"input-icon"}),a.jsx(ft,{id:"location",type:"text",placeholder:"Enter location",name:"location",value:t.location,onChange:u,required:!0})]})]})]})]}),a.jsxs("div",{className:"form-column",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:[a.jsx("span",{children:"Campaign Image"}),a.jsx("span",{className:"required",children:"*"})]}),a.jsxs("div",{className:"file-upload-container",children:[a.jsxs("label",{htmlFor:"image-upload",className:"file-upload-label",children:[a.jsx(dy,{size:24}),a.jsx("span",{children:"Upload Image"}),a.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:h,className:"file-input",required:!0})]}),a.jsx("div",{className:"image-preview-container",children:n?a.jsx("div",{className:"image-preview",children:a.jsx("img",{src:n||"/placeholder.svg",alt:"Campaign preview"})}):a.jsxs("div",{className:"image-placeholder",children:[a.jsx(Wr,{size:48}),a.jsx("p",{children:"No image selected"}),a.jsx("span",{children:"Recommended size: 1200x630px"})]})})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{children:[a.jsx("span",{children:"Supporting Document"}),a.jsx("span",{className:"optional",children:"(optional)"})]}),a.jsxs("div",{className:"file-upload-container",children:[a.jsxs("label",{htmlFor:"document-upload",className:"file-upload-label",children:[a.jsx(dy,{size:24}),a.jsx("span",{children:"Upload Document"}),a.jsx("input",{id:"document-upload",type:"file",accept:".pdf,.doc,.docx",onChange:p,className:"file-input"})]}),t.document&&a.jsxs("div",{className:"document-info",children:[a.jsx(Wr,{size:20}),a.jsx("span",{children:t.document.name})]})]})]}),a.jsxs("div",{className:"campaign-tips",children:[a.jsx("h3",{children:"Tips for a Successful Campaign"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Be clear and specific about your funding goals"}),a.jsx("li",{children:"Add high-quality images to attract more donors"}),a.jsx("li",{children:"Share your campaign on social media"}),a.jsx("li",{children:"Keep your supporters updated on progress"})]})]})]})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx(Se,{type:"button",className:"cancel-button",onClick:()=>o(-1),children:"Cancel"}),a.jsx(Se,{type:"submit",className:"submit-button",disabled:s,children:s?"Creating Campaign...":"Create Campaign"})]})]})]}),a.jsx(ER,{formData:t,onSuggestionApply:y})]})},TR=()=>a.jsxs("div",{className:"success-page",children:[a.jsxs("div",{className:"success-header",children:[a.jsx(on,{}),a.jsx("h1",{children:"Community Funding System"})]}),a.jsx("div",{className:"success-container",children:a.jsxs("div",{className:"success-content",children:[a.jsx("h2",{children:"Created Successfully"}),a.jsx(q,{to:"/campaign/1",children:a.jsx(Se,{className:"view-button",children:"view"})})]})})]}),IR=()=>{const[t,e]=P.useState(null),[n,r]=P.useState("500"),[s,i]=P.useState("birr"),[o,c]=P.useState(!1),u=Nr(),h=x=>{e(x)},p=x=>{r(x.target.value)},m=x=>{i(x.target.value)},y=async x=>{if(x.preventDefault(),!t){alert("Please select a payment method");return}c(!0);try{await new Promise(A=>setTimeout(A,1500)),u("/payment-success")}catch(A){console.error("Payment failed:",A)}finally{c(!1)}};return a.jsxs("div",{className:"payment-method-page",children:[a.jsxs("div",{className:"payment-header",children:[a.jsx("button",{className:"back-button",onClick:()=>u(-1),children:a.jsx(ox,{size:24})}),a.jsxs("div",{className:"payment-title",children:[a.jsx(on,{}),a.jsx("h1",{children:"Community Funding System"})]})]}),a.jsxs("div",{className:"payment-container",children:[a.jsx("h2",{children:"Select your payment method"}),a.jsxs("div",{className:"payment-methods",children:[a.jsx("div",{className:`payment-method ${t==="telebirr"?"selected":""}`,onClick:()=>h("telebirr"),children:a.jsx("img",{src:"/images/telebirr-logo.png",alt:"Telebirr"})}),a.jsx("div",{className:`payment-method ${t==="paypal"?"selected":""}`,onClick:()=>h("paypal"),children:a.jsx("img",{src:"/images/paypal-logo.png",alt:"PayPal"})})]}),a.jsxs("div",{className:"amount-container",children:[a.jsx("label",{children:"Amount"}),a.jsxs("div",{className:"amount-input-group",children:[a.jsx("input",{type:"text",value:n,onChange:p,className:"amount-input"}),a.jsxs("select",{value:s,onChange:m,className:"currency-select",children:[a.jsx("option",{value:"birr",children:"birr"}),a.jsx("option",{value:"usd",children:"USD"}),a.jsx("option",{value:"eur",children:"EUR"})]})]})]}),a.jsx(Se,{onClick:y,className:"continue-button",disabled:o||!t,children:o?"Processing...":"Continue"})]})]})},SR=()=>a.jsxs("div",{className:"payment-success-page",children:[a.jsxs("div",{className:"success-header",children:[a.jsx(on,{}),a.jsx("h1",{children:"Community Funding System"})]}),a.jsxs("div",{className:"success-container",children:[a.jsx("h2",{children:"Your Payment is Successful!"}),a.jsxs("div",{className:"thank-you-container",children:[a.jsx("div",{className:"thank-you-text",children:a.jsx("h3",{children:"Thank You"})}),a.jsx("div",{className:"thank-you-image",children:a.jsx("img",{src:"/images/thank-you.png",alt:"Thank you"})})]}),a.jsx(q,{to:"/receipt",children:a.jsx(Se,{className:"receipt-button",children:"view receipt"})})]})]}),CR=()=>{const[t,e]=P.useState({newPassword:"",confirmPassword:""}),[n,r]=P.useState({}),[s,i]=P.useState(!1),o=Nr(),c=p=>{const{name:m,value:y}=p.target;e(x=>({...x,[m]:y})),n[m]&&r(x=>({...x,[m]:""}))},u=()=>{const p={};return t.newPassword?t.newPassword.length<6&&(p.newPassword="Password must be at least 6 characters"):p.newPassword="New password is required",t.newPassword!==t.confirmPassword&&(p.confirmPassword="Passwords do not match"),r(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),u()){i(!0);try{await new Promise(m=>setTimeout(m,1500)),o("/reset-success")}catch(m){console.error("Password reset failed:",m)}finally{i(!1)}}};return a.jsxs("div",{className:"reset-password-page",children:[a.jsx("h1",{children:"Reset Your Password"}),a.jsx("div",{className:"reset-container",children:a.jsxs("form",{onSubmit:h,className:"reset-form",children:[a.jsx(ft,{type:"password",placeholder:"new password",name:"newPassword",value:t.newPassword,onChange:c,required:!0}),n.newPassword&&a.jsx("span",{className:"error-message",children:n.newPassword}),a.jsx(ft,{type:"password",placeholder:"confirm password",name:"confirmPassword",value:t.confirmPassword,onChange:c,required:!0}),n.confirmPassword&&a.jsx("span",{className:"error-message",children:n.confirmPassword}),a.jsx(Se,{type:"submit",className:"reset-button",disabled:s,children:s?"Resetting...":"Reset Password"})]})})]})},kR=()=>a.jsxs("div",{className:"reset-success-page",children:[a.jsx("div",{className:"success-header",children:a.jsx(on,{})}),a.jsxs("div",{className:"success-container",children:[a.jsx("div",{className:"success-icon",children:a.jsx(yp,{size:48,color:"#22c55e"})}),a.jsx("h2",{children:"Password Reseted Successfully!"}),a.jsx(q,{to:"/login",children:a.jsx(Se,{className:"login-button",children:"Go to Login"})})]})]}),NR=()=>{const{id:t}=XI(),[e,n]=P.useState(null),[r,s]=P.useState(!0),[i,o]=P.useState(50);if(P.useEffect(()=>{(async()=>{try{setTimeout(()=>{n({id:t,title:"Help in Disaster in Juba",description:"Your donation is needed for victims of flooding in Juba. The recent floods have displaced thousands of families who now need shelter, food, and medical supplies.",longDescription:"The flooding in Juba has caused widespread devastation, destroying homes, schools, and critical infrastructure. Over 5,000 families have been displaced and are currently living in temporary shelters. Your donation will help provide emergency relief including clean water, food, medical supplies, and temporary shelter. We're working with local organizations to ensure aid reaches those most in need as quickly as possible.",image:"/images/flood-disaster.jpg",raised:12500,goal:25e3,daysLeft:15,backers:230,updates:[{date:"2025-03-15",content:"First shipment of supplies has reached affected areas"},{date:"2025-03-10",content:"Emergency response team deployed to assess needs"}],organizer:{name:"Relief International",image:"/images/organizer.jpg",verified:!0}}),s(!1)},1e3)}catch(h){console.error("Error fetching campaign:",h),s(!1)}})()},[t]),r)return a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("p",{children:"Loading campaign details..."})]});if(!e)return a.jsxs("div",{className:"error-container",children:[a.jsx("h2",{children:"Campaign not found"}),a.jsx("p",{children:"The campaign you're looking for doesn't exist or has been removed."}),a.jsx(q,{to:"/campaigns",children:a.jsx(Se,{children:"Browse Campaigns"})})]});const c=e.raised/e.goal*100;return a.jsxs("div",{className:"campaign-details-page",children:[a.jsx(cs,{}),a.jsxs("div",{className:"campaign-details-container",children:[a.jsxs("div",{className:"campaign-header",children:[a.jsx("h1",{children:e.title}),a.jsxs("div",{className:"campaign-actions",children:[a.jsxs("button",{className:"action-button",children:[a.jsx(wp,{size:20}),a.jsx("span",{children:"Save"})]}),a.jsxs("button",{className:"action-button",children:[a.jsx(cR,{size:20}),a.jsx("span",{children:"Share"})]})]})]}),a.jsxs("div",{className:"campaign-content",children:[a.jsxs("div",{className:"campaign-main",children:[a.jsx("div",{className:"campaign-image-large",children:a.jsx("img",{src:e.image||"/placeholder.svg",alt:e.title})}),a.jsxs("div",{className:"campaign-organizer",children:[a.jsxs("div",{className:"organizer-info",children:[a.jsx("img",{src:e.organizer.image||"/placeholder.svg",alt:e.organizer.name}),a.jsxs("div",{children:[a.jsx("p",{children:"Organized by"}),a.jsx("h3",{children:e.organizer.name})]})]}),e.organizer.verified&&a.jsx("div",{className:"verified-badge",children:a.jsx("span",{children:"Verified Organizer"})})]}),a.jsxs("div",{className:"campaign-description",children:[a.jsx("h2",{children:"About this campaign"}),a.jsx("p",{children:e.longDescription})]}),a.jsxs("div",{className:"campaign-updates",children:[a.jsx("h2",{children:"Updates"}),e.updates.map((u,h)=>a.jsxs("div",{className:"update-item",children:[a.jsx("div",{className:"update-date",children:new Date(u.date).toLocaleDateString()}),a.jsx("div",{className:"update-content",children:u.content})]},h))]})]}),a.jsxs("div",{className:"campaign-sidebar",children:[a.jsxs("div",{className:"donation-card",children:[a.jsxs("div",{className:"progress-container",children:[a.jsxs("div",{className:"progress-stats",children:[a.jsxs("div",{className:"raised-amount",children:["$",e.raised.toLocaleString()]}),a.jsxs("div",{className:"goal-text",children:["raised of $",e.goal.toLocaleString()," goal"]})]}),a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:"progress-fill",style:{width:`${c}%`}})}),a.jsxs("div",{className:"campaign-metrics",children:[a.jsxs("div",{className:"metric",children:[a.jsx(ri,{size:18}),a.jsxs("span",{children:[e.backers," donors"]})]}),a.jsxs("div",{className:"metric",children:[a.jsx(ns,{size:18}),a.jsxs("span",{children:[e.daysLeft," days left"]})]})]})]}),a.jsxs("div",{className:"donation-amount",children:[a.jsx("h3",{children:"Select donation amount"}),a.jsxs("div",{className:"amount-options",children:[[20,50,100,250,500].map(u=>a.jsxs("button",{className:`amount-option ${i===u?"selected":""}`,onClick:()=>o(u),children:["$",u]},u)),a.jsx("input",{type:"number",className:"custom-amount",placeholder:"Custom amount",onChange:u=>o(Number(u.target.value))})]})]}),a.jsx(q,{to:"/payment-method",className:"donate-link",children:a.jsxs(Se,{className:"donate-button",children:[a.jsx(pr,{size:18}),a.jsx("span",{children:"Donate Now"})]})}),a.jsxs("div",{className:"donation-footer",children:[a.jsx("p",{children:"Your donation is tax-deductible"}),a.jsx("p",{children:"Secure payment processing"})]})]}),a.jsxs("div",{className:"share-card",children:[a.jsx("h3",{children:"Spread the word"}),a.jsxs("div",{className:"share-buttons",children:[a.jsx("button",{className:"share-button facebook",children:"Facebook"}),a.jsx("button",{className:"share-button twitter",children:"Twitter"}),a.jsx("button",{className:"share-button email",children:"Email"})]})]})]})]})]})]})},AR=()=>{const[t,e]=P.useState([]),[n,r]=P.useState([]),[s,i]=P.useState(""),[o,c]=P.useState("all"),[u,h]=P.useState(!1),p=[{id:"all",name:"All Campaigns"},{id:"medical",name:"Medical"},{id:"social-impact",name:"Social Impact"},{id:"emergency",name:"Emergency"},{id:"education",name:"Education"}];P.useEffect(()=>{const N=[{id:1,title:"Help in Disaster in Juba",description:"Your donation is needed for victims of flooding in Juba. Help provide essential supplies.",image:"/images/flood-disaster.png",raised:12500,goal:25e3,daysLeft:15,category:"Emergency"},{id:2,title:"Displaced from Jambo",description:"Help people displaced by conflict in Jambo region with food, shelter and medical aid.",image:"/images/displaced-people.png",raised:8750,goal:15e3,daysLeft:21,category:"Social Impact"},{id:3,title:"Medical Treatment for Sarah",description:"Help fund Sarah's critical surgery and post-operative care. Your support can save a life.",image:"/images/medical-treatment.png",raised:15e3,goal:3e4,daysLeft:10,category:"Medical"},{id:4,title:"School Building Project",description:"Help build a new school for children in rural areas who currently have no access to education.",image:"/images/school-project.png",raised:2e4,goal:5e4,daysLeft:45,category:"Education"}];e(N),r(N)},[]);const m=N=>{i(N),x(N,o)},y=N=>{c(N),x(s,N)},x=(N,S)=>{let v=t;N.trim()&&(v=v.filter(g=>g.title.toLowerCase().includes(N.toLowerCase())||g.description.toLowerCase().includes(N.toLowerCase()))),S!=="all"&&(v=v.filter(g=>g.category.toLowerCase()===S.toLowerCase())),r(v)},A=()=>{h(!u)};return a.jsxs("div",{className:"campaigns-page",children:[a.jsx(cs,{}),a.jsxs("div",{className:"campaigns-page-container",children:[a.jsxs("div",{className:"campaigns-page-header",children:[a.jsx("h1",{children:"All Campaigns"}),a.jsx("p",{children:"Browse and support causes that matter to you"})]}),a.jsxs("div",{className:"campaigns-search-filter",children:[a.jsx(mx,{onSearch:m}),a.jsxs("button",{className:"filter-toggle",onClick:A,children:[a.jsx($c,{size:20}),a.jsx("span",{children:"Filter"})]})]}),a.jsx("div",{className:`filter-container ${u?"open":""}`,children:a.jsx("div",{className:"category-filters",children:p.map(N=>a.jsx("button",{className:`category-filter ${o===N.id?"active":""}`,onClick:()=>y(N.id),children:N.name},N.id))})}),n.length===0?a.jsxs("div",{className:"no-campaigns",children:[a.jsx("h3",{children:"No campaigns found"}),a.jsx("p",{children:"Try adjusting your search or filter criteria"}),a.jsx("button",{className:"reset-filters",onClick:()=>{i(""),c("all"),r(t)},children:"Reset Filters"})]}):a.jsx("div",{className:"campaigns-grid",children:n.map(N=>a.jsx(px,{campaign:N},N.id))})]})]})},jR=()=>{const{currentUser:t}=mi(),[e,n]=P.useState("campaigns"),[r,s]=P.useState([]),[i,o]=P.useState([]),[c,u]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{setTimeout(()=>{s([{id:1,title:"Help in Disaster in Juba",image:"/images/flood-disaster.jpg",raised:12500,goal:25e3,daysLeft:15,status:"active"},{id:2,title:"School Building Project",image:"/images/school-project.jpg",raised:8e3,goal:2e4,daysLeft:30,status:"active"}]),o([{id:1,campaignTitle:"Displaced from Jambo",amount:100,date:"2025-03-15",receipt:"DON-12345"},{id:2,campaignTitle:"Clean Water Initiative",amount:50,date:"2025-03-01",receipt:"DON-12346"}]),u(!1)},1e3)}catch(p){console.error("Error fetching user data:",p),u(!1)}})()},[]),c?a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("p",{children:"Loading dashboard..."})]}):a.jsxs("div",{className:"dashboard-page",children:[a.jsx(cs,{}),a.jsxs("div",{className:"dashboard-container",children:[a.jsxs("div",{className:"dashboard-header",children:[a.jsx("h1",{children:"My Dashboard"}),a.jsx(q,{to:"/create-campaign",children:a.jsxs(Se,{className:"create-campaign-button",children:[a.jsx(lR,{size:18}),a.jsx("span",{children:"Create Campaign"})]})})]}),a.jsxs("div",{className:"dashboard-tabs",children:[a.jsx("button",{className:`tab ${e==="campaigns"?"active":""}`,onClick:()=>n("campaigns"),children:"My Campaigns"}),a.jsx("button",{className:`tab ${e==="donations"?"active":""}`,onClick:()=>n("donations"),children:"My Donations"}),a.jsx("button",{className:`tab ${e==="profile"?"active":""}`,onClick:()=>n("profile"),children:"Profile Settings"})]}),a.jsxs("div",{className:"dashboard-content",children:[e==="campaigns"&&a.jsx("div",{className:"campaigns-tab",children:r.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx("h3",{children:"You haven't created any campaigns yet"}),a.jsx("p",{children:"Start making a difference by creating your first campaign"}),a.jsx(q,{to:"/create-campaign",children:a.jsx(Se,{children:"Create Campaign"})})]}):a.jsx("div",{className:"campaigns-list",children:r.map(h=>a.jsxs("div",{className:"campaign-card-dashboard",children:[a.jsxs("div",{className:"campaign-image-small",children:[a.jsx("img",{src:h.image||"/placeholder.svg",alt:h.title}),a.jsx("div",{className:`status-badge ${h.status}`,children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})]}),a.jsxs("div",{className:"campaign-info",children:[a.jsx("h3",{children:h.title}),a.jsxs("div",{className:"campaign-stats",children:[a.jsxs("div",{className:"stat",children:[a.jsx(pr,{size:16}),a.jsxs("span",{children:["$",h.raised.toLocaleString()," raised of $",h.goal.toLocaleString()]})]}),a.jsxs("div",{className:"stat",children:[a.jsx(_p,{size:16}),a.jsxs("span",{children:[h.daysLeft," days left"]})]})]}),a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:"progress-fill",style:{width:`${h.raised/h.goal*100}%`}})})]}),a.jsxs("div",{className:"campaign-actions",children:[a.jsx(q,{to:`/campaign/${h.id}`,className:"view-button",children:"View"}),a.jsx("button",{className:"edit-button",children:a.jsx(uR,{size:16})}),a.jsx("button",{className:"delete-button",children:a.jsx(hR,{size:16})})]})]},h.id))})}),e==="donations"&&a.jsx("div",{className:"donations-tab",children:i.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx("h3",{children:"You haven't made any donations yet"}),a.jsx("p",{children:"Support a cause you care about"}),a.jsx(q,{to:"/campaigns",children:a.jsx(Se,{children:"Browse Campaigns"})})]}):a.jsx("div",{className:"donations-list",children:a.jsxs("table",{className:"donations-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Campaign"}),a.jsx("th",{children:"Amount"}),a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Receipt"})]})}),a.jsx("tbody",{children:i.map(h=>a.jsxs("tr",{children:[a.jsx("td",{children:h.campaignTitle}),a.jsxs("td",{children:["$",h.amount]}),a.jsx("td",{children:new Date(h.date).toLocaleDateString()}),a.jsx("td",{children:a.jsx("button",{className:"receipt-button",children:"View Receipt"})})]},h.id))})]})})}),e==="profile"&&a.jsxs("div",{className:"profile-tab",children:[a.jsxs("div",{className:"profile-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Full Name"}),a.jsx("input",{type:"text",defaultValue:(t==null?void 0:t.name)||""})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Email"}),a.jsx("input",{type:"email",defaultValue:(t==null?void 0:t.email)||""})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Phone Number"}),a.jsx("input",{type:"tel",placeholder:"Enter your phone number"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Bio"}),a.jsx("textarea",{placeholder:"Tell us about yourself"})]}),a.jsx("div",{className:"form-actions",children:a.jsx(Se,{className:"save-button",children:"Save Changes"})})]}),a.jsxs("div",{className:"password-section",children:[a.jsx("h3",{children:"Change Password"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Current Password"}),a.jsx("input",{type:"password"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"New Password"}),a.jsx("input",{type:"password"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Confirm New Password"}),a.jsx("input",{type:"password"})]}),a.jsx("div",{className:"form-actions",children:a.jsx(Se,{className:"password-button",children:"Update Password"})})]})]})]})]})]})},PR=()=>a.jsxs("div",{className:"about-page",children:[a.jsx(cs,{}),a.jsxs("div",{className:"about-container",children:[a.jsxs("div",{className:"about-header",children:[a.jsx("h1",{children:"About Community Funding"}),a.jsx("p",{children:"Empowering communities through collective support"})]}),a.jsxs("div",{className:"about-content",children:[a.jsxs("div",{className:"about-section",children:[a.jsx("h2",{children:"Our Mission"}),a.jsx("p",{children:"At Community Funding, our mission is to create a platform where individuals and organizations can easily raise funds for causes that matter. We believe in the power of community and collective action to create positive change in the world."})]}),a.jsxs("div",{className:"about-section",children:[a.jsx("h2",{children:"Our Story"}),a.jsx("p",{children:"Community Funding was founded in 2023 with a simple idea: make fundraising accessible to everyone. What started as a small project has grown into a platform that has helped thousands of people raise funds for various causes, from disaster relief to education and healthcare."})]}),a.jsxs("div",{className:"about-section",children:[a.jsx("h2",{children:"Our Values"}),a.jsxs("div",{className:"values-grid",children:[a.jsxs("div",{className:"value-card",children:[a.jsx("h3",{children:"Transparency"}),a.jsx("p",{children:"We believe in complete transparency in all our operations and fundraising campaigns."})]}),a.jsxs("div",{className:"value-card",children:[a.jsx("h3",{children:"Inclusivity"}),a.jsx("p",{children:"We strive to create a platform that is accessible and inclusive to all individuals and communities."})]}),a.jsxs("div",{className:"value-card",children:[a.jsx("h3",{children:"Impact"}),a.jsx("p",{children:"We are committed to maximizing the impact of every donation and campaign on our platform."})]}),a.jsxs("div",{className:"value-card",children:[a.jsx("h3",{children:"Community"}),a.jsx("p",{children:"We foster a sense of community and collective action among our users and partners."})]})]})]}),a.jsxs("div",{className:"about-section",children:[a.jsx("h2",{children:"Our Team"}),a.jsxs("div",{className:"team-grid",children:[a.jsxs("div",{className:"team-member",children:[a.jsx("div",{className:"member-image",children:a.jsx("img",{src:"/images/kal.png",alt:"Team Member"})}),a.jsx("h3",{children:"Kalab Zewdie"}),a.jsx("p",{children:"Founder & CEO"})]}),a.jsxs("div",{className:"team-member",children:[a.jsx("div",{className:"member-image",children:a.jsx("img",{src:"/images/gavi.png",alt:"Team Member"})}),a.jsx("h3",{children:"Gebre Wagnew"}),a.jsx("p",{children:"CTO"})]}),a.jsxs("div",{className:"team-member",children:[a.jsx("div",{className:"member-image",children:a.jsx("img",{src:"/images/team-member-3.jpg",alt:"Team Member"})}),a.jsx("h3",{children:"Michael Johnson"}),a.jsx("p",{children:"Head of Operations"})]})]})]})]})]})]}),RR=()=>{const[t,e]=P.useState({name:"",email:"",subject:"",message:""}),n=s=>{const{name:i,value:o}=s.target;e(c=>({...c,[i]:o}))},r=s=>{s.preventDefault(),console.log("Form submitted:",t),alert("Thank you for your message! We will get back to you soon."),e({name:"",email:"",subject:"",message:""})};return a.jsxs("div",{className:"contact-page",children:[a.jsx(cs,{}),a.jsxs("div",{className:"contact-container",children:[a.jsxs("div",{className:"contact-header",children:[a.jsx("h1",{children:"Contact Us"}),a.jsx("p",{children:"We'd love to hear from you. Get in touch with us!"})]}),a.jsxs("div",{className:"contact-content",children:[a.jsxs("div",{className:"contact-info",children:[a.jsxs("div",{className:"info-card",children:[a.jsx("div",{className:"info-icon",children:a.jsx(iR,{size:24})}),a.jsx("h3",{children:"Email Us"}),a.jsx("p",{children:"info@communityfunding.com"}),a.jsx("p",{children:"support@communityfunding.com"})]}),a.jsxs("div",{className:"info-card",children:[a.jsx("div",{className:"info-icon",children:a.jsx(aR,{size:24})}),a.jsx("h3",{children:"Call Us"}),a.jsx("p",{children:"+251 914080045"}),a.jsx("p",{children:"+251 714080045"})]}),a.jsxs("div",{className:"info-card",children:[a.jsx("div",{className:"info-icon",children:a.jsx(cx,{size:24})}),a.jsx("h3",{children:"Visit Us"}),a.jsx("p",{children:" ASTU Street"}),a.jsx("p",{children:"Funding City, FC 12345"})]})]}),a.jsxs("div",{className:"contact-form-container",children:[a.jsx("h2",{children:"Send us a message"}),a.jsxs("form",{className:"contact-form",onSubmit:r,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"name",children:"Your Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Your Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"subject",children:"Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:n,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"message",children:"Message"}),a.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,required:!0})]}),a.jsxs(Se,{type:"submit",className:"submit-button",children:[a.jsx(hx,{size:18}),a.jsx("span",{children:"Send Message"})]})]})]})]})]})]})},bR=()=>a.jsxs("div",{className:"not-found-page",children:[a.jsx(cs,{}),a.jsxs("div",{className:"not-found-container",children:[a.jsx("h1",{children:"404"}),a.jsx("h2",{children:"Page Not Found"}),a.jsx("p",{children:"The page you are looking for doesn't exist or has been moved."}),a.jsx(q,{to:"/",children:a.jsx(Se,{children:"Back to Home"})})]})]}),DR=({collapsed:t,toggleCollapse:e})=>{const n=kr(),r=s=>n.pathname===s;return a.jsxs("aside",{className:`admin-sidebar ${t?"collapsed":""}`,children:[a.jsxs("div",{className:"sidebar-header",children:[a.jsxs("div",{className:"sidebar-logo",children:[a.jsx(on,{}),!t&&a.jsx("span",{children:"Admin Panel"})]}),a.jsx("button",{className:"collapse-button",onClick:e,children:t?a.jsx(XP,{size:20}):a.jsx(YP,{size:20})})]}),a.jsx("nav",{className:"sidebar-nav",children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs(q,{to:"/admin",className:r("/admin")?"active":"",children:[a.jsx(tR,{size:20}),!t&&a.jsx("span",{children:"Dashboard"})]})}),a.jsx("li",{children:a.jsxs(q,{to:"/admin/campaigns",className:r("/admin/campaigns")?"active":"",children:[a.jsx(eR,{size:20}),!t&&a.jsx("span",{children:"Campaigns"})]})}),a.jsx("li",{children:a.jsxs(q,{to:"/admin/users",className:r("/admin/users")?"active":"",children:[a.jsx(ri,{size:20}),!t&&a.jsx("span",{children:"Users"})]})}),a.jsx("li",{children:a.jsxs(q,{to:"/admin/withdrawals",className:r("/admin/withdrawals")?"active":"",children:[a.jsx(pr,{size:20}),!t&&a.jsx("span",{children:"Withdrawals"})]})}),a.jsx("li",{children:a.jsxs(q,{to:"/admin/reports",className:r("/admin/reports")?"active":"",children:[a.jsx(Wr,{size:20}),!t&&a.jsx("span",{children:"Reports"})]})})]})}),a.jsx("div",{className:"sidebar-footer",children:a.jsxs("ul",{children:[a.jsx("li",{children:a.jsxs(q,{to:"/admin/settings",children:[a.jsx(Id,{size:20}),!t&&a.jsx("span",{children:"Settings"})]})}),a.jsx("li",{children:a.jsxs(q,{to:"/admin/notifications",children:[a.jsx(ax,{size:20}),!t&&a.jsx("span",{children:"Notifications"}),a.jsx("span",{className:"notification-badge",children:"5"})]})}),a.jsx("li",{children:a.jsxs(q,{to:"/",children:[a.jsx(Ed,{size:20}),!t&&a.jsx("span",{children:"Exit Admin"})]})})]})})]})},OR=({toggleSidebar:t})=>{const[e,n]=P.useState(!1),r=()=>{n(!e)};return a.jsxs("header",{className:"admin-header",children:[a.jsxs("div",{className:"header-left",children:[a.jsx("button",{className:"menu-toggle",onClick:t,children:a.jsx(ux,{size:20})}),a.jsxs("div",{className:"search-bar",children:[a.jsx(na,{size:18}),a.jsx("input",{type:"text",placeholder:"Search..."})]})]}),a.jsxs("div",{className:"header-right",children:[a.jsx("button",{className:"theme-toggle",onClick:r,children:e?a.jsx(Sd,{size:20}):a.jsx(xd,{size:20})}),a.jsx("div",{className:"notifications",children:a.jsxs("button",{className:"notification-button",children:[a.jsx(ax,{size:20}),a.jsx("span",{className:"notification-indicator"})]})}),a.jsxs("div",{className:"admin-profile",children:[a.jsx("div",{className:"profile-image",children:a.jsx(Cd,{size:20})}),a.jsxs("div",{className:"profile-info",children:[a.jsx("span",{className:"admin-name",children:"Admin User"}),a.jsx("span",{className:"admin-role",children:"Super Admin"})]})]})]})]})},ra=({children:t})=>{const[e,n]=P.useState(!1);kr();const r=()=>{n(!e)};return a.jsxs("div",{className:`admin-layout ${e?"sidebar-collapsed":""}`,children:[a.jsx(DR,{collapsed:e}),a.jsxs("div",{className:"admin-content",children:[a.jsx(OR,{toggleSidebar:r}),a.jsx("main",{className:"admin-main",children:t}),a.jsx("footer",{className:"admin-footer",children:a.jsxs("p",{children:["© ",new Date().getFullYear()," Community Funding Admin Panel"]})})]})]})},qa=({title:t,value:e,icon:n,change:r,positive:s})=>a.jsxs("div",{className:"admin-stat-card",children:[a.jsx("div",{className:"stat-icon",children:n}),a.jsxs("div",{className:"stat-content",children:[a.jsx("h3",{className:"stat-title",children:t}),a.jsx("p",{className:"stat-value",children:e}),r&&a.jsxs("div",{className:`stat-change ${s?"positive":"negative"}`,children:[s?a.jsx(QP,{size:14}):a.jsx(KP,{size:14}),a.jsx("span",{children:r})]})]})]}),LR=()=>{console.log("AdminDashboard component rendering");const[t,e]=P.useState({totalDonations:0,totalUsers:0,activeCampaigns:0,pendingWithdrawals:0}),[n,r]=P.useState([]),[s,i]=P.useState(!0);P.useEffect(()=>{(async()=>{try{console.log("Fetching admin dashboard data"),await new Promise(u=>setTimeout(u,800)),e({totalDonations:125750,totalUsers:1243,activeCampaigns:48,pendingWithdrawals:12}),r([{id:1,type:"donation",user:"John Doe",amount:500,campaign:"Help in Disaster in Juba",time:"10 minutes ago"},{id:2,type:"withdrawal",user:"Sarah Smith",amount:1200,campaign:"Displaced from Jambo",time:"25 minutes ago"},{id:3,type:"new_campaign",user:"Michael Brown",campaign:"Education for Children",time:"1 hour ago"},{id:4,type:"new_user",user:"Emma Wilson",time:"2 hours ago"},{id:5,type:"flagged",user:"Anonymous",campaign:"Suspicious Campaign",time:"3 hours ago"}]),i(!1),console.log("Admin dashboard data loaded")}catch(u){console.error("Error fetching dashboard data:",u),i(!1)}})()},[]);const o=c=>{switch(c){case"donation":return a.jsx(pr,{size:16,className:"activity-icon donation"});case"withdrawal":return a.jsx(pr,{size:16,className:"activity-icon withdrawal"});case"new_campaign":return a.jsx(ns,{size:16,className:"activity-icon campaign"});case"new_user":return a.jsx(ri,{size:16,className:"activity-icon user"});case"flagged":return a.jsx(_d,{size:16,className:"activity-icon flagged"});default:return null}};return a.jsx(ra,{children:a.jsxs("div",{className:"admin-dashboard",children:[a.jsx("h1",{children:"Dashboard Overview"}),a.jsxs("div",{className:"stats-grid",children:[a.jsx(qa,{title:"Total Donations",value:`$${t.totalDonations.toLocaleString()}`,icon:a.jsx(pr,{size:24}),change:"+12.5%",positive:!0}),a.jsx(qa,{title:"Total Users",value:t.totalUsers.toLocaleString(),icon:a.jsx(ri,{size:24}),change:"+5.2%",positive:!0}),a.jsx(qa,{title:"Active Campaigns",value:t.activeCampaigns.toString(),icon:a.jsx(ns,{size:24}),change:"+3.1%",positive:!0}),a.jsx(qa,{title:"Pending Withdrawals",value:t.pendingWithdrawals.toString(),icon:a.jsx(_d,{size:24}),change:"+2",positive:!1})]}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsxs("div",{className:"dashboard-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("h2",{children:"Donation Overview"}),a.jsxs("select",{className:"time-select",children:[a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"}),a.jsx("option",{value:"year",children:"This Year"})]})]}),a.jsxs("div",{className:"chart-container",children:[a.jsx(wd,{size:24}),a.jsx("p",{className:"chart-placeholder",children:"Bar Chart: Donation trends over time"})]})]}),a.jsxs("div",{className:"dashboard-card",children:[a.jsx("div",{className:"card-header",children:a.jsx("h2",{children:"Campaign Categories"})}),a.jsxs("div",{className:"chart-container",children:[a.jsx(Td,{size:24}),a.jsx("p",{className:"chart-placeholder",children:"Pie Chart: Campaign distribution by category"})]})]}),a.jsxs("div",{className:"dashboard-card",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("h2",{children:"User Growth"}),a.jsxs("select",{className:"time-select",children:[a.jsx("option",{value:"month",children:"Last 30 Days"}),a.jsx("option",{value:"quarter",children:"Last Quarter"}),a.jsx("option",{value:"year",children:"Last Year"})]})]}),a.jsxs("div",{className:"chart-container",children:[a.jsx(rR,{size:24}),a.jsx("p",{className:"chart-placeholder",children:"Line Chart: User growth over time"})]})]}),a.jsxs("div",{className:"dashboard-card recent-activity",children:[a.jsxs("div",{className:"card-header",children:[a.jsx("h2",{children:"Recent Activity"}),a.jsx("button",{className:"view-all",children:"View All"})]}),s?a.jsx("div",{className:"loading-spinner",children:"Loading..."}):a.jsx("ul",{className:"activity-list",children:n.map(c=>a.jsxs("li",{className:"activity-item",children:[o(c.type),a.jsxs("div",{className:"activity-content",children:[a.jsxs("p",{className:"activity-text",children:[c.type==="donation"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:c.user})," donated ",a.jsxs("strong",{children:["$",c.amount]})," to"," ",a.jsx("strong",{children:c.campaign})]}),c.type==="withdrawal"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:c.user})," requested withdrawal of ",a.jsxs("strong",{children:["$",c.amount]})," ","from ",a.jsx("strong",{children:c.campaign})]}),c.type==="new_campaign"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:c.user})," created a new campaign:"," ",a.jsx("strong",{children:c.campaign})]}),c.type==="new_user"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:c.user})," joined the platform"]}),c.type==="flagged"&&a.jsxs(a.Fragment,{children:[a.jsx("strong",{children:c.campaign})," was flagged for review"]})]}),a.jsx("span",{className:"activity-time",children:c.time})]})]},c.id))})]})]})]})})},Ep=({columns:t,data:e,loading:n,emptyMessage:r="No data available"})=>n?a.jsxs("div",{className:"admin-table-loading",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("p",{children:"Loading data..."})]}):!e||e.length===0?a.jsx("div",{className:"admin-table-empty",children:a.jsx("p",{children:r})}):a.jsx("div",{className:"admin-table-container",children:a.jsxs("table",{className:"admin-table",children:[a.jsx("thead",{children:a.jsx("tr",{children:t.map((s,i)=>a.jsx("th",{children:s.header},i))})}),a.jsx("tbody",{children:e.map((s,i)=>a.jsx("tr",{children:t.map((o,c)=>a.jsx("td",{children:o.cell?o.cell(s[o.accessor],s):s[o.accessor]},c))},i))})]})}),VR=()=>{const[t,e]=P.useState([]),[n,r]=P.useState([]),[s,i]=P.useState(!0),[o,c]=P.useState(""),[u,h]=P.useState("all"),[p,m]=P.useState(!1);P.useEffect(()=>{(async()=>{try{await new Promise(D=>setTimeout(D,800));const w=[{id:1,title:"Help in Disaster in Juba",creator:"John Doe",category:"Emergency",raised:12500,goal:25e3,status:"active",createdAt:"2023-05-15",endDate:"2023-07-15"},{id:2,title:"Displaced from Jambo",creator:"Sarah Smith",category:"Emergency",raised:8750,goal:15e3,status:"active",createdAt:"2023-06-01",endDate:"2023-08-01"},{id:3,title:"Education for Children",creator:"Michael Brown",category:"Education",raised:5200,goal:1e4,status:"pending",createdAt:"2023-06-10",endDate:"2023-09-10"},{id:4,title:"Community Garden Project",creator:"Emma Wilson",category:"Community",raised:3e3,goal:7500,status:"pending",createdAt:"2023-06-12",endDate:"2023-08-12"},{id:5,title:"Suspicious Campaign",creator:"Anonymous",category:"Medical",raised:500,goal:5e4,status:"flagged",createdAt:"2023-06-14",endDate:"2023-09-14"},{id:6,title:"Clean Water Initiative",creator:"David Johnson",category:"Social Impact",raised:15e3,goal:2e4,status:"active",createdAt:"2023-05-20",endDate:"2023-07-20"},{id:7,title:"Medical Support for Children",creator:"Lisa Chen",category:"Medical",raised:7500,goal:12e3,status:"rejected",createdAt:"2023-06-05",endDate:"2023-08-05"}];e(w),r(w),i(!1)}catch(w){console.error("Error fetching campaigns:",w),i(!1)}})()},[]),P.useEffect(()=>{const g=t.filter(w=>{const D=w.title.toLowerCase().includes(o.toLowerCase())||w.creator.toLowerCase().includes(o.toLowerCase())||w.category.toLowerCase().includes(o.toLowerCase()),F=u==="all"||w.status===u;return D&&F});r(g)},[o,u,t]);const y=g=>{c(g.target.value)},x=g=>{h(g)},A=g=>{e(w=>w.map(D=>D.id===g?{...D,status:"active"}:D))},N=g=>{e(w=>w.map(D=>D.id===g?{...D,status:"rejected"}:D))},S=g=>{e(w=>w.map(D=>D.id===g?{...D,status:"flagged"}:D))},v=[{header:"Title",accessor:"title"},{header:"Creator",accessor:"creator"},{header:"Category",accessor:"category"},{header:"Raised",accessor:"raised",cell:(g,w)=>`$${g.toLocaleString()} of $${w.goal.toLocaleString()}`},{header:"Progress",accessor:"progress",cell:(g,w)=>{const D=w.raised/w.goal*100;return a.jsxs("div",{className:"progress-bar-container",children:[a.jsx("div",{className:"progress-bar",style:{width:`${D}%`}}),a.jsxs("span",{children:[D.toFixed(0),"%"]})]})}},{header:"Status",accessor:"status",cell:g=>{let w="";switch(g){case"active":w="status-active";break;case"pending":w="status-pending";break;case"rejected":w="status-rejected";break;case"flagged":w="status-flagged";break;default:w=""}return a.jsx("span",{className:`status-badge ${w}`,children:g})}},{header:"Actions",accessor:"actions",cell:(g,w)=>a.jsxs("div",{className:"action-buttons",children:[a.jsx("button",{className:"action-button view",title:"View Details",children:a.jsx(zc,{size:16})}),w.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"action-button approve",title:"Approve Campaign",onClick:()=>A(w.id),children:a.jsx(yp,{size:16})}),a.jsx("button",{className:"action-button reject",title:"Reject Campaign",onClick:()=>N(w.id),children:a.jsx(fx,{size:16})})]}),w.status!=="flagged"&&w.status!=="rejected"&&a.jsx("button",{className:"action-button flag",title:"Flag Campaign",onClick:()=>S(w.id),children:a.jsx(_d,{size:16})})]})}];return a.jsx(ra,{children:a.jsxs("div",{className:"admin-campaigns",children:[a.jsxs("div",{className:"campaigns-header",children:[a.jsx("h1",{children:"Manage Campaigns"}),a.jsxs("div",{className:"campaigns-actions",children:[a.jsxs("div",{className:"search-container",children:[a.jsx(na,{size:18,className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search campaigns...",value:o,onChange:y,className:"search-input"})]}),a.jsxs("button",{className:"filter-button",onClick:()=>m(!p),children:[a.jsx($c,{size:18}),a.jsx("span",{children:"Filter"})]})]})]}),p&&a.jsx("div",{className:"filter-options",children:a.jsxs("div",{className:"filter-group",children:[a.jsx("h3",{children:"Status"}),a.jsxs("div",{className:"filter-buttons",children:[a.jsx("button",{className:`filter-option ${u==="all"?"active":""}`,onClick:()=>x("all"),children:"All"}),a.jsx("button",{className:`filter-option ${u==="active"?"active":""}`,onClick:()=>x("active"),children:"Active"}),a.jsx("button",{className:`filter-option ${u==="pending"?"active":""}`,onClick:()=>x("pending"),children:"Pending"}),a.jsx("button",{className:`filter-option ${u==="flagged"?"active":""}`,onClick:()=>x("flagged"),children:"Flagged"}),a.jsx("button",{className:`filter-option ${u==="rejected"?"active":""}`,onClick:()=>x("rejected"),children:"Rejected"})]})]})}),a.jsx(Ep,{columns:v,data:n,loading:s,emptyMessage:"No campaigns found"})]})})},MR=()=>{const[t,e]=P.useState([]),[n,r]=P.useState([]),[s,i]=P.useState(!0),[o,c]=P.useState(""),[u,h]=P.useState("all"),[p,m]=P.useState(!1);P.useEffect(()=>{(async()=>{try{await new Promise(w=>setTimeout(w,800));const g=[{id:1,name:"John Doe",email:"john.doe@example.com",role:"user",status:"active",campaigns:2,donations:5,joinedAt:"2023-01-15"},{id:2,name:"Sarah Smith",email:"sarah.smith@example.com",role:"user",status:"active",campaigns:1,donations:12,joinedAt:"2023-02-20"},{id:3,name:"Michael Brown",email:"michael.brown@example.com",role:"user",status:"active",campaigns:3,donations:0,joinedAt:"2023-03-10"},{id:4,name:"Emma Wilson",email:"emma.wilson@example.com",role:"user",status:"active",campaigns:1,donations:8,joinedAt:"2023-04-05"},{id:5,name:"David Johnson",email:"david.johnson@example.com",role:"admin",status:"active",campaigns:0,donations:15,joinedAt:"2022-12-01"},{id:6,name:"Lisa Chen",email:"lisa.chen@example.com",role:"user",status:"blocked",campaigns:4,donations:2,joinedAt:"2023-01-30"},{id:7,name:"Robert Miller",email:"robert.miller@example.com",role:"user",status:"blocked",campaigns:1,donations:0,joinedAt:"2023-02-15"}];e(g),r(g),i(!1)}catch(g){console.error("Error fetching users:",g),i(!1)}})()},[]),P.useEffect(()=>{const v=t.filter(g=>{const w=g.name.toLowerCase().includes(o.toLowerCase())||g.email.toLowerCase().includes(o.toLowerCase()),D=u==="all"||g.status===u;return w&&D});r(v)},[o,u,t]);const y=v=>{c(v.target.value)},x=v=>{h(v)},A=v=>{e(g=>g.map(w=>w.id===v?{...w,status:"blocked"}:w))},N=v=>{e(g=>g.map(w=>w.id===v?{...w,status:"active"}:w))},S=[{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Role",accessor:"role",cell:v=>a.jsx("span",{className:`role-badge ${v==="admin"?"role-admin":"role-user"}`,children:v})},{header:"Campaigns",accessor:"campaigns"},{header:"Donations",accessor:"donations"},{header:"Joined",accessor:"joinedAt",cell:v=>new Date(v).toLocaleDateString()},{header:"Status",accessor:"status",cell:v=>{let g=v==="active"?"status-active":"status-blocked";return a.jsx("span",{className:`status-badge ${g}`,children:v})}},{header:"Actions",accessor:"actions",cell:(v,g)=>a.jsxs("div",{className:"action-buttons",children:[a.jsx("button",{className:"action-button view",title:"View Details",children:a.jsx(zc,{size:16})}),g.status==="active"?a.jsx("button",{className:"action-button block",title:"Block User",onClick:()=>A(g.id),children:a.jsx(sR,{size:16})}):a.jsx("button",{className:"action-button unblock",title:"Unblock User",onClick:()=>N(g.id),children:a.jsx(dR,{size:16})}),a.jsx("button",{className:"action-button delete",title:"Delete User",children:a.jsx(fR,{size:16})})]})}];return a.jsx(ra,{children:a.jsxs("div",{className:"admin-users",children:[a.jsxs("div",{className:"users-header",children:[a.jsx("h1",{children:"Manage Users"}),a.jsxs("div",{className:"users-actions",children:[a.jsxs("div",{className:"search-container",children:[a.jsx(na,{size:18,className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:o,onChange:y,className:"search-input"})]}),a.jsxs("button",{className:"filter-button",onClick:()=>m(!p),children:[a.jsx($c,{size:18}),a.jsx("span",{children:"Filter"})]})]})]}),p&&a.jsx("div",{className:"filter-options",children:a.jsxs("div",{className:"filter-group",children:[a.jsx("h3",{children:"Status"}),a.jsxs("div",{className:"filter-buttons",children:[a.jsx("button",{className:`filter-option ${u==="all"?"active":""}`,onClick:()=>x("all"),children:"All"}),a.jsx("button",{className:`filter-option ${u==="active"?"active":""}`,onClick:()=>x("active"),children:"Active"}),a.jsx("button",{className:`filter-option ${u==="blocked"?"active":""}`,onClick:()=>x("blocked"),children:"Blocked"})]})]})}),a.jsx(Ep,{columns:S,data:n,loading:s,emptyMessage:"No users found"})]})})},FR=()=>{const[t,e]=P.useState("financial"),[n,r]=P.useState("week"),[s,i]=P.useState("pdf"),[o,c]=P.useState(!1),u=()=>{c(!0),setTimeout(()=>{c(!1),alert(`${t.charAt(0).toUpperCase()+t.slice(1)} report for the last ${n} generated in ${s.toUpperCase()} format`)},1500)};return a.jsx(ra,{children:a.jsxs("div",{className:"admin-reports",children:[a.jsx("h1",{children:"Reports Generation"}),a.jsxs("div",{className:"reports-container",children:[a.jsxs("div",{className:"report-options",children:[a.jsxs("div",{className:"option-group",children:[a.jsx("h2",{children:"Report Type"}),a.jsxs("div",{className:"report-types",children:[a.jsxs("div",{className:`report-type ${t==="financial"?"active":""}`,onClick:()=>e("financial"),children:[a.jsx(wd,{size:24}),a.jsx("h3",{children:"Financial Report"}),a.jsx("p",{children:"Donations, withdrawals, and platform fees"})]}),a.jsxs("div",{className:`report-type ${t==="campaign"?"active":""}`,onClick:()=>e("campaign"),children:[a.jsx(Td,{size:24}),a.jsx("h3",{children:"Campaign Report"}),a.jsx("p",{children:"Campaign performance and statistics"})]}),a.jsxs("div",{className:`report-type ${t==="user"?"active":""}`,onClick:()=>e("user"),children:[a.jsx(hy,{size:24}),a.jsx("h3",{children:"User Activity Report"}),a.jsx("p",{children:"User registrations and engagement"})]})]})]}),a.jsxs("div",{className:"option-group",children:[a.jsx("h2",{children:"Time Period"}),a.jsxs("div",{className:"date-range-options",children:[a.jsx("button",{className:`date-range-option ${n==="day"?"active":""}`,onClick:()=>r("day"),children:"Today"}),a.jsx("button",{className:`date-range-option ${n==="week"?"active":""}`,onClick:()=>r("week"),children:"This Week"}),a.jsx("button",{className:`date-range-option ${n==="month"?"active":""}`,onClick:()=>r("month"),children:"This Month"}),a.jsx("button",{className:`date-range-option ${n==="quarter"?"active":""}`,onClick:()=>r("quarter"),children:"This Quarter"}),a.jsx("button",{className:`date-range-option ${n==="year"?"active":""}`,onClick:()=>r("year"),children:"This Year"}),a.jsx("button",{className:`date-range-option ${n==="custom"?"active":""}`,onClick:()=>r("custom"),children:"Custom Range"})]}),n==="custom"&&a.jsxs("div",{className:"custom-date-range",children:[a.jsxs("div",{className:"date-input-group",children:[a.jsx("label",{children:"Start Date"}),a.jsxs("div",{className:"date-input",children:[a.jsx(ns,{size:16}),a.jsx("input",{type:"date"})]})]}),a.jsxs("div",{className:"date-input-group",children:[a.jsx("label",{children:"End Date"}),a.jsxs("div",{className:"date-input",children:[a.jsx(ns,{size:16}),a.jsx("input",{type:"date"})]})]})]})]}),a.jsxs("div",{className:"option-group",children:[a.jsx("h2",{children:"Format"}),a.jsxs("div",{className:"format-options",children:[a.jsxs("button",{className:`format-option ${s==="pdf"?"active":""}`,onClick:()=>i("pdf"),children:[a.jsx(Wr,{size:20}),a.jsx("span",{children:"PDF"})]}),a.jsxs("button",{className:`format-option ${s==="excel"?"active":""}`,onClick:()=>i("excel"),children:[a.jsx(Wr,{size:20}),a.jsx("span",{children:"Excel"})]}),a.jsxs("button",{className:`format-option ${s==="csv"?"active":""}`,onClick:()=>i("csv"),children:[a.jsx(Wr,{size:20}),a.jsx("span",{children:"CSV"})]})]})]}),a.jsx("button",{className:"generate-report-button",onClick:u,disabled:o,children:o?"Generating...":a.jsxs(a.Fragment,{children:[a.jsx(JP,{size:18}),a.jsx("span",{children:"Generate Report"})]})})]}),a.jsxs("div",{className:"report-preview",children:[a.jsx("div",{className:"preview-header",children:a.jsx("h2",{children:"Report Preview"})}),a.jsx("div",{className:"preview-content",children:a.jsxs("div",{className:"preview-placeholder",children:[t==="financial"&&a.jsxs("div",{className:"financial-preview",children:[a.jsx("h3",{children:"Financial Report Preview"}),a.jsxs("p",{children:["Time Period: ",n==="custom"?"Custom Range":`This ${n}`]}),a.jsxs("div",{className:"preview-chart",children:[a.jsx(wd,{size:32}),a.jsx("p",{children:"Financial data visualization would appear here"})]}),a.jsxs("div",{className:"preview-data",children:[a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Total Donations:"}),a.jsx("span",{children:"$45,250"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Total Withdrawals:"}),a.jsx("span",{children:"$32,100"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Platform Fees:"}),a.jsx("span",{children:"$2,262.50"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Net Revenue:"}),a.jsx("span",{children:"$10,887.50"})]})]})]}),t==="campaign"&&a.jsxs("div",{className:"campaign-preview",children:[a.jsx("h3",{children:"Campaign Report Preview"}),a.jsxs("p",{children:["Time Period: ",n==="custom"?"Custom Range":`This ${n}`]}),a.jsxs("div",{className:"preview-chart",children:[a.jsx(Td,{size:32}),a.jsx("p",{children:"Campaign data visualization would appear here"})]}),a.jsxs("div",{className:"preview-data",children:[a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Total Campaigns:"}),a.jsx("span",{children:"48"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"New Campaigns:"}),a.jsx("span",{children:"12"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Successful Campaigns:"}),a.jsx("span",{children:"18"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Average Success Rate:"}),a.jsx("span",{children:"37.5%"})]})]})]}),t==="user"&&a.jsxs("div",{className:"user-preview",children:[a.jsx("h3",{children:"User Activity Report Preview"}),a.jsxs("p",{children:["Time Period: ",n==="custom"?"Custom Range":`This ${n}`]}),a.jsxs("div",{className:"preview-chart",children:[a.jsx(hy,{size:32}),a.jsx("p",{children:"User activity visualization would appear here"})]}),a.jsxs("div",{className:"preview-data",children:[a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Total Users:"}),a.jsx("span",{children:"1,243"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"New Registrations:"}),a.jsx("span",{children:"87"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Active Users:"}),a.jsx("span",{children:"856"})]}),a.jsxs("div",{className:"data-row",children:[a.jsx("span",{children:"Engagement Rate:"}),a.jsx("span",{children:"68.9%"})]})]})]})]})})]})]})]})})},UR=()=>{const[t,e]=P.useState([]),[n,r]=P.useState([]),[s,i]=P.useState(!0),[o,c]=P.useState(""),[u,h]=P.useState("all"),[p,m]=P.useState(!1);P.useEffect(()=>{(async()=>{try{await new Promise(w=>setTimeout(w,800));const g=[{id:1,campaignTitle:"Help in Disaster in Juba",requester:"John Doe",amount:5e3,requestDate:"2023-06-15",status:"pending",paymentMethod:"Bank Transfer",accountDetails:"XXXX-XXXX-1234"},{id:2,campaignTitle:"Displaced from Jambo",requester:"Sarah Smith",amount:3500,requestDate:"2023-06-14",status:"approved",paymentMethod:"PayPal",accountDetails:"sarah.smith@example.com"},{id:3,campaignTitle:"Education for Children",requester:"Michael Brown",amount:2e3,requestDate:"2023-06-13",status:"pending",paymentMethod:"Bank Transfer",accountDetails:"XXXX-XXXX-5678"},{id:4,campaignTitle:"Community Garden Project",requester:"Emma Wilson",amount:1500,requestDate:"2023-06-12",status:"rejected",paymentMethod:"Mobile Money",accountDetails:"+1234567890"},{id:5,campaignTitle:"Clean Water Initiative",requester:"David Johnson",amount:7500,requestDate:"2023-06-10",status:"approved",paymentMethod:"Bank Transfer",accountDetails:"XXXX-XXXX-9012"},{id:6,campaignTitle:"Medical Support for Children",requester:"Lisa Chen",amount:4e3,requestDate:"2023-06-08",status:"pending",paymentMethod:"PayPal",accountDetails:"lisa.chen@example.com"}];e(g),r(g),i(!1)}catch(g){console.error("Error fetching withdrawals:",g),i(!1)}})()},[]),P.useEffect(()=>{const v=t.filter(g=>{const w=g.campaignTitle.toLowerCase().includes(o.toLowerCase())||g.requester.toLowerCase().includes(o.toLowerCase()),D=u==="all"||g.status===u;return w&&D});r(v)},[o,u,t]);const y=v=>{c(v.target.value)},x=v=>{h(v)},A=v=>{e(g=>g.map(w=>w.id===v?{...w,status:"approved"}:w))},N=v=>{e(g=>g.map(w=>w.id===v?{...w,status:"rejected"}:w))},S=[{header:"Campaign",accessor:"campaignTitle"},{header:"Requester",accessor:"requester"},{header:"Amount",accessor:"amount",cell:v=>`$${v.toLocaleString()}`},{header:"Request Date",accessor:"requestDate",cell:v=>new Date(v).toLocaleDateString()},{header:"Payment Method",accessor:"paymentMethod"},{header:"Status",accessor:"status",cell:v=>{let g="";switch(v){case"approved":g="status-approved";break;case"pending":g="status-pending";break;case"rejected":g="status-rejected";break;default:g=""}return a.jsx("span",{className:`status-badge ${g}`,children:v})}},{header:"Actions",accessor:"actions",cell:(v,g)=>a.jsxs("div",{className:"action-buttons",children:[a.jsx("button",{className:"action-button view",title:"View Details",children:a.jsx(zc,{size:16})}),g.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"action-button approve",title:"Approve Withdrawal",onClick:()=>A(g.id),children:a.jsx(yp,{size:16})}),a.jsx("button",{className:"action-button reject",title:"Reject Withdrawal",onClick:()=>N(g.id),children:a.jsx(fx,{size:16})})]})]})}];return a.jsx(ra,{children:a.jsxs("div",{className:"admin-withdrawals",children:[a.jsxs("div",{className:"withdrawals-header",children:[a.jsx("h1",{children:"Withdrawal Requests"}),a.jsxs("div",{className:"withdrawals-actions",children:[a.jsxs("div",{className:"search-container",children:[a.jsx(na,{size:18,className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search withdrawals...",value:o,onChange:y,className:"search-input"})]}),a.jsxs("button",{className:"filter-button",onClick:()=>m(!p),children:[a.jsx($c,{size:18}),a.jsx("span",{children:"Filter"})]})]})]}),p&&a.jsx("div",{className:"filter-options",children:a.jsxs("div",{className:"filter-group",children:[a.jsx("h3",{children:"Status"}),a.jsxs("div",{className:"filter-buttons",children:[a.jsx("button",{className:`filter-option ${u==="all"?"active":""}`,onClick:()=>x("all"),children:"All"}),a.jsx("button",{className:`filter-option ${u==="pending"?"active":""}`,onClick:()=>x("pending"),children:"Pending"}),a.jsx("button",{className:`filter-option ${u==="approved"?"active":""}`,onClick:()=>x("approved"),children:"Approved"}),a.jsx("button",{className:`filter-option ${u==="rejected"?"active":""}`,onClick:()=>x("rejected"),children:"Rejected"})]})]})}),a.jsxs("div",{className:"withdrawal-summary",children:[a.jsxs("div",{className:"summary-card pending",children:[a.jsx("h3",{children:"Pending"}),a.jsxs("p",{className:"amount",children:["$",t.filter(v=>v.status==="pending").reduce((v,g)=>v+g.amount,0).toLocaleString()]}),a.jsxs("p",{className:"count",children:[t.filter(v=>v.status==="pending").length," requests"]})]}),a.jsxs("div",{className:"summary-card approved",children:[a.jsx("h3",{children:"Approved"}),a.jsxs("p",{className:"amount",children:["$",t.filter(v=>v.status==="approved").reduce((v,g)=>v+g.amount,0).toLocaleString()]}),a.jsxs("p",{className:"count",children:[t.filter(v=>v.status==="approved").length," requests"]})]}),a.jsxs("div",{className:"summary-card rejected",children:[a.jsx("h3",{children:"Rejected"}),a.jsxs("p",{className:"amount",children:["$",t.filter(v=>v.status==="rejected").reduce((v,g)=>v+g.amount,0).toLocaleString()]}),a.jsxs("p",{className:"count",children:[t.filter(v=>v.status==="rejected").length," requests"]})]})]}),a.jsx(Ep,{columns:S,data:n,loading:s,emptyMessage:"No withdrawal requests found"})]})})},Mi=({children:t})=>{const{currentUser:e,loading:n}=mi();return n?a.jsx("div",{className:"loading-screen",children:"Loading..."}):e?t:a.jsx(Hh,{to:"/login",replace:!0})},Fi=({children:t})=>{const{currentUser:e,loading:n}=mi();return n?a.jsx("div",{className:"loading-screen",children:"Loading..."}):(console.log("AdminRoute - Current User:",e),e?e.role!=="admin"?(console.log("User is not an admin, redirecting to home"),a.jsx(Hh,{to:"/",replace:!0})):(console.log("Admin access granted"),t):(console.log("No user logged in, redirecting to login"),a.jsx(Hh,{to:"/login",replace:!0})))};function zR(){return a.jsx(WP,{children:a.jsx(qP,{children:a.jsx(mR,{children:a.jsx(wS,{children:a.jsxs(fS,{children:[a.jsx(ke,{path:"/",element:a.jsx(yR,{})}),a.jsx(ke,{path:"/login",element:a.jsx(_R,{})}),a.jsx(ke,{path:"/signup",element:a.jsx(wR,{})}),a.jsx(ke,{path:"/reset-password",element:a.jsx(CR,{})}),a.jsx(ke,{path:"/reset-success",element:a.jsx(kR,{})}),a.jsx(ke,{path:"/about",element:a.jsx(PR,{})}),a.jsx(ke,{path:"/contact",element:a.jsx(RR,{})}),a.jsx(ke,{path:"/campaigns",element:a.jsx(AR,{})})," ",a.jsx(ke,{path:"/campaign/:id",element:a.jsx(NR,{})}),a.jsx(ke,{path:"/create-campaign",element:a.jsx(Mi,{children:a.jsx(xR,{})})}),a.jsx(ke,{path:"/success",element:a.jsx(Mi,{children:a.jsx(TR,{})})}),a.jsx(ke,{path:"/payment-method",element:a.jsx(Mi,{children:a.jsx(IR,{})})}),a.jsx(ke,{path:"/payment-success",element:a.jsx(Mi,{children:a.jsx(SR,{})})}),a.jsx(ke,{path:"/dashboard",element:a.jsx(Mi,{children:a.jsx(jR,{})})}),a.jsx(ke,{path:"/admin",element:a.jsx(Fi,{children:a.jsx(LR,{})})}),a.jsx(ke,{path:"/admin/campaigns",element:a.jsx(Fi,{children:a.jsx(VR,{})})}),a.jsx(ke,{path:"/admin/users",element:a.jsx(Fi,{children:a.jsx(MR,{})})}),a.jsx(ke,{path:"/admin/reports",element:a.jsx(Fi,{children:a.jsx(FR,{})})}),a.jsx(ke,{path:"/admin/withdrawals",element:a.jsx(Fi,{children:a.jsx(UR,{})})}),a.jsx(ke,{path:"*",element:a.jsx(bR,{})})]})})})})})}Ju.createRoot(document.getElementById("root")).render(a.jsx(Ty.StrictMode,{children:a.jsx(zR,{})}));
